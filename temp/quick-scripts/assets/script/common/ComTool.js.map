{"version":3,"sources":["ComTool.js"],"names":["app","require","ComTool","BaseClass","extend","Init","JS_Name","Log","GetImagePathByType","imageType","userData","ErrLog","GetPid","pid","serverID","Math","floor","playerID","join","IsAndroidWeChatBrowser","cc","sys","os","browserType","BROWSER_TYPE_MOBILE_QQ","BROWSER_TYPE_WECHAT","IsWeChatBrowser","GetBeiZhu","getServer","BeiZhuJson","localStorage","getItem","self","NetManager","SendPack","event","array","length","i","push","remarkID","remarkName","SetBeiZhu","JSON","parse","setItem","stringify","UpdateBeiZhu","name","change","id","GetBeiZhuID","GetBeiZhuName","GetNameByIndex","IsIOS","OS_IOS","IsIpad","isNative","platform","IPAD","IsAndroid","OS_ANDROID","IsWindows","OS_WINDOWS","DeleteListRepeat","targetList","returnList","findDict","prefix","count","index","value","TowListIntersect","aList","bList","aCount","InArray","TowListSubtraction","TowListUnion","concat","ListSample","choiceCount","tempList","slice","random","splice","ListChoice","ListMaxNum","max","apply","ListMinNum","min","StringAddNumSuffix","targetString","num","suffixLen","numString","numLen","Array","StringReplace","argList","formatStr","argumentsLen","replace","RegExp","StringLeftTrim","StringRightTrim","StringTrim","DeepCopy","target","GetDiskRandValue","curIDList","curRateList","maxRate","rate","listLength","oddsNum","RandInt","sortList","map","sort","rateValue","start","end","Range","step","len","GetPrintDictStr","curDict","tabNum","key","classType","outEx","arg","outstr","Object","prototype","toString","call","hasOwnProperty","constructor","e","GetTabStr","OutPutClassProperty","obj","propertyDict","property","GetDayDiffByTick","tick_1","tick_2","dateTime_1","dateTime_2","Date","getMonth","getDate","getFullYear","abs","message","GetDateYearMonthDayHourMinuteString","time","date","year","month","day","hours","getHours","minutes","getMinutes","seconds","getSeconds","GetDateYearMonthDayString","GetDateHourMinuteString","GetDateDayString","week","getDay","GetNowDateDayStr","myDate","GetNowDateDayStr2","GetNowDateMonthString","GetNowDateTimeStr","hour","second","dateString","StrIsNum","str","reg","pattern","test","StrIsNumInt","substr","GetIDByIndex","GetStringByteLength","text","b","charCodeAt","g_ComTool","exports","GetModel"],"mappings":";;;;;;AAAA;;;;;;;;;;;;AAYA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEA,IAAIC,UAAUF,IAAIG,SAAJ,CAAcC,MAAd,CAAqB;;AAE/B;;;AAGAC,UAAK,gBAAU;AACX,aAAKC,OAAL,GAAe,SAAf;;AAEA,aAAKC,GAAL,CAAS,MAAT;AACH,KAT8B;;AAW/B;;AAEA;AACAC,wBAAmB,4BAASC,SAAT,EAAoBC,QAApB,EAA6B;;AAE5C,YAAGD,aAAa,YAAhB,EAA6B;AACzB,mBAAO,yBAAP;AACH,SAFD,MAGE,IAAGA,aAAa,YAAhB,EAA6B;AACjC,mBAAO,0BAAP;AACA,SAFI,MAGE;AACA,iBAAKE,MAAL,CAAY,iCAAZ,EAA+CF,SAA/C,EAA0DC,QAA1D;AACA;AACH;AACJ,KA1B8B;;AA4BlC;AACAE,YAAO,gBAASC,GAAT,EAAa;AACnB,YAAIC,WAAWC,KAAKC,KAAL,CAAWH,MAAI,YAAf,CAAf;AACA,YAAG,CAACC,QAAJ,EAAa;AACZ,mBAAOD,GAAP;AACA;AACD,YAAII,WAAWJ,MAAMC,WAAS,YAA9B;AACA,eAAOC,KAAKC,KAAL,CAAW,CAACF,QAAD,EAAWG,QAAX,EAAqBC,IAArB,CAA0B,EAA1B,CAAX,CAAP;AACA,KApCiC;AAqClC;AACA;AACAC,4BAAuB,kCAAU;;AAEhC,YAAGC,GAAGC,GAAH,CAAOC,EAAP,IAAa,SAAhB,EAA0B;AACzB,mBAAO,KAAP;AACA;AACD,YAAIC,cAAcH,GAAGC,GAAH,CAAOE,WAAzB;;AAEA;AACA,YAAGA,eAAeH,GAAGC,GAAH,CAAOG,sBAAzB,EAAgD;AAC/C,mBAAO,IAAP;AACA;AACD;AAHA,aAIK,IAAGD,eAAeH,GAAGC,GAAH,CAAOI,mBAAzB,EAA6C;AACjD,uBAAO,IAAP;AACA;;AAED,eAAO,KAAP;AACA,KAxDiC;;AA0DlC;AACAC,qBAAgB,2BAAU;;AAEzB,YAAIH,cAAcH,GAAGC,GAAH,CAAOE,WAAzB;;AAEA;AACA,YAAGA,eAAeH,GAAGC,GAAH,CAAOG,sBAAzB,EAAgD;AAC/C,mBAAO,IAAP;AACA;AACD;AAHA,aAIK,IAAGD,eAAeH,GAAGC,GAAH,CAAOI,mBAAzB,EAA6C;AACjD,uBAAO,IAAP;AACA;;AAED,eAAO,KAAP;AACA,KAzEiC;AA0E/BE,eAAU,qBAAyB;AAAA,YAAhBC,SAAgB,uEAAN,KAAM;;AAC/B,YAAIC,aAAWT,GAAGC,GAAH,CAAOS,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAf;AACA,YAAIF,cAAc,IAAd,IAAsB,OAAOA,UAAP,IAAsB,WAAhD,EAA6D;AACzD,gBAAGD,aAAW,KAAd,EAAoB;AAChB,uBAAO,EAAP;AACH;AACF;AACA,gBAAII,OAAK,IAAT;AACAhC,gBAAIiC,UAAJ,GAAiBC,QAAjB,CAA0B,+BAA1B,EAA0D,EAA1D,EAA6D,UAASC,KAAT,EAAe;AACvE,oBAAIC,QAAM,EAAV;AACA,oBAAGD,MAAME,MAAN,GAAe,CAAlB,EAAoB;AAChB,yBAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEH,MAAME,MAApB,EAA2BC,GAA3B,EAA+B;AAC3BF,8BAAMG,IAAN,CAAW,EAAC,MAAKJ,MAAMG,CAAN,EAASE,QAAf,EAAwB,QAAOL,MAAMG,CAAN,EAASG,UAAxC,EAAX;AACH;AACJ;AACDT,qBAAKU,SAAL,CAAeN,KAAf;AACJ,aARD,EAQG,YAAU;AACRJ,qBAAKU,SAAL,CAAe,EAAf;AACJ,aAVD;AAWF,SAjBD,MAiBK;AACD1C,gBAAI,QAAJ,IAAc2C,KAAKC,KAAL,CAAWf,UAAX,CAAd;AACA,mBAAOc,KAAKC,KAAL,CAAWf,UAAX,CAAP;AACH;AACJ,KAjG8B;AAkG/Ba,eAAU,mBAASN,KAAT,EAAe;AACrBpC,YAAI,QAAJ,IAAcoC,KAAd;AACAhB,WAAGC,GAAH,CAAOS,YAAP,CAAoBe,OAApB,CAA4B,YAA5B,EAAyCF,KAAKG,SAAL,CAAeV,KAAf,CAAzC;AACH,KArG8B;AAsG/BW,kBAAa,sBAASlC,GAAT,EAAamC,IAAb,EAAkB;AAC3B,YAAIZ,QAAM,KAAKT,SAAL,EAAV;AACA,YAAIsB,SAAO,KAAX;AACA,aAAI,IAAIX,IAAE,CAAV,EAAYA,IAAEF,MAAMC,MAApB,EAA2BC,GAA3B,EAA+B;AAC3B,gBAAGF,MAAME,CAAN,EAASY,EAAT,IAAarC,GAAhB,EAAoB;AAChBuB,sBAAME,CAAN,EAASU,IAAT,GAAcA,IAAd;AACAC,yBAAO,IAAP;AACA;AACH;AACJ;AACD,YAAGA,UAAQ,KAAX,EAAiB;AACbb,kBAAMG,IAAN,CAAW,EAAC,MAAK1B,GAAN,EAAU,QAAOmC,IAAjB,EAAX;AACH;AACD,aAAKN,SAAL,CAAeN,KAAf;AACH,KApH8B;AAqH/Be,iBAAY,qBAASH,IAAT,EAAc;AACtB,YAAGA,QAAM,EAAT,EAAY;AACR,mBAAO,EAAP;AACH;AACD,YAAG,OAAOhD,IAAI,QAAJ,CAAP,IAAuB,WAA1B,EAAsC;AAClC,iBAAI,IAAIsC,IAAE,CAAV,EAAYA,IAAEtC,IAAI,QAAJ,EAAcqC,MAA5B,EAAmCC,GAAnC,EAAuC;AACnC,oBAAGtC,IAAI,QAAJ,EAAcsC,CAAd,EAAiBU,IAAjB,IAAuBA,IAA1B,EAA+B;AAC3B,2BAAOhD,IAAI,QAAJ,EAAcsC,CAAd,EAAiBY,EAAxB;AACH;AACJ;AACJ;AACD,eAAOF,IAAP;AACH,KAjI8B;AAkI/BI,mBAAc,uBAASvC,GAAT,EAAamC,IAAb,EAA2B;AAAA,YAATX,MAAS,uEAAF,CAAE;;AACrC,YAAG,OAAOrC,IAAI,QAAJ,CAAP,IAAuB,WAA1B,EAAsC;AAClC,iBAAI,IAAIsC,IAAE,CAAV,EAAYA,IAAEtC,IAAI,QAAJ,EAAcqC,MAA5B,EAAmCC,GAAnC,EAAuC;AACnC,oBAAGtC,IAAI,QAAJ,EAAcsC,CAAd,EAAiBY,EAAjB,IAAqBrC,GAAxB,EAA4B;AACxB,2BAAOb,IAAI,QAAJ,EAAcsC,CAAd,EAAiBU,IAAxB;AACH;AACJ;AACD,mBAAO,KAAKK,cAAL,CAAoBL,IAApB,EAAyBX,MAAzB,CAAP;AACH;AACD,aAAKV,SAAL;AACA,eAAO,KAAK0B,cAAL,CAAoBL,IAApB,EAAyBX,MAAzB,CAAP;AACH,KA7I8B;AA8IlC;;;;AAIAiB,WAAM,iBAAU;AACf,YAAI/B,cAAcH,GAAGC,GAAH,CAAOE,WAAzB;AACA,YAAGA,WAAH,EAAe;AACd,mBAAO,KAAP;AACA;AACD,eAAOH,GAAGC,GAAH,CAAOC,EAAP,IAAaF,GAAGC,GAAH,CAAOkC,MAA3B;AACA,KAxJiC;;AA0J/BC,YAAQ,kBAAY;AAChB,YAAIjC,cAAcH,GAAGC,GAAH,CAAOE,WAAzB;AACA,YAAIA,WAAJ,EAAiB;AACb,mBAAO,KAAP;AACH;AACD,eAAOH,GAAGC,GAAH,CAAOoC,QAAP,IAAmBrC,GAAGC,GAAH,CAAOqC,QAAP,IAAmBtC,GAAGC,GAAH,CAAOsC,IAApD;AACH,KAhK8B;;AAkKlC;AACAC,eAAU,qBAAU;AACnB,YAAIrC,cAAcH,GAAGC,GAAH,CAAOE,WAAzB;AACA,YAAGA,WAAH,EAAe;AACd,mBAAO,KAAP;AACA;AACD,eAAOH,GAAGC,GAAH,CAAOC,EAAP,IAAaF,GAAGC,GAAH,CAAOwC,UAA3B;AACA,KAzKiC;;AA2KlC;AACAC,eAAU,qBAAU;AACnB,YAAIvC,cAAcH,GAAGC,GAAH,CAAOE,WAAzB;AACA,YAAGA,WAAH,EAAe;AACd,mBAAO,KAAP;AACA;AACD,eAAOH,GAAGC,GAAH,CAAOC,EAAP,IAAaF,GAAGC,GAAH,CAAO0C,UAA3B;AACA,KAlLiC;AAmL/B;;AAEA;AACAC,sBAAiB,0BAASC,UAAT,EAAoB;AACjC,YAAIC,aAAa,EAAjB;AACA,YAAIC,WAAW,EAAf;AACA,YAAIC,SAAS,EAAb;;AAEA,YAAIC,QAAQJ,WAAW5B,MAAvB;AACA,aAAI,IAAIiC,QAAQ,CAAhB,EAAmBA,QAAQD,KAA3B,EAAkCC,OAAlC,EAA0C;AACtC,gBAAIC,QAAQN,WAAWK,KAAX,CAAZ;;AAEA;AACA,gBAAG,OAAOC,KAAP,IAAgB,QAAnB,EAA4B;AACxBH,yBAAS,MAAT;AACH,aAFD,MAGI;AACAA,yBAAS,EAAT;AACH;AACDA,sBAAUG,KAAV;AACA,gBAAG,CAACJ,SAASC,MAAT,CAAJ,EAAqB;AACjBF,2BAAW3B,IAAX,CAAgBgC,KAAhB;AACAJ,yBAASC,MAAT,IAAmB,CAAnB;AACH;AACJ;AACD,eAAOF,UAAP;AACH,KA7M8B;;AA+M/B;AACAM,sBAAiB,0BAASC,KAAT,EAAgBC,KAAhB,EAAsB;AACnC,YAAIR,aAAa,EAAjB;AACA,YAAIS,SAASF,MAAMpC,MAAnB;;AAEA,aAAI,IAAIiC,QAAQ,CAAhB,EAAmBA,QAAQK,MAA3B,EAAmCL,OAAnC,EAA2C;AACvC,gBAAIC,QAAQE,MAAMH,KAAN,CAAZ;AACA,gBAAII,MAAME,OAAN,CAAcL,KAAd,CAAJ,EAAyB;AACrBL,2BAAW3B,IAAX,CAAgBgC,KAAhB;AACH;AACJ;AACD,eAAOL,UAAP;AACH,KA3N8B;;AA6N/B;AACAW,wBAAmB,4BAASJ,KAAT,EAAgBC,KAAhB,EAAsB;AACrC,YAAIR,aAAa,EAAjB;AACA,YAAIS,SAASF,MAAMpC,MAAnB;;AAEA,aAAI,IAAIiC,QAAQ,CAAhB,EAAmBA,QAAQK,MAA3B,EAAmCL,OAAnC,EAA2C;;AAEvC,gBAAIC,QAAQE,MAAMH,KAAN,CAAZ;AACA,gBAAI,CAACI,MAAME,OAAN,CAAcL,KAAd,CAAL,EAA0B;AACtBL,2BAAW3B,IAAX,CAAgBgC,KAAhB;AACH;AACJ;AACD,eAAOL,UAAP;AACH,KA1O8B;;AA4O/B;AACAY,kBAAa,sBAASL,KAAT,EAAgBC,KAAhB,EAAsB;AAC/B,YAAIR,aAAaO,MAAMM,MAAN,CAAaL,KAAb,CAAjB;AACA,eAAO,KAAKV,gBAAL,CAAsBE,UAAtB,CAAP;AACH,KAhP8B;;AAmP/B;AACAc,gBAAW,oBAASf,UAAT,EAAqBgB,WAArB,EAAiC;AACxC,YAAIf,aAAa,EAAjB;;AAEA;AACA,YAAIgB,WAAWjB,WAAWkB,KAAX,EAAf;AACA,YAAI9C,SAAS6C,SAAS7C,MAAtB;;AAEA;AACA,YAAGA,UAAU4C,WAAb,EAAyB;AACrB,mBAAOC,QAAP;AACH;;AAED,aAAI,IAAI5C,IAAE,CAAV,EAAaA,IAAE2C,WAAf,EAA4B3C,GAA5B,EAAgC;AAC5B,gBAAIgC,QAAQvD,KAAKC,KAAL,CAAWD,KAAKqE,MAAL,MAAe/C,SAAOC,CAAtB,CAAX,CAAZ;AACA4B,uBAAW3B,IAAX,CAAgB2C,SAASZ,KAAT,CAAhB;AACAY,qBAASG,MAAT,CAAgBf,KAAhB,EAAuB,CAAvB;AACH;AACD,eAAOJ,UAAP;AACH,KAtQ8B;;AAwQ/B;AACAoB,gBAAW,oBAASrB,UAAT,EAAoB;AAC3B,YAAI5B,SAAS4B,WAAW5B,MAAxB;AACA,YAAGA,SAAS,CAAZ,EAAc;AACV,mBAAO,IAAP;AACH;AACD,eAAO4B,WAAWlD,KAAKC,KAAL,CAAWD,KAAKqE,MAAL,KAAe/C,MAA1B,CAAX,CAAP;AACH,KA/Q8B;;AAiR/B;AACAkD,gBAAW,oBAAStB,UAAT,EAAoB;AAC3B,eAAOlD,KAAKyE,GAAL,CAASC,KAAT,CAAe,IAAf,EAAqBxB,UAArB,CAAP;AACH,KApR8B;;AAsR/B;AACAyB,gBAAW,oBAASzB,UAAT,EAAoB;AAC3B,eAAOlD,KAAK4E,GAAL,CAASF,KAAT,CAAe,IAAf,EAAqBxB,UAArB,CAAP;AACH,KAzR8B;AA0R/B;;AAEA;AACA2B,wBAAmB,4BAASC,YAAT,EAAuBC,GAAvB,EAA4BC,SAA5B,EAAsC;AACrD,YAAIC,YAAY,KAAKF,GAArB;AACA,YAAGC,SAAH,EAAa;AACT,gBAAIE,SAASD,UAAU3D,MAAvB;AACA2D,wBAAYC,SAASF,SAAT,GAAsBG,MAAMH,YAAYE,MAAZ,GAAqB,CAA3B,EAA8B/E,IAA9B,CAAmC,CAAnC,IAAwC4E,GAA9D,GAAqEE,SAAjF;AACH;;AAED,eAAO,CAACH,YAAD,EAAeG,SAAf,EAA0B9E,IAA1B,CAA+B,EAA/B,CAAP;AACH,KArS8B;;AAuS/B;AACAiF,mBAAc,uBAASN,YAAT,EAAuBO,OAAvB,EAA+B;;AAEzC,YAAIC,YAAYR,YAAhB;AACA,YAAIS,eAAeF,QAAQ/D,MAA3B;AACA,aAAI,IAAIiC,QAAM,CAAd,EAAiBA,SAAOgC,YAAxB,EAAsChC,OAAtC,EAA8C;AAC1C+B,wBAAYA,UAAUE,OAAV,CAAkB,IAAIC,MAAJ,CAAW,QAAQlC,KAAR,GAAgB,KAA3B,EAAkC,GAAlC,CAAlB,EAA0D8B,QAAQ9B,QAAM,CAAd,CAA1D,CAAZ;AACH;AACD,eAAO+B,SAAP;AACH,KAhT8B;;AAkTlC;AACAI,oBAAe,wBAASZ,YAAT,EAAsB;AACpC,eAAOA,aAAaU,OAAb,CAAqB,SAArB,EAAgC,EAAhC,CAAP;AACA,KArTiC;AAsTlC;AACAG,qBAAgB,yBAASb,YAAT,EAAsB;AACrC,eAAOA,aAAaU,OAAb,CAAqB,SAArB,EAAgC,EAAhC,CAAP;AACA,KAzTiC;AA0TlC;AACAI,gBAAW,oBAASd,YAAT,EAAsB;AAChC,eAAOA,aAAaU,OAAb,CAAqB,gBAArB,EAAuC,EAAvC,CAAP;AACA,KA7TiC;AA8T/B;AACA;AACAK,cAAS,kBAASC,MAAT,EAAgB;AACrB,eAAOlE,KAAKC,KAAL,CAAWD,KAAKG,SAAL,CAAe+D,MAAf,CAAX,CAAP;AACH,KAlU8B;;AAqUlC;;;;;;AAMGC,sBAAiB,0BAASC,SAAT,EAAoBC,WAApB,EAAiCC,OAAjC,EAAyC;AACzD;AACA,YAAG,CAACA,OAAJ,EAAY;AACXA,sBAAU,CAAV;AACA,iBAAI,IAAI3C,KAAR,IAAiB0C,WAAjB,EAA6B;AAC5B,oBAAIE,OAAOF,YAAY1C,KAAZ,CAAX;AACA2C,2BAAWC,IAAX;AACA;AACD;AACD,YAAIC,aAAaJ,UAAU1E,MAA3B;AACA,YAAG,CAAC8E,UAAJ,EAAe;AACd,iBAAKxG,MAAL,CAAY,kCAAZ;AACA,mBAAO,IAAP;AACA;AACD,YAAGwG,cAAcH,YAAY3E,MAA7B,EAAoC;AACnC,iBAAK1B,MAAL,CAAY,+BAAZ,EAA6CoG,SAA7C,EAAwDC,WAAxD;AACA,mBAAO,IAAP;AACA;AACD,YAAII,UAAU,KAAKC,OAAL,CAAa,CAAb,EAAgBJ,OAAhB,CAAd;;AAEA,YAAIK,WAAWN,YAAYO,GAAZ,CAAgB,UAASL,IAAT,EAAe5C,KAAf,EAAqB;AACnD,gBAAIpB,KAAK6D,UAAUzC,KAAV,CAAT;AACA,mBAAO,CAAC4C,IAAD,EAAOhE,EAAP,CAAP;AACA,SAHc,CAAf;AAIA;AACAoE,iBAASE,IAAT,CAAc,UAAS/C,KAAT,EAAgBC,KAAhB,EAAsB;AAAC,mBAAOD,MAAM,CAAN,IAASC,MAAM,CAAN,CAAT,GAAkB,CAAlB,GAAoB,CAAC,CAA5B;AAA8B,SAAnE;;AAEA,YAAI+C,YAAY,CAAhB;AACA,aAAI,IAAInD,QAAM,CAAd,EAAiBA,QAAM6C,UAAvB,EAAmC7C,OAAnC,EAA2C;AAC1CmD,yBAAaH,SAAShD,KAAT,EAAgB,CAAhB,CAAb;AACA,gBAAGmD,YAAYL,OAAf,EAAuB;AACtB;AACA;AACD,mBAAOE,SAAShD,KAAT,EAAgB,CAAhB,CAAP;AACA;;AAED,aAAK3D,MAAL,CAAY,sCAAZ,EAAoDoG,SAApD,EAA+DC,WAA/D,EAA4EI,OAA5E,EAAqFE,QAArF;;AAEA,eAAO,IAAP;AACA,KAlX8B;AAmX/B;;;;;;AAMAD,aAAQ,iBAASK,KAAT,EAAgBC,GAAhB,EAAoB;AAC3B,eAAO5G,KAAKC,KAAL,CAAWD,KAAKqE,MAAL,MAAiBuC,MAAM,CAAN,GAAUD,KAA3B,IAAoCA,KAA/C,CAAP;AACA,KA3X8B;;AA8XlC;;;AAGAE,WAAM,iBAAoB;AACzB,YAAIF,KAAJ,EAAWC,GAAX,EAAgBE,IAAhB,EAAsBC,GAAtB,EAA2B5D,UAA3B;AACAA,qBAAa,EAAb;AACA4D,cAAM,UAAQzF,MAAd;;AAEA;AACA,YAAIyF,OAAO,CAAX,EAAa;AACZJ,oBAAQ,CAAR;AACAC;AACAE,mBAAO,CAAP;AACA,SAJD,MAKK,IAAGC,OAAO,CAAV,EAAY;AAChBJ;AACAC;AACAE,mBAAO,CAAP;AACA,SAJI,MAKD;AACHH;AACAC;AACAE;AACA;;AAED,YAAIA,OAAO,CAAX,EAAa;AACZ,iBAAIH,KAAJ,EAAWA,QAAQC,GAAnB,EAAwBD,SAASG,IAAjC,EAAsC;AACrC3D,2BAAW3B,IAAX,CAAgBmF,KAAhB;AACA;AACD,SAJD,MAKI;AACH,iBAAIA,KAAJ,EAAWA,QAAQC,GAAnB,EAAwBD,SAASG,IAAjC,EAAsC;AACrC3D,2BAAW3B,IAAX,CAAgBmF,KAAhB;AACA;AAED;AACD,eAAOxD,UAAP;AACA,KAnaiC;;AAqa/B;;;;;;AAMA6D,qBAAgB,yBAASC,OAAT,EAAkBC,MAAlB,EAAyB;AACxC,YAAIC,GAAJ,EAAS3D,KAAT,EAAgB4D,SAAhB,EAA2BC,KAA3B,EAAkCC,GAAlC;;AAEAJ,iBAASA,UAAU,IAAV,GAAiBA,MAAjB,GAA0B,CAAnC;AACA,YAAIK,SAAS,KAAb;;AAEA,aAAIJ,GAAJ,IAAWF,OAAX,EAAmB;AAClBzD,oBAAQyD,QAAQE,GAAR,CAAR;AACAC,wBAAYI,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BnE,KAA/B,EAAsCY,KAAtC,CAA4C,WAAW9C,MAAvD,EAA+D,CAAC,CAAhE,CAAZ;;AAEA+F,oBAAQ,EAAR;AACA,gBAAGD,aAAa,QAAhB,EAAyB;AACxB,oBAAG5D,MAAMoE,cAAN,CAAqB,SAArB,CAAH,EAAmC;AACrCP,4BAAQ,MAAM7D,MAAMkE,QAAN,EAAN,GAAyB,MAAjC;AACA,iBAFE,MAGC;AACAL,4BAAQ,KAAKL,eAAL,CAAqBxD,KAArB,EAA4B0D,SAAO,CAAnC,CAAR;AACH;AACE,aAPD,MAQK,IAAGE,aAAa,UAAhB,EAA2B;AAC/BC,wBAAQ7D,MAAMqE,WAAN,CAAkB5F,IAAlB,GAAyB,KAAjC;AACA,aAFI,MAGD;AACHqF,sBAAM,EAAN;AACA,oBAAG;AACFA,0BAAM1F,KAAKG,SAAL,CAAeyB,KAAf,CAAN;AACA,iBAFD,CAGA,OAAMsE,CAAN,EAAQ;AACP;AACAR,0BAAM,6BAA6B9D,MAAMkE,QAAN,EAAnC;AACA;AACDL,wBAAQC,MAAM,KAAd;AACA;;AAEDC,sBAAU,OAAO,KAAKQ,SAAL,CAAeb,MAAf,CAAP,GAAgCtF,KAAKG,SAAL,CAAeoF,GAAf,CAAhC,GAAsD,GAAtD,GAA4DE,KAAtE;AACA;;AAEDE,kBAAU,KAAKQ,SAAL,CAAeb,MAAf,IAAyB,GAAnC;;AAEA,YAAGA,MAAH,EAAU;AACTK,sBAAU,GAAV;AACA;AACDA,kBAAU,IAAV;;AAEA,eAAOA,MAAP;AACA,KAxd8B;;AA0d/B;;;;;AAKAQ,eAAU,mBAAShD,GAAT,EAAa;AACtB,YAAIwC,SAAS,EAAb;AACA,eAAMxC,KAAN,EAAY;AACXwC,sBAAU,IAAV;AACA;AACD,eAAOA,MAAP;AACA,KAre8B;;AAuelC;;;;AAIGS,yBAAoB,6BAASC,GAAT,EAAa;AAChC,YAAIC,eAAe,EAAnB;AACH,aAAI,IAAIC,QAAR,IAAoBF,GAApB,EAAwB;AACvBC,yBAAaC,QAAb,IAAyBF,IAAIE,QAAJ,CAAzB;AACA;AACD,aAAK3I,GAAL,CAAS,KAAKwH,eAAL,CAAqBkB,YAArB,CAAT;AACG,KAjf8B;;AAqf/B;;;AAGHE,sBAAiB,0BAASC,MAAT,EAAiBC,MAAjB,EAAwB;AAClC,YAAIC,UAAJ,EAAgBC,UAAhB;;AAEHD,qBAAa,IAAIE,IAAJ,CAASJ,MAAT,CAAb;AACAG,qBAAa,IAAIC,IAAJ,CAASH,MAAT,CAAb;;AAEG,YAAG;AACCC,yBAAaE,KAAK5G,KAAL,CAAY0G,WAAWG,QAAX,KAAwB,CAAzB,GAA8B,GAA9B,GAAoCH,WAAWI,OAAX,EAApC,GAA2D,GAA3D,GAAiEJ,WAAWK,WAAX,EAA5E,CAAb;AACAJ,yBAAaC,KAAK5G,KAAL,CAAY2G,WAAWE,QAAX,KAAwB,CAAzB,GAA8B,GAA9B,GAAoCF,WAAWG,OAAX,EAApC,GAA2D,GAA3D,GAAiEH,WAAWI,WAAX,EAA5E,CAAb;AACA,mBAAO5I,KAAK6I,GAAL,CAASN,aAAaC,UAAtB,KAAqC,KAAG,EAAH,GAAM,EAAN,GAAS,IAA9C,CAAP;AACH,SAJD,CAMA,OAAMV,CAAN,EAAQ;AACJ,iBAAKlI,MAAL,CAAY,4BAAZ,EAA0CkI,EAAEgB,OAA5C;AACH;AACP,KAvgBiC;;AAygBlC;;;AAGAC,yCAAoC,6CAAUC,IAAV,EAAgB;AACnD,YAAIC,OAAO,IAAIR,IAAJ,CAASO,OAAK,IAAd,CAAX;AACA,YAAIE,OAAOD,KAAKL,WAAL,EAAX;AACA,YAAIO,QAAQF,KAAKP,QAAL,KAAkB,CAA9B;AACA,YAAIU,MAAMH,KAAKN,OAAL,EAAV;AACA,YAAIU,QAAQJ,KAAKK,QAAL,EAAZ;AACA,YAAIC,UAAUN,KAAKO,UAAL,EAAd;AACM,YAAIC,UAAUR,KAAKS,UAAL,EAAd;;AAEN,eAAOR,OAAO,GAAP,GAAa,KAAKrE,kBAAL,CAAwB,EAAxB,EAA4BsE,KAA5B,EAAmC,CAAnC,CAAb,GAAqD,GAArD,GAA2D,KAAKtE,kBAAL,CAAwB,EAAxB,EAA4BuE,GAA5B,EAAiC,CAAjC,CAA3D,GAAiG,GAAjG,GAAuG,KAAKvE,kBAAL,CAAwB,EAAxB,EAA4BwE,KAA5B,EAAmC,CAAnC,CAAvG,GAA+I,GAA/I,GAAqJ,KAAKxE,kBAAL,CAAwB,EAAxB,EAA4B0E,OAA5B,EAAqC,CAArC,CAArJ,GAA+L,GAA/L,GAAqM,KAAK1E,kBAAL,CAAwB,EAAxB,EAA4B4E,OAA5B,EAAqC,CAArC,CAA5M;AACG,KAthB8B;;AAwhB/B;;;AAGAE,+BAA0B,mCAAUX,IAAV,EAAgB;AACtC,YAAIC,OAAO,IAAIR,IAAJ,CAASO,OAAK,IAAd,CAAX;AACA,YAAIE,OAAOD,KAAKL,WAAL,EAAX;AACA,YAAIO,QAAQF,KAAKP,QAAL,KAAkB,CAA9B;AACA,YAAIU,MAAMH,KAAKN,OAAL,EAAV;AACA,YAAIU,QAAQJ,KAAKK,QAAL,EAAZ;AACA,YAAIC,UAAUN,KAAKO,UAAL,EAAd;AACA,YAAIC,UAAUR,KAAKS,UAAL,EAAd;;AAEA,eAAOR,OAAO,GAAP,GAAa,KAAKrE,kBAAL,CAAwB,EAAxB,EAA4BsE,KAA5B,EAAmC,CAAnC,CAAb,GAAqD,GAArD,GAA2D,KAAKtE,kBAAL,CAAwB,EAAxB,EAA4BuE,GAA5B,EAAiC,CAAjC,CAAlE;AACH,KAriB8B;AAsiB/B;;;AAGAQ,6BAAwB,iCAAUZ,IAAV,EAAgB;AACpC,YAAIC,OAAO,IAAIR,IAAJ,CAASO,OAAK,IAAd,CAAX;AACA,YAAIE,OAAOD,KAAKL,WAAL,EAAX;AACA,YAAIO,QAAQF,KAAKP,QAAL,KAAkB,CAA9B;AACA,YAAIU,MAAMH,KAAKN,OAAL,EAAV;AACA,YAAIU,QAAQJ,KAAKK,QAAL,EAAZ;AACA,YAAIC,UAAUN,KAAKO,UAAL,EAAd;AACA,YAAIC,UAAUR,KAAKS,UAAL,EAAd;;AAEA,eAAO,KAAK7E,kBAAL,CAAwB,EAAxB,EAA4BwE,KAA5B,EAAmC,CAAnC,IAAwC,GAAxC,GAA8C,KAAKxE,kBAAL,CAAwB,EAAxB,EAA4B0E,OAA5B,EAAqC,CAArC,CAA9C,GAAwF,GAAxF,GAA8F,KAAK1E,kBAAL,CAAwB,EAAxB,EAA4B4E,OAA5B,EAAqC,CAArC,CAArG;AACH,KAnjB8B;AAojB/B;;;AAGAI,sBAAiB,0BAAUb,IAAV,EAAgB;AAC7B,YAAIc,IAAJ;AACA,YAAGb,KAAKc,MAAL,MAAiB,CAApB,EAAuBD,OAAO,GAAP;AACvB,YAAGb,KAAKc,MAAL,MAAiB,CAApB,EAAuBD,OAAO,GAAP;AACvB,YAAGb,KAAKc,MAAL,MAAiB,CAApB,EAAuBD,OAAO,GAAP;AACvB,YAAGb,KAAKc,MAAL,MAAiB,CAApB,EAAuBD,OAAO,GAAP;AACvB,YAAGb,KAAKc,MAAL,MAAiB,CAApB,EAAuBD,OAAO,GAAP;AACvB,YAAGb,KAAKc,MAAL,MAAiB,CAApB,EAAuBD,OAAO,GAAP;AACvB,YAAGb,KAAKc,MAAL,MAAiB,CAApB,EAAuBD,OAAO,GAAP;AACvB,eAAOA,IAAP;AACH,KAjkB8B;AAkkBlC;;;;AAIAE,sBAAiB,4BAAU;AAC1B,YAAIC,SAAS,IAAIxB,IAAJ,EAAb;;AAEA,YAAIS,OAAOe,OAAOrB,WAAP,EAAX;AACA,YAAIO,QAAQc,OAAOvB,QAAP,KAAoB,CAAhC;AACA,YAAIU,MAAMa,OAAOtB,OAAP,EAAV;AACA,eAAO,CAAC,KAAK9D,kBAAL,CAAwB,EAAxB,EAA4BqE,IAA5B,EAAkC,CAAlC,CAAD,EAAuC,KAAKrE,kBAAL,CAAwB,EAAxB,EAA4BsE,KAA5B,EAAmC,CAAnC,CAAvC,EAA8E,KAAKtE,kBAAL,CAAwB,EAAxB,EAA4BuE,GAA5B,EAAiC,CAAjC,CAA9E,EAAmHjJ,IAAnH,CAAwH,GAAxH,CAAP;AACA,KA7kBiC;AA8kB/B+J,uBAAkB,6BAAU;AACxB,YAAID,SAAS,IAAIxB,IAAJ,EAAb;;AAEA,YAAIS,OAAOe,OAAOrB,WAAP,EAAX;AACA,YAAIO,QAAQc,OAAOvB,QAAP,KAAoB,CAAhC;AACA,YAAIU,MAAMa,OAAOtB,OAAP,EAAV;AACA,eAAO,CAAC,KAAK9D,kBAAL,CAAwB,EAAxB,EAA4BqE,IAA5B,EAAkC,CAAlC,CAAD,EAAuC,KAAKrE,kBAAL,CAAwB,EAAxB,EAA4BsE,KAA5B,EAAmC,CAAnC,CAAvC,EAA8E,KAAKtE,kBAAL,CAAwB,EAAxB,EAA4BuE,GAA5B,EAAiC,CAAjC,CAA9E,EAAmHjJ,IAAnH,CAAwH,EAAxH,CAAP;AACH,KArlB8B;AAslBlC;;;;AAIAgK,2BAAsB,iCAAU;AAC/B,YAAIF,SAAS,IAAIxB,IAAJ,EAAb;AACA,YAAIS,OAAOe,OAAOrB,WAAP,EAAX;AACA,YAAIO,QAAQc,OAAOvB,QAAP,KAAoB,CAAhC;AACA,eAAO,CAAC,KAAK7D,kBAAL,CAAwB,EAAxB,EAA4BqE,IAA5B,EAAkC,CAAlC,CAAD,EAAuC,KAAKrE,kBAAL,CAAwB,EAAxB,EAA4BsE,KAA5B,EAAmC,CAAnC,CAAvC,EAA8EhJ,IAA9E,CAAmF,GAAnF,CAAP;AACA,KA/lBiC;;AAimBlC;;;;AAIAiK,uBAAkB,6BAAU;;AAE3B,YAAIH,SAAS,IAAIxB,IAAJ,EAAb;;AAEA,YAAIS,OAAOe,OAAOrB,WAAP,EAAX;AACA,YAAIO,QAAQc,OAAOvB,QAAP,KAAoB,CAAhC;AACA,YAAIU,MAAMa,OAAOtB,OAAP,EAAV;AACA,YAAI0B,OAAOJ,OAAOX,QAAP,EAAX;AACA,YAAI1E,MAAMqF,OAAOT,UAAP,EAAV;AACA,YAAIc,SAASL,OAAOP,UAAP,EAAb;;AAEA,YAAIa,aAAa,CAAC,KAAK1F,kBAAL,CAAwB,EAAxB,EAA4BqE,IAA5B,EAAkC,CAAlC,CAAD,EAAuC,KAAKrE,kBAAL,CAAwB,EAAxB,EAA4BsE,KAA5B,EAAmC,CAAnC,CAAvC,EAA8E,KAAKtE,kBAAL,CAAwB,EAAxB,EAA4BuE,GAA5B,EAAiC,CAAjC,CAA9E,EAAmHjJ,IAAnH,CAAwH,GAAxH,CAAjB;AACAoK,sBAAc,GAAd;;AAEAA,sBAAc,CAAC,KAAK1F,kBAAL,CAAwB,EAAxB,EAA4BwF,IAA5B,EAAkC,CAAlC,CAAD,EAAuC,KAAKxF,kBAAL,CAAwB,EAAxB,EAA4BD,GAA5B,EAAiC,CAAjC,CAAvC,EAA4E,KAAKC,kBAAL,CAAwB,EAAxB,EAA4ByF,MAA5B,EAAoC,CAApC,CAA5E,EAAoHnK,IAApH,CAAyH,GAAzH,CAAd;;AAEA,eAAOoK,UAAP;AACA,KAtnBiC;AAunB/B;AACAC,cAAS,kBAASC,GAAT,EAAa;AAClB,YAAIC,MAAM,mBAAV;AACA,YAAIC,UAAU,IAAIlF,MAAJ,CAAWiF,GAAX,CAAd;AACA,eAAOC,QAAQC,IAAR,CAAaH,GAAb,CAAP;AACH,KA5nB8B;AA6nB/B;AACAI,iBAAY,qBAASJ,GAAT,EAAa;AACrB,YAAIC,MAAM,UAAV;AACA,YAAIC,UAAU,IAAIlF,MAAJ,CAAWiF,GAAX,CAAd;AACA,eAAOC,QAAQC,IAAR,CAAaH,GAAb,CAAP;AACH,KAloB8B;AAmoB/BnI,oBAAe,wBAASL,IAAT,EAAesB,KAAf,EAAqB;AAChC,YAAItB,KAAKX,MAAL,GAAciC,KAAlB,EAAyB;AACrBtB,mBAAOA,KAAK6I,MAAL,CAAY,CAAZ,EAAcvH,KAAd,IAAuB,KAA9B;AACH;AACD,eAAOtB,IAAP;AACH,KAxoB8B;AAyoB/B8I,kBAAa,sBAAS9I,IAAT,EAAesB,KAAf,EAAqB;AAC9B,YAAItB,KAAKX,MAAL,GAAciC,KAAlB,EAAyB;AACrBtB,mBAAOA,KAAK6I,MAAL,CAAY,CAAZ,EAAcvH,KAAd,IAAuB,KAA9B;AACH;AACD,eAAOtB,IAAP;AACH,KA9oB8B;;AAgpB/B;AACA+I,yBAAoB,6BAASC,IAAT,EAAc;AAC9B,YAAIC,IAAI,CAAR;AACA,YAAG,OAAOD,IAAP,IAAgB,QAAnB,EAA6B;AAAG;AAC5B,iBAAI,IAAI1J,IAAI,CAAZ,EAAeA,IAAI0J,KAAK3J,MAAxB,EAAgCC,GAAhC,EAAsC;AAAG;AACrC,oBAAG0J,KAAKE,UAAL,CAAgB5J,CAAhB,IAAqB,GAAxB,EAA6B;AAAG;AAC5B2J,yBAAK,CAAL,CADyB,CAChB;AACZ,iBAFD,MAEM;AACFA,wBADE,CACK;AACV;AACJ;AACD,mBAAOA,CAAP,CARyB,CAQd;AACd,SATD,MASO;AACH,mBAAO,CAAP,CADG,CACQ;AACd;AACJ;AA/pB8B,CAArB,CAAd;;AAkqBA,IAAIE,YAAY,IAAhB;;AAEA;;;AAGAC,QAAQC,QAAR,GAAmB,YAAU;AACzB,QAAG,CAACF,SAAJ,EAAc;AACVA,oBAAY,IAAIjM,OAAJ,EAAZ;AACH;AACD,WAAOiM,SAAP;AACH,CALD","file":"ComTool.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\common","sourcesContent":["/*\n * \tComTool.js\n * \t工具函数管理器模块\n *\n *\tauthor:hongdian\n *\tdate:2014-10-28\n *\tversion:1.0\n *\n * 修改时间 修改人 修改内容:\n *\n */\n\nvar app = require('app');\n\nvar ComTool = app.BaseClass.extend({\n\n    /**\n     * 构造函数\n     */\n    Init:function(){\n        this.JS_Name = \"ComTool\";\n\n        this.Log(\"Init\");\n    },\n\n    //---------------获取贴图路径----------------\n\n    //获取数据对应的贴图资源\n    GetImagePathByType:function(imageType, userData){\n        \n        if(imageType == \"HZShowCard\"){\n            return \"texture/card/show/tiao2\";\n        }\n\t    else if(imageType == \"HZDownCard\"){\n\t\t    return \"texture/card/down/tiao11\";\n\t    }\n        else{\n            this.ErrLog(\"GetImagePathByType(%s,%s) error\", imageType, userData);\n            return \n        }\n    },\n\n\t//获取转化后的玩家ID\n\tGetPid:function(pid){\n\t\tlet serverID = Math.floor(pid/100000000000);\n\t\tif(!serverID){\n\t\t\treturn pid\n\t\t}\n\t\tlet playerID = pid - serverID*100000000000;\n\t\treturn Math.floor([serverID, playerID].join(\"\"))\n\t},\n\t//--------------引擎判断接口-------------\n\t//是否是安卓微信环境\n\tIsAndroidWeChatBrowser:function(){\n\n\t\tif(cc.sys.os != \"Android\"){\n\t\t\treturn false\n\t\t}\n\t\tvar browserType = cc.sys.browserType;\n\n\t\t//mqqbrowser 安卓中微信浏览器标示\n\t\tif(browserType == cc.sys.BROWSER_TYPE_MOBILE_QQ){\n\t\t\treturn true\n\t\t}\n\t\t//怕异常多处理wechat的判断 一般wechat是ios中微信标示\n\t\telse if(browserType == cc.sys.BROWSER_TYPE_WECHAT){\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t},\n\n\t//是否是微信浏览器环境\n\tIsWeChatBrowser:function(){\n\n\t\tvar browserType = cc.sys.browserType;\n\n\t\t//mqqbrowser 安卓中微信浏览器标示\n\t\tif(browserType == cc.sys.BROWSER_TYPE_MOBILE_QQ){\n\t\t\treturn true\n\t\t}\n\t\t//怕异常多处理wechat的判断 一般wechat是ios中微信标示\n\t\telse if(browserType == cc.sys.BROWSER_TYPE_WECHAT){\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t},\n    GetBeiZhu:function(getServer=false){\n        let BeiZhuJson=cc.sys.localStorage.getItem(\"BeiZhuJson\");\n        if (BeiZhuJson == null || typeof(BeiZhuJson) == \"undefined\") {\n            if(getServer==false){\n                return []; \n            }\n           //找服务端拿初始化表\n           let self=this;\n           app.NetManager().SendPack(\"club.CClubGetPlayerRemarkName\",{},function(event){\n                let array=[]\n                if(event.length > 0){\n                    for(let i=0;i<event.length;i++){\n                        array.push({\"id\":event[i].remarkID,\"name\":event[i].remarkName});\n                    }\n                }\n                self.SetBeiZhu(array);\n           }, function(){\n                self.SetBeiZhu([]);\n           });\n        }else{\n            app[\"BeiZhu\"]=JSON.parse(BeiZhuJson);\n            return JSON.parse(BeiZhuJson);\n        }\n    },\n    SetBeiZhu:function(array){\n        app[\"BeiZhu\"]=array;\n        cc.sys.localStorage.setItem(\"BeiZhuJson\",JSON.stringify(array));\n    },\n    UpdateBeiZhu:function(pid,name){\n        let array=this.GetBeiZhu();\n        let change=false;\n        for(let i=0;i<array.length;i++){\n            if(array[i].id==pid){\n                array[i].name=name;\n                change=true;\n                break;\n            }\n        }\n        if(change==false){\n            array.push({\"id\":pid,\"name\":name});\n        }\n        this.SetBeiZhu(array);\n    },\n    GetBeiZhuID:function(name){\n        if(name==\"\"){\n            return \"\";\n        }\n        if(typeof(app[\"BeiZhu\"])!=\"undefined\"){\n            for(let i=0;i<app[\"BeiZhu\"].length;i++){\n                if(app[\"BeiZhu\"][i].name==name){\n                    return app[\"BeiZhu\"][i].id;\n                }\n            }\n        }\n        return name;\n    },\n    GetBeiZhuName:function(pid,name,length=6){\n        if(typeof(app[\"BeiZhu\"])!=\"undefined\"){\n            for(let i=0;i<app[\"BeiZhu\"].length;i++){\n                if(app[\"BeiZhu\"][i].id==pid){\n                    return app[\"BeiZhu\"][i].name;\n                }\n            }\n            return this.GetNameByIndex(name,length);\n        }\n        this.GetBeiZhu();\n        return this.GetNameByIndex(name,length);\n    },\n\t/**\n\t * 是否是ios平台\n\t * @returns {Boolean}\n\t */\n\tIsIOS:function(){\n\t\tvar browserType = cc.sys.browserType;\n\t\tif(browserType){\n\t\t\treturn false\n\t\t}\n\t\treturn cc.sys.os == cc.sys.OS_IOS\n\t},\n    \n    IsIpad: function () {\n        var browserType = cc.sys.browserType;\n        if (browserType) {\n            return false\n        }\n        return cc.sys.isNative && cc.sys.platform == cc.sys.IPAD\n    },\n\n\t//是否是安卓\n\tIsAndroid:function(){\n\t\tvar browserType = cc.sys.browserType;\n\t\tif(browserType){\n\t\t\treturn false\n\t\t}\n\t\treturn cc.sys.os == cc.sys.OS_ANDROID\n\t},\n\n\t//是否是win\n\tIsWindows:function(){\n\t\tvar browserType = cc.sys.browserType;\n\t\tif(browserType){\n\t\t\treturn false\n\t\t}\n\t\treturn cc.sys.os == cc.sys.OS_WINDOWS;\n\t},\n    //----------------列表方法---------------\n\n    //删除列表重复项\n    DeleteListRepeat:function(targetList){\n        var returnList = [];\n        var findDict = {};\n        var prefix = \"\";\n\n        var count = targetList.length;\n        for(var index = 0; index < count; index++){\n            var value = targetList[index];\n\n            //因为findDict[222] findDict[\"222\"]等价，所以加入string判断\n            if(typeof value == \"string\"){\n                prefix = \"_str\";\n            }\n            else{\n                prefix = \"\";\n            }\n            prefix += value;\n            if(!findDict[prefix]){\n                returnList.push(value);\n                findDict[prefix] = 1;\n            }\n        }\n        return returnList\n    },\n\n    //第1个列表与第2个列表的交集\n    TowListIntersect:function(aList, bList){\n        var returnList = [];\n        var aCount = aList.length;\n\n        for(var index = 0; index < aCount; index++){\n            var value = aList[index];\n            if (bList.InArray(value)){\n                returnList.push(value);\n            }\n        }\n        return returnList;\n    },\n\n    //第1个列表与第2个列表的差集\n    TowListSubtraction:function(aList, bList){\n        var returnList = [];\n        var aCount = aList.length;\n\n        for(var index = 0; index < aCount; index++){\n\n            var value = aList[index];\n            if (!bList.InArray(value)){\n                returnList.push(value);\n            }\n        }\n        return returnList;\n    },\n\n    //2个列表的并集\n    TowListUnion:function(aList, bList){\n        var returnList = aList.concat(bList);\n        return this.DeleteListRepeat(returnList);\n    },\n\n\n    //随机筛选列表指定个数出来\n    ListSample:function(targetList, choiceCount){\n        var returnList = [];\n\n        //需要拷贝一份避免原列表被修改\n        var tempList = targetList.slice();\n        var length = tempList.length;\n\n        //需要拷贝一份列表,避免返回列表后原列表数据被修改\n        if(length <= choiceCount){\n            return tempList;\n        }\n\n        for(var i=0; i<choiceCount; i++){\n            var index = Math.floor(Math.random()*(length-i));\n            returnList.push(tempList[index]);\n            tempList.splice(index, 1);\n        }\n        return returnList;\n    },\n\n    //列表随机1个出来\n    ListChoice:function(targetList){\n        var length = targetList.length;\n        if(length < 1){\n            return null;\n        }\n        return targetList[Math.floor(Math.random()*(length))];\n    },\n\n    //求列表的最大值\n    ListMaxNum:function(targetList){\n        return Math.max.apply(null, targetList);\n    },\n\n    //求列表的最小值\n    ListMinNum:function(targetList){\n        return Math.min.apply(null, targetList);\n    },\n    //----------------字符串方法------------------\n\n    //增加字符串数字后缀 (\"btnFight\", 1, 2)) - > \"btnFight01\"\n    StringAddNumSuffix:function(targetString, num, suffixLen){\n        var numString = \"\" + num;\n        if(suffixLen){\n            var numLen = numString.length;\n            numString = numLen < suffixLen ? (Array(suffixLen - numLen + 1).join(0) + num) : numString;\n        }\n\n        return [targetString, numString].join(\"\");\n    },\n\n    //替换字符串中的文本(\"第{1}次\", 10)) - > \"第10次\"\n    StringReplace:function(targetString, argList){\n\n        var formatStr = targetString;\n        var argumentsLen = argList.length;\n        for(var index=1; index<=argumentsLen; index++){\n            formatStr = formatStr.replace(new RegExp(\"\\\\{\" + index + \"\\\\}\", \"g\"), argList[index-1]);\n        }\n        return formatStr\n    },\n\n\t//去除左空格\n\tStringLeftTrim:function(targetString){\n\t\treturn targetString.replace(/(^\\s*)/g, \"\");\n\t},\n\t//去除右空格\n\tStringRightTrim:function(targetString){\n\t\treturn targetString.replace(/(\\s*$)/g, \"\");\n\t},\n\t//去除2边空格\n\tStringTrim:function(targetString){\n\t\treturn targetString.replace(/(^\\s*)|(\\s*$)/g, \"\");\n\t},\n    //---------------对象方法----------------\n    //深拷贝(列表,字典)\n    DeepCopy:function(target){\n        return JSON.parse(JSON.stringify(target));\n    },\n\n\n\t/**\n     * 圆盘概率随机\n     * @param curIDList\n     * @param curRateList(必须是整数列表)\n     * @param maxRate\n     */\n    GetDiskRandValue:function(curIDList, curRateList, maxRate){\n    \t//默认万分率随机\n    \tif(!maxRate){\n    \t\tmaxRate = 0;\n    \t\tfor(var index in curRateList){\n    \t\t\tvar rate = curRateList[index];\n    \t\t\tmaxRate += rate;\n    \t\t}\n    \t}\n    \tvar listLength = curIDList.length\n    \tif(!listLength){\n    \t\tthis.ErrLog(\"GetDiskRandValue curIDList empty\");\n    \t\treturn null\n    \t}\n    \tif(listLength != curRateList.length){\n    \t\tthis.ErrLog(\"GetDiskRandValue (%s) != (%s)\", curIDList, curRateList);\n    \t\treturn null\n    \t}\n    \tvar oddsNum = this.RandInt(1, maxRate);\n\n    \tvar sortList = curRateList.map(function(rate, index){\n    \t\tvar id = curIDList[index];\n    \t\treturn [rate, id];\n    \t});\n    \t//从小到大排序,相等按追加顺序排序\n    \tsortList.sort(function(aList, bList){return aList[0]>bList[0]?1:-1})\n\n    \tvar rateValue = 0;\n    \tfor(var index=0; index<listLength; index++){\n    \t\trateValue += sortList[index][0];\n    \t\tif(rateValue < oddsNum){\n    \t\t\tcontinue;\n    \t\t}\n    \t\treturn sortList[index][1];\n    \t}\n\n    \tthis.ErrLog(\"curIDList:%s,%s,%s,%s not find value\", curIDList, curRateList, oddsNum, sortList);\n\n    \treturn null;\n    },\n    /**\n     * 获得一个随机整数 ：start<= randValue <= end\n     * @param {Array} below\n     * @return {Number}\n     * @remarks {}\n     */\n    RandInt:function(start, end){\n    \treturn Math.floor(Math.random() * (end + 1 - start) + start);\n    },\n\n\n\t/**\n\t * 生成一个列表 range(0, 7)=>[0,1,2,3,4,5,6]\n\t */\n\tRange:function(...argList){\n\t\tvar start, end, step, len, returnList;\n\t\treturnList = [];\n\t\tlen = argList.length;\n\n\t\t//一个参数\n\t\tif (len == 1){\n\t\t\tstart = 0;\n\t\t\tend = argList[0];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if(len == 2){\n\t\t\tstart = argList[0];\n\t\t\tend = argList[1];\n\t\t\tstep = 1;\n\t\t}\n\t\telse{\n\t\t\tstart = argList[0];\n\t\t\tend = argList[1];\n\t\t\tstep = argList[2];\n\t\t}\n\n\t\tif (step < 0){\n\t\t\tfor(start; start > end; start += step){\n\t\t\t\treturnList.push(start);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tfor(start; start < end; start += step){\n\t\t\t\treturnList.push(start);\n\t\t\t}\n\n\t\t}\n\t\treturn returnList\n\t},\n\n    /**\n     * 获取字典数据格式字符串（支持字典嵌套）\n     * @param {Object} curDict\n     * @param {Number} tabNum\n     * @return {String}\n     */\n    GetPrintDictStr:function(curDict, tabNum){\n    \tvar key, value, classType, outEx, arg;\n\n    \ttabNum = tabNum != null ? tabNum : 0;\n    \tvar outstr = \"{\\n\";\n\n    \tfor(key in curDict){\n    \t\tvalue = curDict[key];\n    \t\tclassType = Object.prototype.toString.call(value).slice(\"[object \".length, -1);\n\n    \t\toutEx = \"\";\n    \t\tif(classType == \"Object\"){\n    \t\t\tif(value.hasOwnProperty(\"JS_Name\")){\n\t\t\t\t\toutEx = \"(\" + value.toString() + \"),\\n\";\n\t\t\t\t}\n\t\t\t\telse{\n    \t\t\t\toutEx = this.GetPrintDictStr(value, tabNum+1);\n\t\t\t\t}\n    \t\t}\n    \t\telse if(classType == \"Function\"){\n    \t\t\toutEx = value.constructor.name + \",\\n\";\n    \t\t}\n    \t\telse{\n    \t\t\targ = \"\";\n    \t\t\ttry{\n    \t\t\t\targ = JSON.stringify(value);\n    \t\t\t}\n    \t\t\tcatch(e){\n    \t\t\t\t//存在对象循环引用\n    \t\t\t\targ = \"### cyclic object value:\" + value.toString();\n    \t\t\t}\n    \t\t\toutEx = arg + \",\\n\";\n    \t\t}\n\n    \t\toutstr += \"\\t\" + this.GetTabStr(tabNum) + JSON.stringify(key) + \":\" + outEx;\n    \t}\n\n    \toutstr += this.GetTabStr(tabNum) + \"}\";\n\n    \tif(tabNum){\n    \t\toutstr += \",\";\n    \t}\n    \toutstr += \"\\n\";\n\n    \treturn outstr;\n    },\n\n    /**\n     * 返回tab字符串个数\n     * @param {Object} num\n     * @return {String}\n     */\n    GetTabStr:function(num){\n    \tvar outstr = \"\";\n    \twhile(num--){\n    \t\toutstr += \"\\t\";\n    \t}\n    \treturn outstr;\n    },\n\n\t/**\n     * 输出类属性信息\n     * @param obj\n     */\n    OutPutClassProperty:function(obj){\n    \tvar propertyDict = {};\n\t\tfor(var property in obj){\n\t\t\tpropertyDict[property] = obj[property];\n\t\t}\n\t\tthis.Log(this.GetPrintDictStr(propertyDict));\n    },\n\n\n\n    /**\n     *\t获取时间天数差\n     */\n\tGetDayDiffByTick:function(tick_1, tick_2){\n        var dateTime_1, dateTime_2;\n\n\t    dateTime_1 = new Date(tick_1);\n\t    dateTime_2 = new Date(tick_2);\n\n        try{\n            dateTime_1 = Date.parse((dateTime_1.getMonth() + 1) + \"/\" + dateTime_1.getDate() + \"/\" + dateTime_1.getFullYear());\n            dateTime_2 = Date.parse((dateTime_2.getMonth() + 1) + \"/\" + dateTime_2.getDate() + \"/\" + dateTime_2.getFullYear());\n            return Math.abs(dateTime_1 - dateTime_2) / (24*60*60*1000);\n        }\n\n        catch(e){\n            this.ErrLog(\"GetDayDiffByTick error(%s)\", e.message);\n        }\n\t},\n\n\t/**\n\t * 获取当前时间字符串格式: 2017/3/28 11:11\n\t */\n\tGetDateYearMonthDayHourMinuteString:function (time) {\n\t\tvar date = new Date(time*1000);\n\t\tvar year = date.getFullYear();\n\t\tvar month = date.getMonth() + 1;\n\t\tvar day = date.getDate();\n\t\tvar hours = date.getHours();\n\t\tvar minutes = date.getMinutes();\n        var seconds = date.getSeconds();\n\n\t\treturn year + \"/\" + this.StringAddNumSuffix(\"\", month, 2) + \"/\" + this.StringAddNumSuffix(\"\", day, 2) + \" \" + this.StringAddNumSuffix(\"\", hours, 2) + \":\" + this.StringAddNumSuffix(\"\", minutes, 2) + \":\" + this.StringAddNumSuffix(\"\", seconds, 2);\n    },\n\n    /**\n     * 获取当前时间字符串格式: 2017-3-28\n     */\n    GetDateYearMonthDayString:function (time) {\n        var date = new Date(time*1000);\n        var year = date.getFullYear();\n        var month = date.getMonth() + 1;\n        var day = date.getDate();\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        var seconds = date.getSeconds();\n\n        return year + \"-\" + this.StringAddNumSuffix(\"\", month, 2) + \"-\" + this.StringAddNumSuffix(\"\", day, 2);\n    },\n    /**\n     * 获取当前时间字符串格式: 11:11\n     */\n    GetDateHourMinuteString:function (time) {\n        var date = new Date(time*1000);\n        var year = date.getFullYear();\n        var month = date.getMonth() + 1;\n        var day = date.getDate();\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        var seconds = date.getSeconds();\n\n        return this.StringAddNumSuffix(\"\", hours, 2) + \":\" + this.StringAddNumSuffix(\"\", minutes, 2) + \":\" + this.StringAddNumSuffix(\"\", seconds, 2);\n    },\n    /**\n     * 获取当前时间字符串格式: 周几\n     */\n    GetDateDayString:function (time) {\n        var week;\n        if(date.getDay() == 0) week = \"日\"\n        if(date.getDay() == 1) week = \"一\"\n        if(date.getDay() == 2) week = \"二\"\n        if(date.getDay() == 3) week = \"三\"\n        if(date.getDay() == 4) week = \"四\"\n        if(date.getDay() == 5) week = \"五\"\n        if(date.getDay() == 6) week = \"六\"\n        return week;\n    },\n\t/**\n\t * 获取当前时间字符串格式\n\t * @returns {String} 2014-11-06\n\t */\n\tGetNowDateDayStr:function(){\n\t\tvar myDate = new Date();\n\n\t\tvar year = myDate.getFullYear();\n\t\tvar month = myDate.getMonth() + 1;\n\t\tvar day = myDate.getDate();\n\t\treturn [this.StringAddNumSuffix(\"\", year, 4), this.StringAddNumSuffix(\"\", month, 2), this.StringAddNumSuffix(\"\", day, 2)].join(\"-\");\n\t},\n    GetNowDateDayStr2:function(){\n        var myDate = new Date();\n\n        var year = myDate.getFullYear();\n        var month = myDate.getMonth() + 1;\n        var day = myDate.getDate();\n        return [this.StringAddNumSuffix(\"\", year, 4), this.StringAddNumSuffix(\"\", month, 2), this.StringAddNumSuffix(\"\", day, 2)].join(\"\");\n    },\n\t/**\n\t * 获取当前时间字符串格式\n\t * @returns {String} 2014-11\n\t */\n\tGetNowDateMonthString:function(){\n\t\tvar myDate = new Date();\n\t\tvar year = myDate.getFullYear();\n\t\tvar month = myDate.getMonth() + 1;\n\t\treturn [this.StringAddNumSuffix(\"\", year, 4), this.StringAddNumSuffix(\"\", month, 2)].join(\"-\");\n\t},\n\n\t/**\n\t * 获取当前时间字符串格式\n\t * @returns {String} 2014-11-06_193844\n\t */\n\tGetNowDateTimeStr:function(){\n\n\t\tvar myDate = new Date();\n\n\t\tvar year = myDate.getFullYear();\n\t\tvar month = myDate.getMonth() + 1;\n\t\tvar day = myDate.getDate();\n\t\tvar hour = myDate.getHours();\n\t\tvar min = myDate.getMinutes();\n\t\tvar second = myDate.getSeconds();\n\n\t\tvar dateString = [this.StringAddNumSuffix(\"\", year, 4), this.StringAddNumSuffix(\"\", month, 2), this.StringAddNumSuffix(\"\", day, 2)].join(\"-\");\n\t\tdateString += \"_\";\n\n\t\tdateString += [this.StringAddNumSuffix(\"\", hour, 2), this.StringAddNumSuffix(\"\", min, 2), this.StringAddNumSuffix(\"\", second, 2)].join(\":\");\n\n\t\treturn dateString\n\t},\n    //浮点型\n    StrIsNum:function(str){\n        let reg = /^(-?\\d+)(\\.\\d+)?$/;\n        let pattern = new RegExp(reg);\n        return pattern.test(str);\n    },\n    //纯数字\n    StrIsNumInt:function(str){\n        let reg = /^[0-9]*$/;\n        let pattern = new RegExp(reg);\n        return pattern.test(str);\n    },\n    GetNameByIndex:function(name, index){\n        if (name.length > index) {\n            name = name.substr(0,index) + \"...\";\n        }\n        return name;\n    },\n    GetIDByIndex:function(name, index){\n        if (name.length > index) {\n            name = name.substr(0,index) + \"***\";\n        }\n        return name;\n    },\n\n    //获取字符串单字节长度\n    GetStringByteLength:function(text){\n        var b = 0; \n        if(typeof(text) == \"string\") {  //如果存在字符串，则执行计划\n            for(var i = 0; i < text.length; i ++) {  //遍历字符串，枚举每个字符\n                if(text.charCodeAt(i) > 255) {  //字符编码大于255，说明是双字节字符\n                    b += 2;  //则累加2个\n                }else {\n                    b ++;  //否则递加一次\n                }\n            }\n            return b;  //返回字节数\n        } else {\n            return 0;  //如果参数为空，则返回0个\n        }\n    },\n});\n\nvar g_ComTool = null;\n\n/**\n * 绑定模块外部方法\n */\nexports.GetModel = function(){\n    if(!g_ComTool){\n        g_ComTool = new ComTool();\n    }\n    return g_ComTool;\n}"]}