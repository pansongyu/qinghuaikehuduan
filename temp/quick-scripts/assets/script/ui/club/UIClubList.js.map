{"version":3,"sources":["UIClubList.js"],"names":["app","require","cc","Class","extends","properties","clublist_scrollView","ScrollView","clublist_layout","Node","rightTop","lb_heroName","Label","lb_heroID","node_head","clublist_demo","OnCreateInit","RegEvent","Event_HeroProperty","WeChatManager","WeChatHeadImage1","getComponent","CityConfig","SysDataManager","GetTableDict","ShareDefine","OnShow","clublist","scrollView","node","getChildByName","scrollToLeft","self","NetManager","SendPack","serverPack","ShowClubList","error","ShowHero_NameOrID","ShowFastCount","ShowRoomCard","ShowClubCard","GetCityGameList","cityId","cityGame","Game","cityGameList","split","nameList","i","length","push","GameId2Name","join","gameId","GametTypeID2Name","event","argDict","string","substr","heroID","HeroManager","GetHeroProperty","headImageUrl","ShowHeroHead","DestroyAllChildren","demo_key","instantiate","player","addChild","active","name","clubId","id","cLubSign","clubsign","clubName","showUplevelId","showClubSign","playerClubCard","headNode","WeChatHeadImage","InitHeroHeadImage","pid","iconUrl","Layout","updateLayout","ScrollMaxWidth","width","gold","heroRoomCard","heroClubCard","isGetHeroData","heroName","ComTool","GetBeiZhuName","i18n","t","GetPid","LocalDataManager","SetConfigProperty","console","log","Client","LogOutGame","OnClick","btnName","btnNode","ClubManager","SetLastClubData","parent","ShowClubFrom","SetClubData","FormManager","ShowForm","allSelectCityData","GetCurSelectCityData","limit","Config","clubCreateNum","selcetId","SysNotifyManager","ShowSysMsg","CloseForm","pos","getScrollOffset","x","scrollToOffset","pos2","ErrLog"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,UAAR,CADJ;;AAGLI,gBAAY;AACRC,6BAAoBJ,GAAGK,UADf;AAERC,yBAAgBN,GAAGO,IAFX;AAGRC,kBAASR,GAAGO,IAHJ;AAIRE,qBAAYT,GAAGU,KAJP;AAKRC,mBAAUX,GAAGU,KALL;AAMRE,mBAAUZ,GAAGO,IANL;AAORM,uBAAc,CAACb,GAAGO,IAAJ;AAPN,KAHP;;AAaL;AACAO,kBAAa,wBAAU;AACnB,aAAKC,QAAL,CAAc,cAAd,EAA8B,KAAKC,kBAAnC,EAAuD,IAAvD;AACA,aAAKC,aAAL,GAAmBnB,IAAImB,aAAJ,EAAnB;AACA,aAAKC,gBAAL,GAAwB,KAAKN,SAAL,CAAeO,YAAf,CAA4B,iBAA5B,CAAxB;AACA,aAAKC,UAAL,GAAkBtB,IAAIuB,cAAJ,GAAqBC,YAArB,CAAkC,YAAlC,CAAlB;AACA,aAAKC,WAAL,GAAmBzB,IAAIyB,WAAJ,EAAnB;AACH,KApBI;;AAsBL;;AAEAC,YAAO,gBAASC,QAAT,EAAkB;AACrB,aAAKC,UAAL,GAAgB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,MAAzB,EAAiCT,YAAjC,CAA8CnB,GAAGK,UAAjD,CAAhB;AACA,aAAKqB,UAAL,CAAgBG,YAAhB,CAA6B,CAA7B;AACA;AACA,YAAIJ,YAAY,IAAZ,IAAoB,OAAOA,QAAP,IAAoB,WAA5C,EAAyD;AACrD,gBAAIK,OAAK,IAAT;AACAhC,gBAAIiC,UAAJ,GAAiBC,QAAjB,CAA0B,mBAA1B,EAA8C,EAA9C,EAAiD,UAASC,UAAT,EAAoB;AACjEH,qBAAKI,YAAL,CAAkBD,UAAlB;AACH,aAFD,EAEE,UAASE,KAAT,EAAe,CAEhB,CAJD;AAKH,SAPD,MAOK;AACD,iBAAKD,YAAL,CAAkBT,QAAlB;AACH;AACD,aAAKW,iBAAL;AACA,aAAKC,aAAL;AACA,aAAKC,YAAL;AACA,aAAKC,YAAL;AAGH,KA5CI;AA6CLC,qBAAgB,yBAASC,MAAT,EAAgB;AAC5B,YAAIC,WAAW,KAAKtB,UAAL,CAAgBqB,MAAhB,EAAwBE,IAAvC;AACA,YAAIC,eAAeF,SAASG,KAAT,CAAe,GAAf,CAAnB;AACA,YAAIC,WAAS,EAAb;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEH,aAAaI,MAA3B,EAAkCD,GAAlC,EAAsC;AAClC,gBAAGA,IAAE,CAAL,EAAO;AACH;AACH;AACDD,qBAASG,IAAT,CAAc,KAAKC,WAAL,CAAiBN,aAAaG,CAAb,CAAjB,CAAd;AACH;AACD,eAAOD,SAASK,IAAT,CAAc,GAAd,IAAmB,KAA1B;AAEH,KAzDI;AA0DLD,iBAAY,qBAASE,MAAT,EAAgB;AACxB,eAAO,KAAK7B,WAAL,CAAiB8B,gBAAjB,CAAkCD,MAAlC,CAAP;AACH,KA5DI;AA6DLpC,wBAAmB,4BAAUsC,KAAV,EAAiB;AAChC,YAAIC,UAAUD,KAAd;AACA,YAAGC,QAAQ,UAAR,KAAuB,MAA1B,EAAiC;AAC7B,iBAAKlB,aAAL;AACH,SAFD,MAGK,IAAGkB,QAAQ,UAAR,KAAuB,UAA1B,EAAqC;AACtC,iBAAKjB,YAAL;AACH,SAFI,MAEC,IAAGiB,QAAQ,UAAR,KAAuB,UAA1B,EAAqC;AACvC,iBAAKhB,YAAL;AACH,SAFK,MAEA,IAAGgB,QAAQ,UAAR,KAAuB,MAA1B,EAAiC;AACnC,iBAAK9C,WAAL,CAAiB+C,MAAjB,GAAyBD,QAAQ,MAAR,EAAgBE,MAAhB,CAAuB,GAAvB,CAAzB;AACH,SAFK,MAEA,IAAGF,QAAQ,UAAR,KAAqB,SAAxB,EAAkC;AACpC,gBAAIG,SAAS5D,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAb;AACA,gBAAIC,eAAe/D,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,cAAlC,CAAnB;AACA,iBAAK1C,gBAAL,CAAsB4C,YAAtB,CAAmCJ,MAAnC,EAA0CG,YAA1C;AACH;AACJ,KA7EI;AA8EL3B,kBAAa,sBAASD,UAAT,EAAoB;AAC7B;AACA,YAAIyB,SAAS5D,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAb;AACA,aAAKG,kBAAL,CAAwB,KAAKzD,eAA7B;AACA,aAAI,IAAIyC,IAAE,CAAV,EAAYA,IAAEd,WAAWe,MAAzB,EAAgCD,GAAhC,EAAoC;AAChC,gBAAIiB,WAASjB,IAAE,CAAf;AACA,gBAAIpB,OAAK3B,GAAGiE,WAAH,CAAe,KAAKpD,aAAL,CAAmBmD,QAAnB,CAAf,CAAT;;AAEA,gBAAIE,SAAOjC,WAAWc,CAAX,EAAcmB,MAAzB;AACA,iBAAK5D,eAAL,CAAqB6D,QAArB,CAA8BxC,IAA9B;AACAA,iBAAKyC,MAAL,GAAY,IAAZ;AACAzC,iBAAK0C,IAAL,GAAU,UAAV;AACA1C,iBAAK2C,MAAL,GAAcrC,WAAWc,CAAX,EAAcwB,EAA5B;AACA5C,iBAAK6C,QAAL,GAAgBvC,WAAWc,CAAX,EAAc0B,QAA9B;AACA9C,iBAAK+C,QAAL,GAAgBzC,WAAWc,CAAX,EAAcsB,IAA9B;;AAEA1C,iBAAKgD,aAAL,GAAqB1C,WAAWc,CAAX,EAAc4B,aAAnC;AACAhD,iBAAKiD,YAAL,GAAoB3C,WAAWc,CAAX,EAAc6B,YAAlC;;AAGAjD,iBAAKC,cAAL,CAAoB,UAApB,EAAgCT,YAAhC,CAA6CnB,GAAGU,KAAhD,EAAuD8C,MAAvD,GAAgEvB,WAAWc,CAAX,EAAcsB,IAA9E;AACA1C,iBAAKC,cAAL,CAAoB,QAApB,EAA8BT,YAA9B,CAA2CnB,GAAGU,KAA9C,EAAqD8C,MAArD,GAA8D,YAAUvB,WAAWc,CAAX,EAAc0B,QAAxB,GAAiC,GAA/F;AACA;AACA9C,iBAAKC,cAAL,CAAoB,UAApB,EAAgCT,YAAhC,CAA6CnB,GAAGU,KAAhD,EAAuD8C,MAAvD,GAAgE,QAAhE;AACA7B,iBAAKC,cAAL,CAAoB,WAApB,EAAiCT,YAAjC,CAA8CnB,GAAGU,KAAjD,EAAwD8C,MAAxD,GAAiEvB,WAAWc,CAAX,EAAc8B,cAA/E;AACAlD,iBAAKC,cAAL,CAAoB,WAApB,EAAiCT,YAAjC,CAA8CnB,GAAGU,KAAjD,EAAwD8C,MAAxD,GAAiE,OAAjE;AACA;AACA7B,iBAAKC,cAAL,CAAoB,aAApB,EAAmCT,YAAnC,CAAgDnB,GAAGU,KAAnD,EAA0D8C,MAA1D,GAAmE,QAAM,KAAKhB,eAAL,CAAqBP,WAAWc,CAAX,EAAcN,MAAnC,CAAzE;AACA,gBAAIqC,WAASnD,KAAKC,cAAL,CAAoB,MAApB,CAAb;AACA,gBAAImD,kBAAgBD,SAAS3D,YAAT,CAAsB,iBAAtB,CAApB;AACA,iBAAKF,aAAL,CAAmB+D,iBAAnB,CAAqCd,OAAOe,GAA5C,EAAiDf,OAAOgB,OAAxD;AACA,iBAAKhE,gBAAL,CAAsB4C,YAAtB,CAAmCI,OAAOe,GAA1C,EAA8Cf,OAAOgB,OAArD;AACAJ,qBAASlD,cAAT,CAAwB,QAAxB,EAAkCwC,MAAlC,GAAyCF,OAAOe,GAAP,IAAYvB,MAArD;AACH;AACD,aAAKpD,eAAL,CAAqBa,YAArB,CAAkCnB,GAAGmF,MAArC,EAA6CC,YAA7C;AACA,aAAKC,cAAL,GAAoB,IAAE,KAAK/E,eAAL,CAAqBgF,KAA3C;AACH,KAlHI;;AAoHLjD,mBAAc,yBAAY;AACtB,YAAIkD,OAAOzF,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,MAAlC,CAAX;AACA,aAAKpD,QAAL,CAAcoB,cAAd,CAA6B,OAA7B,EAAsCA,cAAtC,CAAqD,OAArD,EAA8DT,YAA9D,CAA2EnB,GAAGU,KAA9E,EAAqF8C,MAArF,GAA4F+B,IAA5F;AACH,KAvHI;AAwHLjD,kBAAa,wBAAY;AACrB,YAAIkD,eAAe1F,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,UAAlC,CAAnB;AACA,aAAKpD,QAAL,CAAcoB,cAAd,CAA6B,QAA7B,EAAuCA,cAAvC,CAAsD,OAAtD,EAA+DT,YAA/D,CAA4EnB,GAAGU,KAA/E,EAAsF8C,MAAtF,GAA6FgC,YAA7F;AACH,KA3HI;AA4HLjD,kBAAa,wBAAY;AACrB,YAAIkD,eAAe3F,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,UAAlC,CAAnB;AACA,aAAKpD,QAAL,CAAcoB,cAAd,CAA6B,QAA7B,EAAuCA,cAAvC,CAAsD,OAAtD,EAA+DT,YAA/D,CAA4EnB,GAAGU,KAA/E,EAAsF8C,MAAtF,GAA6FiC,YAA7F;AACH,KA/HI;AAgILrD,uBAAkB,6BAAY;AAC1B,YAAIW,IAAI,CAAR;AACA,YAAI2C,gBAAgB,KAApB;AACA,eAAM3C,IAAI,EAAJ,IAAU,CAAC2C,aAAjB,EAA+B;AAC3B,gBAAIC,WAAW7F,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,MAAlC,CAAf;AACA,gBAAI,OAAO+B,QAAP,IAAoB,QAAxB,EAAkC;AAC9B,oBAAIjC,SAAS5D,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAb;AACA,oBAAIC,eAAe/D,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,cAAlC,CAAnB;AACA,qBAAKnD,WAAL,CAAiB+C,MAAjB,GAA2B,KAAKoC,OAAL,CAAaC,aAAb,CAA2BnC,MAA3B,EAAkCiC,QAAlC,EAA2C,CAA3C,CAA3B;AACA,qBAAKhF,SAAL,CAAe6C,MAAf,GAAwB1D,IAAIgG,IAAJ,CAASC,CAAT,CAAW,gBAAX,EAA4B,EAAC,OAAM,KAAKH,OAAL,CAAaI,MAAb,CAAoBtC,MAApB,CAAP,EAA5B,CAAxB;AACA,qBAAKxC,gBAAL,CAAsB4C,YAAtB,CAAmCJ,MAAnC,EAA0CG,YAA1C;AACA6B,gCAAgB,IAAhB;AACA;AACH,aARD,MAQK;AACD3C;AACH;AACJ;AACD;AACA,YAAI,CAAC2C,aAAL,EAAoB;AAChB,iBAAKO,gBAAL,CAAsBC,iBAAtB,CAAwC,SAAxC,EAAmD,iBAAnD,EAAsE,EAAtE;AACAC,oBAAQC,GAAR,CAAY,eAAZ;AACAtG,gBAAIuG,MAAJ,CAAWC,UAAX,CAAsB,CAAtB;AACH;AACJ,KAvJI;AAwJL;;AAEHC,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;AACjC,YAAG,eAAaD,OAAhB,EAAwB;AACd;AACA1G,gBAAI4G,WAAJ,GAAkBC,eAAlB,CAAkCF,QAAQG,MAAR,CAAetC,MAAjD,EAAyDmC,QAAQG,MAAR,CAAepC,QAAxE,EAAkFiC,QAAQG,MAAR,CAAelC,QAAjG,EAA0G+B,QAAQG,MAAR,CAAejC,aAAzH,EAAuI8B,QAAQG,MAAR,CAAehC,YAAtJ;AACA;AACA9E,gBAAI4G,WAAJ,GAAkBG,YAAlB;AACH,SALP,MAKY,IAAG,cAAYL,OAAf,EAAuB;AACzB;AACA1G,gBAAI4G,WAAJ,GAAkBC,eAAlB,CAAkCF,QAAQnC,MAA1C,EAAkDmC,QAAQjC,QAA1D,EAAoEiC,QAAQ/B,QAA5E,EAAsF+B,QAAQ9B,aAA9F,EAA6G8B,QAAQ7B,YAArH;AACA;AACA9E,gBAAI4G,WAAJ,GAAkBG,YAAlB;AACH,SALK,MAOD,IAAG,YAAUL,OAAb,EAAqB;AACtB,gBAAI1E,OAAO,IAAX;AACAhC,gBAAIiC,UAAJ,GAAiBC,QAAjB,CAA0B,eAA1B,EAA0C,EAAC,UAASyE,QAAQG,MAAR,CAAetC,MAAzB,EAA1C,EAA2E,UAASrC,UAAT,EAAoB;AAC3FnC,oBAAI4G,WAAJ,GAAkBI,WAAlB,CAA8B7E,UAA9B;AACAH,qBAAKI,YAAL,CAAkBD,UAAlB;AACH,aAHD,EAGE,UAASE,KAAT,EAAe,CAEhB,CALD;AAMH,SARI,MAQC,IAAG,kBAAgBqE,OAAnB,EAA2B;AAC7B1G,gBAAIiH,WAAJ,GAAkBC,QAAlB,CAA2B,oBAA3B;AACH,SAFK,MAEA,IAAG,oBAAkBR,OAArB,EAA6B;AAC/B,iBAAKS,iBAAL,GAAyBnH,IAAI6D,WAAJ,GAAkBuD,oBAAlB,EAAzB;AACA,gBAAI1B,eAAe1F,IAAI6D,WAAJ,GAAkBC,eAAlB,CAAkC,UAAlC,CAAnB;AACA,gBAAIuD,QAAQrH,IAAIsH,MAAJ,GAAatH,IAAIsH,MAAJ,CAAWC,aAAxB,GAAwC,GAApD;AACA,gBAAG7B,gBAAc2B,KAAjB,EAAuB;AACnBrH,oBAAIiH,WAAJ,GAAkBC,QAAlB,CAA2B,sBAA3B,EAAkD,KAAKC,iBAAL,CAAuB,CAAvB,EAA0BK,QAA5E;AACH,aAFD,MAEK;AACDxH,oBAAIyH,gBAAJ,GAAuBC,UAAvB,CAAkC,SAASL,KAAT,GAAiB,UAAnD;AACH;;AAGD;;;;;AAKH,SAhBK,MAiBD,IAAG,iBAAiBX,OAApB,EAA4B;AAC7B,iBAAKO,WAAL,CAAiBU,SAAjB,CAA2B,aAA3B;AACA,iBAAKV,WAAL,CAAiBC,QAAjB,CAA0B,SAA1B,EAAoC,YAApC;AACH,SAHI,MAIA,IAAG,qBAAqBR,OAAxB,EAAgC;AACjC,iBAAKO,WAAL,CAAiBU,SAAjB,CAA2B,aAA3B;AACA,iBAAKV,WAAL,CAAiBU,SAAjB,CAA2B,oBAA3B;AACA,iBAAKV,WAAL,CAAiBC,QAAjB,CAA0B,SAA1B,EAAoC,YAApC;AACH,SAJI,MAKA,IAAG,cAAcR,OAAjB,EAAyB;AAC1B,iBAAKO,WAAL,CAAiBC,QAAjB,CAA0B,YAA1B;AACH,SAFI,MAEC,IAAG,cAAYR,OAAf,EAAuB;AACzB,iBAAKiB,SAAL;AACH,SAFK,MAEA,IAAG,aAAWjB,OAAd,EAAsB;AACxB,gBAAIkB,MAAM,KAAKhG,UAAL,CAAgBiG,eAAhB,EAAV;AACAD,gBAAIE,CAAJ,GAAMF,IAAIE,CAAJ,GAAM,GAAZ;AACA,iBAAKlG,UAAL,CAAgBmG,cAAhB,CAA+BH,GAA/B;AAEH,SALK,MAKA,IAAG,aAAWlB,OAAd,EAAsB;AACxB,gBAAIsB,OAAO,KAAKpG,UAAL,CAAgBiG,eAAhB,EAAX;AACAG,iBAAKF,CAAL,GAAOE,KAAKF,CAAL,GAAO,GAAd;AACA,iBAAKlG,UAAL,CAAgBmG,cAAhB,CAA+BC,IAA/B;AACH,SAJK,MAKF;AACT,iBAAKC,MAAL,CAAY,qBAAZ,EAAmCvB,OAAnC;AACA;AACD;AA5NO,CAAT","file":"UIClubList.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["/*\n    UIMessage 模态消息界面\n*/\n\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        clublist_scrollView:cc.ScrollView,\n        clublist_layout:cc.Node,\n        rightTop:cc.Node,\n        lb_heroName:cc.Label,\n        lb_heroID:cc.Label,\n        node_head:cc.Node,\n        clublist_demo:[cc.Node],\n    },\n\n    //初始化\n    OnCreateInit:function(){\n        this.RegEvent(\"HeroProperty\", this.Event_HeroProperty, this);\n        this.WeChatManager=app.WeChatManager();\n        this.WeChatHeadImage1 = this.node_head.getComponent(\"WeChatHeadImage\");\n        this.CityConfig = app.SysDataManager().GetTableDict(\"selectCity\");\n        this.ShareDefine = app.ShareDefine();\n    },\n\n    //---------显示函数--------------------\n\n    OnShow:function(clublist){\n        this.scrollView=this.node.getChildByName(\"mark\").getComponent(cc.ScrollView);\n        this.scrollView.scrollToLeft(0);\n        //this.clublist_demo.active = false;\n        if (clublist == null || typeof(clublist) == \"undefined\") {\n            let self=this;\n            app.NetManager().SendPack('club.CGetClubList',{},function(serverPack){\n                self.ShowClubList(serverPack);\n            },function(error){\n\n            });\n        }else{\n            this.ShowClubList(clublist);\n        }\n        this.ShowHero_NameOrID();\n        this.ShowFastCount();\n        this.ShowRoomCard();\n        this.ShowClubCard();\n\n\n    },\n    GetCityGameList:function(cityId){\n        let cityGame = this.CityConfig[cityId].Game;\n        let cityGameList = cityGame.split(\",\");\n        let nameList=[];\n        for(let i=0;i<cityGameList.length;i++){\n            if(i>0){\n                break;\n            }\n            nameList.push(this.GameId2Name(cityGameList[i]));\n        }\n        return nameList.join(',')+\"...\";\n\n    },\n    GameId2Name:function(gameId){\n        return this.ShareDefine.GametTypeID2Name[gameId];\n    },\n    Event_HeroProperty:function (event) {\n        let argDict = event;\n        if(argDict[\"Property\"] == \"gold\"){\n            this.ShowFastCount();\n        }\n        else if(argDict[\"Property\"] == \"roomCard\"){\n            this.ShowRoomCard();\n        }else if(argDict[\"Property\"] == \"clubCard\"){\n            this.ShowClubCard();\n        }else if(argDict[\"Property\"] == \"name\"){\n            this.lb_heroName.string =argDict[\"name\"].substr(0.9);\n        }else if(argDict[\"Property\"]==\"headimg\"){\n            let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n            let headImageUrl = app.HeroManager().GetHeroProperty(\"headImageUrl\");\n            this.WeChatHeadImage1.ShowHeroHead(heroID,headImageUrl);\n        }\n    },\n    ShowClubList:function(serverPack){\n        //this.clublist_layout.removeAllChildren();\n        let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n        this.DestroyAllChildren(this.clublist_layout);\n        for(let i=0;i<serverPack.length;i++){\n            let demo_key=i%3;\n            let node=cc.instantiate(this.clublist_demo[demo_key]);\n\n            let player=serverPack[i].player;\n            this.clublist_layout.addChild(node);\n            node.active=true;\n            node.name=\"btn_club\";\n            node.clubId = serverPack[i].id;\n            node.cLubSign = serverPack[i].clubsign;\n            node.clubName = serverPack[i].name;\n\n            node.showUplevelId = serverPack[i].showUplevelId;\n            node.showClubSign = serverPack[i].showClubSign;\n            \n\n            node.getChildByName(\"clubName\").getComponent(cc.Label).string = serverPack[i].name;\n            node.getChildByName(\"clubId\").getComponent(cc.Label).string = \"(亲友圈ID:\"+serverPack[i].clubsign+\")\";\n            //node.getChildByName(\"tableNum\").getComponent(cc.Label).string = \"在玩桌数:\"+serverPack[i].playingRoomCount;\n            node.getChildByName(\"tableNum\").getComponent(cc.Label).string = \"在玩桌数:*\";\n            node.getChildByName(\"quankaNum\").getComponent(cc.Label).string = serverPack[i].playerClubCard;\n            node.getChildByName(\"peopleNum\").getComponent(cc.Label).string = \"成员数:*\";\n            //node.getChildByName(\"peopleNum\").getComponent(cc.Label).string = \"成员数:\"+serverPack[i].peopleNum;\n            node.getChildByName(\"lb_gamelist\").getComponent(cc.Label).string = \"游戏:\"+this.GetCityGameList(serverPack[i].cityId);\n            let headNode=node.getChildByName(\"head\");\n            let WeChatHeadImage=headNode.getComponent(\"WeChatHeadImage\");\n            this.WeChatManager.InitHeroHeadImage(player.pid, player.iconUrl);\n            this.WeChatHeadImage1.ShowHeroHead(player.pid,player.iconUrl);\n            headNode.getChildByName(\"img_wd\").active=player.pid==heroID;\n        }\n        this.clublist_layout.getComponent(cc.Layout).updateLayout();\n        this.ScrollMaxWidth=0-this.clublist_layout.width;\n    },\n\n    ShowFastCount:function () {\n        let gold = app.HeroManager().GetHeroProperty('gold');\n        this.rightTop.getChildByName('ledou').getChildByName('label').getComponent(cc.Label).string=gold;\n    },\n    ShowRoomCard:function () {\n        let heroRoomCard = app.HeroManager().GetHeroProperty(\"roomCard\");\n        this.rightTop.getChildByName('fangka').getChildByName('label').getComponent(cc.Label).string=heroRoomCard;\n    },\n    ShowClubCard:function () {\n        let heroClubCard = app.HeroManager().GetHeroProperty(\"clubCard\");\n        this.rightTop.getChildByName('quanka').getChildByName('label').getComponent(cc.Label).string=heroClubCard;\n    },\n    ShowHero_NameOrID:function () {\n        let i = 0;\n        let isGetHeroData = false;\n        while(i < 30 || !isGetHeroData){\n            let heroName = app.HeroManager().GetHeroProperty(\"name\");\n            if (typeof(heroName) == \"string\") {\n                let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n                let headImageUrl = app.HeroManager().GetHeroProperty(\"headImageUrl\");\n                this.lb_heroName.string =  this.ComTool.GetBeiZhuName(heroID,heroName,9);\n                this.lb_heroID.string = app.i18n.t(\"UIMain_PIDText\",{\"pid\":this.ComTool.GetPid(heroID)});\n                this.WeChatHeadImage1.ShowHeroHead(heroID,headImageUrl);\n                isGetHeroData = true;\n                break;\n            }else{\n                i++;\n            }\n        }\n        //如果还是没取到玩家信息，重新登录\n        if (!isGetHeroData) {\n            this.LocalDataManager.SetConfigProperty(\"Account\", \"AccessTokenInfo\", {});\n            console.log(\"玩家信息获取失败，切换账号\");\n            app.Client.LogOutGame(1);\n        }\n    },\n    //---------点击函数---------------------\n\n\tOnClick:function(btnName, btnNode){\n\t\tif('btn_enter'==btnName){\n            //this.CloseForm();\n            app.ClubManager().SetLastClubData(btnNode.parent.clubId, btnNode.parent.cLubSign, btnNode.parent.clubName,btnNode.parent.showUplevelId,btnNode.parent.showClubSign);\n            // app.FormManager().ShowForm(\"ui/club/UIClubMain\");\n            app.ClubManager().ShowClubFrom();\n        }else if('btn_club'==btnName){\n            //this.CloseForm();\n            app.ClubManager().SetLastClubData(btnNode.clubId, btnNode.cLubSign, btnNode.clubName, btnNode.showUplevelId, btnNode.showClubSign);\n            // app.FormManager().ShowForm(\"ui/club/UIClubMain\");\n            app.ClubManager().ShowClubFrom();\n        }\n\n        else if('btn_up'==btnName){\n            let self = this;\n            app.NetManager().SendPack('club.CClubTop',{\"clubId\":btnNode.parent.clubId},function(serverPack){\n                app.ClubManager().SetClubData(serverPack);\n                self.ShowClubList(serverPack);\n            },function(error){\n\n            });\n        }else if('btn_joinClub'==btnName){\n            app.FormManager().ShowForm('ui/club/UIJoinClub');\n        }else if('btn_createClub'==btnName){\n            this.allSelectCityData = app.HeroManager().GetCurSelectCityData();\n            let heroRoomCard = app.HeroManager().GetHeroProperty(\"roomCard\");\n            let limit = app.Config ? app.Config.clubCreateNum : 100\n            if(heroRoomCard>=limit){\n                app.FormManager().ShowForm('ui/club/UIClubCreate',this.allSelectCityData[0].selcetId);\n            }else{\n                app.SysNotifyManager().ShowSysMsg('钻石不足' + limit + '，无法创建亲友圈');\n            }\n\n\n            /*app.NetManager().SendPack(\"family.CPlayerCheckFamilyOwner\",{},function(success){\n                app.FormManager().ShowForm('ui/club/UIClubCreate', success);\n            },function(error){\n                app.SysNotifyManager().ShowSysMsg('不是代理或工会不存在，请联系客服');\n            });*/\n        }\n        else if('btn_addGold' == btnName){\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.ShowForm(\"UIStore\",'btn_table0');\n        }\n        else if('btn_addRoomCard' == btnName){\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIBangDingTuiGuang\");\n            this.FormManager.ShowForm(\"UIStore\",'btn_table1');\n        } \n        else if('btn_head' == btnName){\n            this.FormManager.ShowForm(\"UIUserInfo\");\n        }else if('btn_back'==btnName){\n            this.CloseForm();\n        }else if(\"btn_you\"==btnName){\n            var pos = this.scrollView.getScrollOffset();\n            pos.x=pos.x-300;\n            this.scrollView.scrollToOffset(pos);\n\n        }else if(\"btn_zuo\"==btnName){\n            var pos2 = this.scrollView.getScrollOffset();\n            pos2.x=pos2.x+300;\n            this.scrollView.scrollToOffset(pos2);\n        }\n        else{\n\t\t\tthis.ErrLog(\"OnClick:%s not find\", btnName);\n\t\t}\n\t},\n});\n"]}