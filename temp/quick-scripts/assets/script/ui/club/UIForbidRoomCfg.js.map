{"version":3,"sources":["UIForbidRoomCfg.js"],"names":["app","require","cc","Class","extends","properties","OnCreateInit","selectAllToggle","node","getChildByName","OnShow","clubId","pid","cfgScrollView","content","getComponent","ScrollView","scrollToTop","removeAllChildren","unionSendPackHead","ClubManager","GetUnionSendPackHead","unionId","isOpClub","parseInt","curPage","showCurEnd","showAllEnd","showDataEnd","GetDataList","isRefresh","sendPack","opPid","self","NetManager","SendPack","serverPack","UpdateScrollView","SysNotifyManager","ShowSysMsg","opClubId","demo","active","isAll","Toggle","isChecked","unionBanRoomConfigBOList","i","length","child","instantiate","cfgObj","JSON","parse","dataJsonCfg","gameType","ShareDefine","GametTypeID2PinYin","gameId","wanfa","RoomCfgManager","WanFa","GetUnionCfg","unionCfg","substring","roomName","GametTypeID2Name","Label","string","isBan","configId","addChild","PLDecStr","roomSportsThreshold","sportsDouble","prizePool","roomSportsType","bigWinnerConsumeList","geWinnerPoint","roomSportsBigWinnerConsume","winScore","sportsPoint","twoMode","roomSportsEveryoneConsume","dianbo","autoDismiss","OnClickSelectAllToggle","event","children","OnClickSelectToggle","isSelectAll","GetCurSelectForbidList","configIdList","push","OnClick","btnName","btnNode","CloseForm","wanfaStr","parent","unionCfgStr","FormManager","ShowForm","ErrLog"],"mappings":"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","file":"UIForbidRoomCfg.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n\n    },\n\n    OnCreateInit: function () {\n        this.selectAllToggle = this.node.getChildByName(\"topNode\").getChildByName(\"selectAllToggle\");\n    },\n\n    OnShow: function (clubId, pid) {\n        let cfgScrollView = this.node.getChildByName(\"cfgScrollView\");\n        let content = cfgScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        cfgScrollView.getComponent(cc.ScrollView).scrollToTop();\n        content.removeAllChildren();\n\n        this.clubId = clubId;\n        let unionSendPackHead = app.ClubManager().GetUnionSendPackHead();\n        if (unionSendPackHead.unionId > 0) {\n            this.isOpClub = false;\n        }else{\n            this.isOpClub = true;\n        }\n        this.pid = parseInt(pid);\n        this.curPage = 1;\n        this.showCurEnd = true;\n        this.showAllEnd = true;\n        this.showDataEnd = false;\n        this.GetDataList(true);\n    },\n    GetDataList:function(isRefresh=false){\n        let sendPack = {};\n        sendPack.opPid = this.pid;\n        let self = this;\n        if (this.isOpClub) {\n            sendPack.clubId = this.clubId;\n            app.NetManager().SendPack(\"club.CClubBanRoomConigList\",sendPack, function(serverPack){\n                self.UpdateScrollView(serverPack,isRefresh);\n            }, function(){\n                app.SysNotifyManager().ShowSysMsg(\"获取列表失败\",[],3);\n            });\n        }else{\n            sendPack.opClubId = this.clubId;\n            let unionSendPackHead = app.ClubManager().GetUnionSendPackHead();\n            sendPack.unionId = unionSendPackHead.unionId;\n            sendPack.clubId = unionSendPackHead.clubId;\n            app.NetManager().SendPack(\"union.CUnionBanRoomConigList\",sendPack, function(serverPack){\n                self.UpdateScrollView(serverPack,isRefresh);\n            }, function(){\n                app.SysNotifyManager().ShowSysMsg(\"获取列表失败\",[],3);\n            });\n        }\n    },\n    UpdateScrollView:function(serverPack, isRefresh){\n        this.showDataEnd = false;\n        let cfgScrollView = this.node.getChildByName(\"cfgScrollView\");\n        let content = cfgScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        if (isRefresh) {\n            cfgScrollView.getComponent(cc.ScrollView).scrollToTop();\n            content.removeAllChildren();\n        }\n        let demo = this.node.getChildByName(\"demo\");\n        demo.active = false;\n        \n        if (serverPack.isAll == 1) {\n            this.selectAllToggle.getComponent(cc.Toggle).isChecked = true;\n        }else{\n            this.selectAllToggle.getComponent(cc.Toggle).isChecked = false;\n        }\n        let unionBanRoomConfigBOList = serverPack.unionBanRoomConfigBOList;\n        for (let i = 0; i < unionBanRoomConfigBOList.length; i++) {\n            let child = cc.instantiate(demo);\n            let cfgObj = JSON.parse(unionBanRoomConfigBOList[i].dataJsonCfg);\n            let gameType = app.ShareDefine().GametTypeID2PinYin[unionBanRoomConfigBOList[i].gameId];\n            let wanfa=app.RoomCfgManager().WanFa(gameType,cfgObj);\n            child.wanfa = wanfa;\n            wanfa += \"  \"+this.GetUnionCfg(cfgObj);\n            child.unionCfg = this.GetUnionCfg(cfgObj);\n            if(wanfa.length > 16){\n                wanfa = wanfa.substring(0,16) + '...';\n            }\n            let roomName = unionBanRoomConfigBOList[i].roomName;\n            if (roomName == \"\") {\n                roomName = app.ShareDefine().GametTypeID2Name[unionBanRoomConfigBOList[i].gameId];\n            }\n            child.getChildByName(\"img_bj\").getChildByName(\"lb_roomName\").getComponent(cc.Label).string = roomName;\n            child.getChildByName(\"img_bj\").getChildByName(\"lb_roomCfg\").getComponent(cc.Label).string = wanfa;\n            if (unionBanRoomConfigBOList[i].isBan == 1) {\n                child.getChildByName(\"selectToggle\").getComponent(cc.Toggle).isChecked = true;\n            }else{\n                child.getChildByName(\"selectToggle\").getComponent(cc.Toggle).isChecked = false;\n            }\n\n            child.configId = unionBanRoomConfigBOList[i].configId;\n            child.active = true;\n            content.addChild(child);\n        }\n        this.showDataEnd = true;\n    },\n    GetUnionCfg:function(cfgObj){\n        let PLDecStr = \"\";\n        PLDecStr += \"房间比赛分门槛：\"+cfgObj.roomSportsThreshold;\n        PLDecStr += \"，比赛分倍数：\"+cfgObj.sportsDouble;\n        if (typeof(cfgObj.prizePool) == \"undefined\") {\n            cfgObj.prizePool = 0;\n        }\n        PLDecStr += \"，赛事成本：\"+cfgObj.prizePool;\n        PLDecStr += \"，房间比赛分消耗：\";\n        if (cfgObj.roomSportsType == 0) {\n            if (typeof(cfgObj.bigWinnerConsumeList) == \"undefined\" || cfgObj.bigWinnerConsumeList.length <= 0) {\n                PLDecStr += \"大赢家赢比赛分>=\"+cfgObj.geWinnerPoint+\"时，消耗\"+cfgObj.roomSportsBigWinnerConsume;\n            }else{\n                for (let i = 0; i < cfgObj.bigWinnerConsumeList.length; i++) {\n                    PLDecStr += \"大赢家赢比赛分>\"+cfgObj.bigWinnerConsumeList[i].winScore+\"时，消耗比赛分\"+cfgObj.bigWinnerConsumeList[i].sportsPoint;\n                    if (i < (cfgObj.bigWinnerConsumeList.length - 1)) {\n                        PLDecStr += \"，\";\n                    }\n                }\n            }\n            if(cfgObj.twoMode){\n                PLDecStr += \"；每人付\" + cfgObj.roomSportsEveryoneConsume;\n            }\n        }else{\n            PLDecStr += \"每人付\"+cfgObj.roomSportsEveryoneConsume;\n        }\n        if (cfgObj.dianbo && parseInt(cfgObj.dianbo)) {\n            PLDecStr += \"，携带分\"+cfgObj.dianbo;\n        }\n        else PLDecStr += \"，比赛分低于\"+cfgObj.autoDismiss+\"自动解散\";\n        return PLDecStr;\n    },\n    OnClickSelectAllToggle:function(event){\n        if (!this.showDataEnd) return;\n        if (!this.showCurEnd) return;\n        this.showAllEnd = false;\n        let cfgScrollView = this.node.getChildByName(\"cfgScrollView\");\n        let content = cfgScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        if (this.selectAllToggle.getComponent(cc.Toggle).isChecked) {\n            for (let i = 0; i < content.children.length; i++) {\n                content.children[i].getChildByName(\"selectToggle\").getComponent(cc.Toggle).isChecked = true;\n            }\n        }else{\n            for (let i = 0; i < content.children.length; i++) {\n                content.children[i].getChildByName(\"selectToggle\").getComponent(cc.Toggle).isChecked = false;\n            }\n        }\n        this.showAllEnd = true;\n    },\n    OnClickSelectToggle:function(event){\n        if (!this.showDataEnd) return;\n        if (!this.showAllEnd) return;\n        this.showCurEnd = false;\n        let cfgScrollView = this.node.getChildByName(\"cfgScrollView\");\n        let content = cfgScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        let isSelectAll = true;\n        for (let i = 0; i < content.children.length; i++) {\n            if (!content.children[i].getChildByName(\"selectToggle\").getComponent(cc.Toggle).isChecked) {\n                isSelectAll = false;\n            }\n        }\n        this.selectAllToggle.getComponent(cc.Toggle).isChecked = isSelectAll;\n        this.showCurEnd = true;\n    },\n    GetCurSelectForbidList:function(){\n        let cfgScrollView = this.node.getChildByName(\"cfgScrollView\");\n        let content = cfgScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        let configIdList = [];\n        for (let i = 0; i < content.children.length; i++) {\n            if (content.children[i].getChildByName(\"selectToggle\").getComponent(cc.Toggle).isChecked) {\n                configIdList.push(content.children[i].configId);\n            }\n        }\n        return configIdList;\n    },\n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_cancel\"){\n            this.CloseForm();\n        }else if(btnName == \"btn_sure\"){\n            let sendPack = {};\n            sendPack.opClubId = this.clubId;\n            sendPack.opPid = this.pid;\n            sendPack.configIdList = this.GetCurSelectForbidList();\n            if (this.selectAllToggle.getComponent(cc.Toggle).isChecked) {\n                sendPack.isAll = 1;\n            }else{\n                sendPack.isAll = 0;\n            }\n            let self = this;\n            if (this.isOpClub) {\n                sendPack.clubId = this.clubId;\n                app.NetManager().SendPack(\"club.CClubBanRoomConigOp\",sendPack, function(serverPack){\n                    app.SysNotifyManager().ShowSysMsg(\"禁止游戏成功\",[],3);\n                    self.CloseForm();\n                }, function(){\n                    \n                });\n            }else{\n                sendPack.opClubId = this.clubId;\n                let unionSendPackHead = app.ClubManager().GetUnionSendPackHead();\n                sendPack.unionId = unionSendPackHead.unionId;\n                sendPack.clubId = unionSendPackHead.clubId;\n                app.NetManager().SendPack(\"union.CUnionBanRoomConigOp\",sendPack, function(serverPack){\n                    app.SysNotifyManager().ShowSysMsg(\"禁止游戏成功\",[],3);\n                    self.CloseForm();\n                }, function(){\n                    \n                });\n            }\n        }else if(btnName == \"lb_roomCfg\"){\n            let wanfaStr = btnNode.parent.parent.wanfa;\n            let unionCfgStr = btnNode.parent.parent.unionCfg;\n            app.FormManager().ShowForm(\"ui/club/UIUnionRoomCfgMsg\", wanfaStr, unionCfgStr);\n        }else{\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\n        }\n    },\n});\n"]}