{"version":3,"sources":["UIClubFindRoom.js"],"names":["app","require","cc","Class","extends","properties","OnCreateInit","OnShow","clubId","unionId","OnClick","btnName","btnNode","CloseForm","roomKey","node","getChildByName","getComponent","EditBox","string","ShowSysMsg","sendPack","packName","self","NetManager","SendPack","serverPack","FormManager","ShowForm","SysNotifyManager","ErrLog"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,UAAR,CADJ;;AAGLI,gBAAY,EAHP;;AAOL;AACAC,kBAAa,wBAAU,CAEtB,CAVI;;AAYL;;AAEAC,YAAO,gBAASC,MAAT,EAAgBC,OAAhB,EAAwB;AAC3B,aAAKD,MAAL,GAAYA,MAAZ;AACA,aAAKC,OAAL,GAAaA,OAAb;AACH,KAjBI;AAkBL;;AAEHC,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;AACjC,YAAG,eAAaD,OAAhB,EAAwB;AACjB,iBAAKE,SAAL;AACA,SAFP,MAEY,IAAG,gBAAcF,OAAjB,EAAyB;AAC3B,gBAAIG,UAAQ,KAAKC,IAAL,CAAUC,cAAV,CAAyB,OAAzB,EAAkCA,cAAlC,CAAiD,SAAjD,EAA4DC,YAA5D,CAAyEf,GAAGgB,OAA5E,EAAqFC,MAAjG;AACA,gBAAGL,WAAS,EAAZ,EAAe;AACX,qBAAKM,UAAL,CAAgB,WAAhB,EAA4B,EAA5B,EAA+B,CAA/B;AACA;AACH;AACD,gBAAGN,UAAQ,MAAX,EAAkB;AACd,qBAAKM,UAAL,CAAgB,WAAhB,EAA4B,EAA5B,EAA+B,CAA/B;AACA;AACH;AACD,gBAAIC,WAAW;AACX,0BAAS,KAAKb,MADH;AAEX,2BAAUM;AAFC,aAAf;AAIA,gBAAIQ,WAAW,2BAAf;AACA,gBAAIC,OAAO,IAAX;AACA,gBAAI,KAAKd,OAAL,GAAe,CAAnB,EAAsB;AAClBY,yBAASZ,OAAT,GAAmB,KAAKA,OAAxB;AACAa,2BAAW,6BAAX;AACH;AACDtB,gBAAIwB,UAAJ,GAAiBC,QAAjB,CAA0BH,QAA1B,EAAoCD,QAApC,EAA8C,UAASK,UAAT,EAAoB;AAC9DH,qBAAKI,WAAL,CAAiBC,QAAjB,CAA0B,wBAA1B,EAAmDF,UAAnD;AACAH,qBAAKV,SAAL;AACH,aAHD,EAGG,YAAU;AACTb,oBAAI6B,gBAAJ,GAAuBT,UAAvB,CAAkC,OAAlC,EAA0C,EAA1C,EAA6C,CAA7C;AACH,aALD;AAMH,SA1BK,MA0BD;AACV,iBAAKU,MAAL,CAAY,qBAAZ,EAAmCnB,OAAnC;AACA;AACD;AApDO,CAAT","file":"UIClubFindRoom.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["/*\n    UIMessage 模态消息界面\n*/\n\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        \n    },\n\n    //初始化\n    OnCreateInit:function(){\n\n    },\n\n    //---------显示函数--------------------\n\n    OnShow:function(clubId,unionId){\n        this.clubId=clubId;\n        this.unionId=unionId;\n    },\n    //---------点击函数---------------------\n\n\tOnClick:function(btnName, btnNode){\n\t\tif('btn_close'==btnName){\n        \tthis.CloseForm();\n        }else if('btn_search'==btnName){\n            let roomKey=this.node.getChildByName(\"input\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string;\n            if(roomKey==\"\"){\n                this.ShowSysMsg(\"请输入6位数房间号\",[],3);\n                return;\n            }\n            if(roomKey<100000){\n                this.ShowSysMsg(\"请输入6位数房间号\",[],3);\n                return;\n            }\n            let sendPack = {\n                \"clubId\":this.clubId,\n                \"roomKey\":roomKey,\n            }\n            let packName = \"club.CClubRoomInfoDetails\";\n            let self = this;\n            if (this.unionId > 0) {\n                sendPack.unionId = this.unionId;\n                packName = \"union.CUnionRoomInfoDetails\";\n            }\n            app.NetManager().SendPack(packName, sendPack, function(serverPack){\n                self.FormManager.ShowForm('ui/club/UIClubRoomJoin',serverPack);\n                self.CloseForm();\n            }, function(){\n                app.SysNotifyManager().ShowSysMsg(\"未找到房间\",[],3);\n            });\n        }else{\n\t\t\tthis.ErrLog(\"OnClick:%s not find\", btnName);\n\t\t}\n\t},\n});\n"]}