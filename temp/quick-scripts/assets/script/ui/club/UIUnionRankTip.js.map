{"version":3,"sources":["UIUnionRankTip.js"],"names":["app","require","cc","Class","extends","properties","OnCreateInit","OnShow","unionName","unionRankingItem","lb_unionName","node","getChildByName","getComponent","RichText","string","substr","lb_rank","rankingId","active","Label","prizeType","value","sendPack","ClubManager","GetUnionSendPackHead","NetManager","SendPack","OnClick","btnName","btnNode","CloseForm","ErrLog"],"mappings":"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","file":"UIUnionRankTip.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n\n    },\n\n    OnCreateInit: function () {\n        \n    },\n\n    OnShow: function (unionName,unionRankingItem) {\n        let lb_unionName = this.node.getChildByName(\"lb_unionName\").getComponent(cc.RichText);\n        lb_unionName.string = \"<color=#705d52>您所参与的</c><color=#53a632>\" + unionName.substr(0,8) + \"</color><color=#705d52>，已开始新一轮的比赛</c>\";\n        let lb_rank = this.node.getChildByName(\"lb_rank\").getComponent(cc.RichText);\n        if (unionRankingItem == null || typeof(unionRankingItem) == \"undefined\" || unionRankingItem.rankingId <= 0) {\n            lb_rank.string = \"<color=#705d52>您在上一轮的比赛排名：</c><color=#e76b20>未上榜</color>\";\n            this.node.getChildByName(\"img_zs\").active = false;\n            this.node.getChildByName(\"img_ld\").active = false;\n            this.node.getChildByName(\"lb_reward\").getComponent(cc.Label).string = \"\";\n            this.node.getChildByName(\"lb_rewardNum\").getComponent(cc.Label).string = \"\";\n        }else{\n            lb_rank.string = \"<color=#705d52>您在上一轮的比赛排名：</c><color=#e76b20>\" + unionRankingItem.rankingId + \"</color>\";\n            this.node.getChildByName(\"lb_reward\").getComponent(cc.Label).string = \"恭喜您获得\";\n            if (unionRankingItem.prizeType == 1) {\n                this.node.getChildByName(\"img_zs\").active = false;\n                this.node.getChildByName(\"img_ld\").active = true;\n                this.node.getChildByName(\"lb_rewardNum\").getComponent(cc.Label).string = \"x\"+unionRankingItem.value;\n            }else if (unionRankingItem.prizeType == 2) {\n                this.node.getChildByName(\"img_zs\").active = true;\n                this.node.getChildByName(\"img_ld\").active = false;\n                this.node.getChildByName(\"lb_rewardNum\").getComponent(cc.Label).string = \"x\"+unionRankingItem.value;\n            }else{\n                this.node.getChildByName(\"img_zs\").active = false;\n                this.node.getChildByName(\"img_ld\").active = false;\n                this.node.getChildByName(\"lb_rewardNum\").getComponent(cc.Label).string = \"\";\n            }\n        }\n        let sendPack = app.ClubManager().GetUnionSendPackHead();\n        app.NetManager().SendPack(\"union.CUnionGetRankingInfo\", sendPack);\n    },\n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_close\"){\n            this.CloseForm();\n        }else{\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\n        }\n    },\n\n});\n"]}