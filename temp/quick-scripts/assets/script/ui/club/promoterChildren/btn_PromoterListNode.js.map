{"version":3,"sources":["btn_PromoterListNode.js"],"names":["app","require","cc","Class","extends","Component","properties","unSelectSprite","SpriteFrame","selectSprite","onLoad","memberScrollView","node","getChildByName","getComponent","ScrollView","on","GetNextPage","InitData","clubId","unionId","unionPostType","myisminister","myisPartner","curPage","GetClubPromoter","isRefresh","sendPack","pageNum","self","NetManager","SendPack","serverPack","UpdateScrollView","SysNotifyManager","ShowSysMsg","content","scrollToTop","removeAllChildren","demo","active","i","length","isExist","j","children","pid","child","instantiate","playerData","iconUrl","WeChatManager","InitHeroHeadImage","WeChatHeadImage","ShowHeroHead","nameTemp","name","substr","Label","string","number","calcActiveValue","curActiveValue","promotion","addChild","OnClick_BtnWnd","eventTouch","eventData","SoundManager","PlaySound","btnNode","currentTarget","btnName","OnClick","error","console","log","stack","FormManager","ShowForm","selfHeroID","HeroManager","GetHeroProperty","parent","allUserNode","controlNode","userControlNode","Sprite","spriteFrame","height","SetWaitForConfirm","ShareDefine","Confirm","msgID","type","msgArgs","cbArgs","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType"],"mappings":"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","file":"btn_PromoterListNode.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club\\promoterChildren","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        unSelectSprite:cc.SpriteFrame,\n        selectSprite:cc.SpriteFrame,\n    },\n    onLoad:function(){\n    \tlet memberScrollView = this.node.getChildByName(\"memberScrollView\").getComponent(cc.ScrollView);\n        memberScrollView.node.on('scroll-to-bottom',this.GetNextPage,this);\n    },\n    InitData:function (clubId, unionId, unionPostType, myisminister, myisPartner) {\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.unionPostType = unionPostType;\n        this.myisminister = myisminister;\n        this.myisPartner = myisPartner;\n        this.curPage = 1;\n        this.GetClubPromoter(true);\n    },\n    GetClubPromoter:function(isRefresh){\n        let sendPack = {};\n        sendPack.clubId = this.clubId\n        sendPack.pageNum = this.curPage;\n        let self = this;\n        app.NetManager().SendPack(\"club.CClubPromotionList\",sendPack, function(serverPack){\n            self.UpdateScrollView(serverPack, isRefresh);\n        }, function(){\n            app.SysNotifyManager().ShowSysMsg(\"获取成员列表失败\",[],3);\n        });\n    },\n    GetNextPage:function(){\n    \tthis.curPage++;\n        this.GetClubPromoter(false);\n    },\n    UpdateScrollView:function(serverPack, isRefresh){\n    \tlet memberScrollView = this.node.getChildByName(\"memberScrollView\");\n    \tlet content = memberScrollView.getChildByName(\"view\").getChildByName(\"content\");\n    \tif (isRefresh) {\n    \t\tmemberScrollView.getComponent(cc.ScrollView).scrollToTop();\n    \t\tcontent.removeAllChildren();\n    \t}\n    \tlet demo = this.node.getChildByName(\"demo\");\n    \tdemo.active = false;\n    \tfor (let i = 0; i < serverPack.length; i++) {\n            //先判断下是否已经存在,对于有可能从前面插入数据的需要差重\n            let isExist = false;\n            for (let j = 0; j < content.children.length; j++) {\n                if (content.children[j].pid == serverPack[i].pid) {\n                    isExist = true;\n                    break;\n                }\n            }\n            if (isExist) continue;\n    \t\tlet child = cc.instantiate(demo);\n            child.pid = serverPack[i].pid;\n\t        child.playerData = serverPack[i];\n            if(serverPack[i].iconUrl){\n                app.WeChatManager().InitHeroHeadImage(serverPack[i].pid, serverPack[i].iconUrl);\n                let WeChatHeadImage = child.getChildByName('img_head').getComponent(\"WeChatHeadImage\");\n                WeChatHeadImage.ShowHeroHead(serverPack[i].pid,serverPack[i].iconUrl);\n            }\n            let nameTemp = serverPack[i].name;\n            if (nameTemp.length >= 6) {\n                nameTemp = serverPack[i].name.substr(0,6) + \"...\";\n            }\n\t        child.getChildByName(\"lb_userName\").getComponent(cc.Label).string = nameTemp;\n\t        child.getChildByName(\"lb_userId\").getComponent(cc.Label).string = serverPack[i].pid;\n\t        child.getChildByName(\"lb_playerNum\").getComponent(cc.Label).string = serverPack[i].number;\n            child.getChildByName(\"lb_active\").getComponent(cc.Label).string = serverPack[i].calcActiveValue;\n            child.getChildByName(\"lb_activeNum\").getComponent(cc.Label).string = serverPack[i].curActiveValue;\n    \t\tif (serverPack[i].promotion == 1) {\n                child.getChildByName(\"controlNode\").getChildByName(\"btn_xieren\").active = true;\n                child.getChildByName(\"controlNode\").getChildByName(\"btn_shangren\").active = false;\n            }else if (serverPack[i].promotion == 2) {\n                child.getChildByName(\"controlNode\").getChildByName(\"btn_xieren\").active = false;\n                child.getChildByName(\"controlNode\").getChildByName(\"btn_shangren\").active = true;\n            }else{\n                child.getChildByName(\"controlNode\").getChildByName(\"btn_xieren\").active = false;\n                child.getChildByName(\"controlNode\").getChildByName(\"btn_shangren\").active = false;\n            }\n            child.active = true;\n    \t\tcontent.addChild(child);\n    \t}\n    },\n    //控件点击回调\n    OnClick_BtnWnd:function(eventTouch, eventData){\n        try{\n            app.SoundManager().PlaySound(\"BtnClick\");\n            let btnNode = eventTouch.currentTarget;\n            let btnName = btnNode.name;\n            this.OnClick(btnName, btnNode);\n        }\n        catch (error){\n            console.log(\"OnClick_BtnWnd:\"+error.stack);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n    \tif('btn_addPromoter'==btnName){\n            app.FormManager().ShowForm(\"ui/club/UIClubPromoterAdd\", this.clubId);\n        }else if(btnName==\"btn_ShowBtn\" || btnName==\"btn_control\"){\n            let selfHeroID = app.HeroManager().GetHeroProperty(\"pid\");\n            //自己不能操作自己\n        \tif (btnNode.parent.pid == selfHeroID) {\n        \t\treturn;\n        \t}\n            let allUserNode = btnNode.parent.parent.children;\n            let controlNode = btnNode.parent.getChildByName(\"controlNode\");\n            for (let i = 0; i < allUserNode.length; i++) {\n                let userControlNode = allUserNode[i].getChildByName(\"controlNode\");\n                if (userControlNode && controlNode != userControlNode) {\n                    userControlNode.active = false;\n                    userControlNode.parent.getComponent(cc.Sprite).spriteFrame=this.unSelectSprite;\n                    userControlNode.parent.height = 80;\n                }\n            }\n            controlNode.active = !controlNode.active;\n            if (controlNode.active) {\n                btnNode.parent.getComponent(cc.Sprite).spriteFrame=this.selectSprite;\n                btnNode.parent.height = 190;\n            }else{\n                btnNode.parent.getComponent(cc.Sprite).spriteFrame=this.unSelectSprite;\n                btnNode.parent.height = 80;\n            }\n        }else if('btn_xieren'==btnName){\n            let sendPack = {};\n            sendPack.clubId = this.clubId;\n            sendPack.pid = btnNode.parent.parent.pid;\n            let self = this;\n            app.NetManager().SendPack(\"club.CClubPromotionAppointOrLeaveOffice\",sendPack, function(serverPack){\n                btnNode.active = false;\n                btnNode.parent.getChildByName(\"btn_shangren\").active = true;\n                app.SysNotifyManager().ShowSysMsg(\"卸任成功\",[],3);\n            }, function(){\n\n            });\n        }else if('btn_shangren'==btnName){\n            let sendPack = {};\n            sendPack.clubId = this.clubId;\n            sendPack.pid = btnNode.parent.parent.pid;\n            let self = this;\n            app.NetManager().SendPack(\"club.CClubPromotionAppointOrLeaveOffice\",sendPack, function(serverPack){\n                btnNode.active = false;\n                btnNode.parent.getChildByName(\"btn_xieren\").active = true;\n                app.SysNotifyManager().ShowSysMsg(\"上任成功\",[],3);\n            }, function(){\n\n            });\n        }else if('btn_xiashu'==btnName){\n            app.FormManager().ShowForm(\"ui/club/UIPromoterXiaShuList\", this.clubId, btnNode.parent.parent.playerData.pid, this.myisminister, this.myisPartner);\n        }else if('btn_jisuan'==btnName){\n            app.FormManager().ShowForm(\"ui/club/UIPromoterSetActive\", btnNode.parent.parent.playerData, this.clubId);\n        }else if('btn_yichang'==btnName){\n            app.FormManager().ShowForm(\"ui/club/UIPromoterSetActiveNum\", btnNode.parent.parent.playerData, this.clubId);\n        }else if('btn_mingxi'==btnName){\n            app.FormManager().ShowForm(\"ui/club/UIPromoterMsg\", this.clubId, this.unionId, this.unionPostType, this.myisminister, this.myisPartner, btnNode.parent.parent.pid);\n        }else if('btn_baobiao'==btnName){\n            app.FormManager().ShowForm(\"ui/club/UIPromoterSetActiveReport\", this.clubId, btnNode.parent.parent.playerData.pid);\n        }else if('btn_delPromoter'==btnName){\n            this.SetWaitForConfirm('MSG_DEL_PROMOTER',app.ShareDefine().Confirm,[],[this.clubId, btnNode.parent.parent.pid], \"删除推广员后，该玩家将被踢出亲友圈\");\n        }\n    },\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    SetWaitForConfirm:function(msgID,type,msgArgs=[],cbArgs=[],content = \"\"){\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArgs);\n        ConfirmManager.ShowConfirm(type, msgID, msgArgs, content);\n    },\n    OnConFirm:function(clickType, msgID, cbArgs){\n        if('Sure' != clickType){\n            return;\n        }\n        if ('MSG_DEL_PROMOTER' == msgID) {\n            let clubId = cbArgs[0];\n            let pid = cbArgs[1];\n            let sendPack = {};\n            sendPack.clubId = clubId;\n            sendPack.pid = pid;\n            let self = this;\n            app.NetManager().SendPack(\"club.CClubPromotionDelete\",sendPack, function(serverPack){\n                self.curPage = 1;\n                self.GetClubPromoter(true);\n                app.SysNotifyManager().ShowSysMsg(\"成功移除\",[],3);\n            }, function(){\n\n            });\n        }\n    },\n});"]}