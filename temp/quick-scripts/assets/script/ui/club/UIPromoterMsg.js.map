{"version":3,"sources":["UIPromoterMsg.js"],"names":["app","require","cc","Class","extends","properties","jiantouSprite","SpriteFrame","OnCreateInit","btn_msg_more","node","getChildByName","btn_msg_all","btn_msg_add","btn_msg_del","btn_msg_union","btn_msg_club","btn_msg_xiashu","execPidEditBox","getComponent","EditBox","messageScrollView","ScrollView","on","GetNextPage","clubNameColor","nameColor","actionColor","valueColor","UNION_EXEC_NOT","PROMOTION_DYNAMIC_SET","PROMOTION_DYNAMIC_APPOINT","PROMOTION_DYNAMIC_LEAVE_OFFICE","PROMOTION_DYNAMIC_DELETE","PROMOTION_DYNAMIC_ACTIVE_COMPENSATE","PROMOTION_DYNAMIC_ACTIVE_DEDUCT","PROMOTION_DYNAMIC_CHANGE","PROMOTION_DYNAMIC_ACTIVE_GET","PROMOTION_DYNAMIC_CHANGE_ALL","OnShow","clubId","unionId","unionPostType","myisminister","myisPartner","partnerPid","curPage","curDateType","string","btn_default","OnClick","name","ShowBtn","active","btnLable","Label","SendPackByType","UpdateScrollView","serverPack","isRefresh","content","scrollToTop","removeAllChildren","demo","i","length","child","instantiate","ComTool","GetDateYearMonthDayHourMinuteString","execTime","lb_message","RichText","msgStr","clubNameStr","clubName","NameStr","pid","ManageNameStr","execNameStr","execName","execPid","curValueStr","curValue","preValueStr","preValue","execType","value","roomKey","addChild","btnName","btnNode","CloseForm","img_jiantou","Sprite","spriteFrame","sendPack","ClubManager","GetUnionSendPackHead","pageNum","type","execPidStr","GetBeiZhuID","parseInt","isNaN","SysNotifyManager","ShowSysMsg","query","self","NetManager","SendPack"],"mappings":"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","file":"UIPromoterMsg.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        jiantouSprite:[cc.SpriteFrame],\n    },\n\n    OnCreateInit: function () {\n        this.btn_msg_more = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_more\");\n        this.btn_msg_all = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_all\");\n        this.btn_msg_add = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_add\");\n        this.btn_msg_del = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_del\");\n        this.btn_msg_union = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_union\");\n        this.btn_msg_club = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_club\");\n        this.btn_msg_xiashu = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_xiashu\");\n        \n        this.execPidEditBox = this.node.getChildByName(\"execPidEditBox\").getComponent(cc.EditBox);\n        let messageScrollView = this.node.getChildByName(\"messageScrollView\").getComponent(cc.ScrollView);\n        messageScrollView.node.on('scroll-to-bottom',this.GetNextPage,this);\n\n        this.clubNameColor = \"<color=#fa59bc>\";\n        this.nameColor = \"<color=#67b619>\";\n        this.actionColor = \"<color=#e94817>\";\n        this.valueColor = \"<color=#e6910b>\";\n        //消息类型\n        /**\n         * 默认状态\n         */\n        this.UNION_EXEC_NOT = 0;\n        /**\n        * 设置为推广员\n        */\n        this.PROMOTION_DYNAMIC_SET = 1;\n        /**\n        * 上任了推广员\n        */\n        this.PROMOTION_DYNAMIC_APPOINT = 2;\n        /**\n        * 卸任了推广员\n        */\n        this.PROMOTION_DYNAMIC_LEAVE_OFFICE = 3;\n        /**\n        * 删除推广员\n        */\n        this.PROMOTION_DYNAMIC_DELETE = 4;\n\n        /**\n        * 推广员活跃度异常补偿\n        */\n        this.PROMOTION_DYNAMIC_ACTIVE_COMPENSATE = 5;\n        /**\n        * 推广员活跃度异常扣除\n        */\n        this.PROMOTION_DYNAMIC_ACTIVE_DEDUCT = 6;\n\n        /**\n        * 推广员从属发生改变\n        */\n        this.PROMOTION_DYNAMIC_CHANGE = 7;\n\n        /**\n        * 对局获得活跃度\n        */\n        this.PROMOTION_DYNAMIC_ACTIVE_GET = 8;\n\n        /**\n        * 推广员从属发生改变\n        */\n        this.PROMOTION_DYNAMIC_CHANGE_ALL = 9;\n    },\n    //--------------显示函数-----------------\n    OnShow: function (clubId, unionId, unionPostType, myisminister, myisPartner, partnerPid) {\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.unionPostType = unionPostType;\n        this.myisminister = myisminister;\n        this.myisPartner = myisPartner;\n        this.partnerPid = partnerPid;\n        this.curPage = 1;\n        this.curDateType = 0;\n        this.execPidEditBox.string = \"\";\n        let btn_default = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_all\");\n        this.OnClick(btn_default.name,btn_default);\n    },\n\n    ShowBtn:function(){\n        this.btn_msg_all.active = false;\n        this.btn_msg_add.active = false;\n        this.btn_msg_del.active = false;\n        this.btn_msg_union.active = false;\n        this.btn_msg_club.active = false;\n        this.btn_msg_xiashu.active = false;\n        let btnLable = this.btn_msg_more.getChildByName(\"label\").getComponent(cc.Label);\n        if (this.curDateType == 0) {\n            btnLable.string = \"全  部\";\n        }else if (this.curDateType == 1) {\n            btnLable.string = \"异常补偿\";\n        }else if (this.curDateType == 2) {\n            btnLable.string = \"异常扣除\";\n        }else if (this.curDateType == 3) {\n            btnLable.string = \"赛事房间\";\n        }else if (this.curDateType == 4) {\n            btnLable.string = \"亲友圈房间\";\n        }else if (this.curDateType == 5) {\n            btnLable.string = \"下属玩家变动\";\n        }\n    },\n    GetNextPage:function(){\n        this.curPage++;\n        this.SendPackByType(false);\n    },\n    UpdateScrollView:function(serverPack, isRefresh){\n        this.ShowBtn();\n        let messageScrollView = this.node.getChildByName(\"messageScrollView\");\n        let content = messageScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        if (isRefresh) {\n            messageScrollView.getComponent(cc.ScrollView).scrollToTop();\n            content.removeAllChildren();\n        }\n        let demo = this.node.getChildByName(\"demo\");\n        demo.active = false;\n        for (let i = 0; i < serverPack.length; i++) {\n            let child = cc.instantiate(demo);\n            if (i%2 == 0) {\n                child.getChildByName(\"img_tiaowen01\").active = true;\n            }else{\n                child.getChildByName(\"img_tiaowen01\").active = false;\n            }\n            child.getChildByName(\"lb_time\").getComponent(cc.Label).string = app.ComTool().GetDateYearMonthDayHourMinuteString(serverPack[i].execTime);\n            let lb_message = child.getChildByName(\"lb_message\").getComponent(cc.RichText);\n            let msgStr = \"\";\n            let clubNameStr = \"\";\n            if (typeof(serverPack[i].clubName)!=\"undefined\" && typeof(serverPack[i].clubId)!=\"undefined\") {\n                clubNameStr = \"亲友圈\"+this.clubNameColor+serverPack[i].clubName+\"[\"+serverPack[i].clubId+\"]</c>\";\n            }\n            let NameStr = \"\";\n            if (typeof(serverPack[i].name)!=\"undefined\" && typeof(serverPack[i].pid)!=\"undefined\") {\n                NameStr = \"玩家\"+this.nameColor+serverPack[i].name+\"[\"+serverPack[i].pid+\"]</c>\";\n            }\n            let ManageNameStr = \"\";\n            if (typeof(serverPack[i].name)!=\"undefined\" && typeof(serverPack[i].pid)!=\"undefined\") {\n                ManageNameStr = \"裁判\"+this.nameColor+serverPack[i].name+\"[\"+serverPack[i].pid+\"]</c>\";\n            }\n            let execNameStr = \"\";\n            if (typeof(serverPack[i].execName)!=\"undefined\" && typeof(serverPack[i].execPid)!=\"undefined\") {\n                execNameStr = \"玩家\"+this.nameColor+serverPack[i].execName+\"[\"+serverPack[i].execPid+\"]</c>\";\n            }\n            let curValueStr = \"\";\n            if (typeof(serverPack[i].curValue) != \"undefined\") {\n                curValueStr = \"，当前活跃度为\" + serverPack[i].curValue;\n            }\n            let preValueStr = \"\";\n            if (typeof(serverPack[i].preValue) != \"undefined\") {\n                preValueStr = \"，修改前为\" + serverPack[i].preValue;\n            }\n            switch(serverPack[i].execType){\n                case this.PROMOTION_DYNAMIC_SET:\n                    msgStr = NameStr+\"被\"+execNameStr+this.actionColor+\"设置</c>为推广员\";\n                    break;\n                case this.PROMOTION_DYNAMIC_APPOINT:\n                    msgStr = NameStr+\"被\"+execNameStr+this.actionColor+\"上任</c>了推广员\";\n                    break;\n                case this.PROMOTION_DYNAMIC_LEAVE_OFFICE:\n                    msgStr = NameStr+\"被\"+execNameStr+this.actionColor+\"卸任</c>了推广员\";\n                    break;\n                case this.PROMOTION_DYNAMIC_DELETE:\n                    msgStr = NameStr+\"被\"+execNameStr+this.actionColor+\"删除</c>了推广员\";\n                    break;\n                case this.PROMOTION_DYNAMIC_ACTIVE_COMPENSATE:\n                    msgStr = execNameStr+this.actionColor+\"因系统异常，补偿了 </c>\"+NameStr+\" 活跃度\"+this.valueColor+serverPack[i].value+\"</c>\"+curValueStr;\n                    break;\n                case this.PROMOTION_DYNAMIC_ACTIVE_DEDUCT:\n                    msgStr = execNameStr+this.actionColor+\"因系统异常，扣除了 </c>\"+NameStr+\" 活跃度\"+this.valueColor+serverPack[i].value+\"</c>\"+curValueStr;\n                    break;\n                case this.PROMOTION_DYNAMIC_CHANGE:\n                    msgStr = NameStr+\"被\"+execNameStr+this.actionColor+\"设置为</c>\"+this.valueColor+serverPack[i].value+\"</c>的下属玩家\";\n                    break;\n                case this.PROMOTION_DYNAMIC_ACTIVE_GET:\n                    msgStr = \"通过下属\"+NameStr+this.actionColor+\"参与房间\"+serverPack[i].roomKey+\"对局获得\"+this.valueColor+serverPack[i].value+\"活跃度</c>\"+curValueStr;\n                    break;\n                case this.PROMOTION_DYNAMIC_CHANGE_ALL:\n                    msgStr = NameStr+\"被\"+execNameStr+this.actionColor+\"设置为</c>\"+this.valueColor+serverPack[i].value+\"</c>的下属玩家\";\n                    break;\n                default:\n                    msgStr = \"位置消息类型:\"+serverPack[i].execType;\n                    break;\n            }\n            lb_message.string = msgStr;\n            child.active = true;\n            content.addChild(child);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if('btn_close' == btnName){\n           this.CloseForm();\n        }else if('btn_msg_more'==btnName){\n            this.btn_msg_all.active = !this.btn_msg_all.active;\n            this.btn_msg_add.active = !this.btn_msg_add.active;\n            this.btn_msg_del.active = !this.btn_msg_del.active;\n            if (this.unionId > 0) {\n                this.btn_msg_union.active = !this.btn_msg_union.active;\n            }else{\n                this.btn_msg_union.active = false;\n            }\n            this.btn_msg_club.active = !this.btn_msg_club.active;\n            this.btn_msg_xiashu.active = !this.btn_msg_xiashu.active;\n            let img_jiantou = this.btn_msg_more.getChildByName(\"img_jiantou\").getComponent(cc.Sprite);\n            if (this.btn_msg_all.active) {\n                img_jiantou.spriteFrame = this.jiantouSprite[1];\n            }else{\n                img_jiantou.spriteFrame = this.jiantouSprite[0];\n            }\n        }else if('btn_msg_all' == btnName){\n            this.curDateType = 0;\n            this.curPage = 1;\n            this.SendPackByType(true);\n        }else if('btn_msg_add' == btnName){\n            this.curDateType = 1;\n            this.curPage = 1;\n            this.SendPackByType(true);\n        }else if('btn_msg_del' == btnName){\n            this.curDateType = 2;\n            this.curPage = 1;\n            this.SendPackByType(true);\n        }else if('btn_msg_union' == btnName){\n            this.curDateType = 3;\n            this.curPage = 1;\n            this.SendPackByType(true);\n        }else if('btn_msg_club' == btnName){\n            this.curDateType = 4;\n            this.curPage = 1;\n            this.SendPackByType(true);\n        }else if('btn_msg_xiashu' == btnName){\n            this.curDateType = 5;\n            this.curPage = 1;\n            this.SendPackByType(true);\n        }else if('btn_search' == btnName){\n            this.curPage = 1;\n            this.SendPackByType(true);\n        }\n    },\n    SendPackByType:function(isRefresh){\n        let sendPack = app.ClubManager().GetUnionSendPackHead();\n        sendPack.pageNum = this.curPage;\n        sendPack.type = this.curDateType;\n        sendPack.pid = this.partnerPid;\n        let execPidStr = this.ComTool.GetBeiZhuID(this.execPidEditBox.string);\n        if (execPidStr == \"\") {\n            execPidStr = \"0\";\n        }\n        let execPid = parseInt(execPidStr);\n        if (isNaN(execPid)) {\n            app.SysNotifyManager().ShowSysMsg(\"请输入纯数字的玩家id\",[],3);\n            return;\n        }\n        sendPack.query = execPid;\n        let self = this;\n        app.NetManager().SendPack(\"club.CClubPromotionDynamic\",sendPack, function(serverPack){\n            self.UpdateScrollView(serverPack, isRefresh);\n        }, function(){\n            // app.SysNotifyManager().ShowSysMsg(\"获取列表失败\",[],3);\n        });\n    },\n});"]}