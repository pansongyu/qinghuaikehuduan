{"version":3,"sources":["UIClubMain_1.js"],"names":["app","require","cc","Class","extends","properties","roomBg","SpriteFrame","roomBg_zhongzhi_green","roomBg_zhongzhi_blue","defaultHead","Prefab","left_on","left_off","clubBg","icon_signal","btn_outRaceSprite","zhuozi","zhuozi_xingyun_puke","zhuozi_xingyun","zhuozi_zhongzhi","table_majiang_xinyung","table_puke_xinyung","table_dazhuo_xinyung","icon_benquan","CheckSkinType","clubData","unionId","ClubNewCuntom","sys","localStorage","getItem","skinTable","setItem","skinBackColor","node","getChildByName","getComponent","Sprite","spriteFrame","skinType","FormManager","CloseAllClubForm","ClubManager","ShowClubFrom","mySkinType","ChangeTableColor","club","tagId","gameId","GetClubDataByClubID","nowClubID","cityInfo","selectCityConfig","cityId","cityGameList","Game","split","gameIndex","indexOf","toString","ClubTb","GetClubTb","bg_table_color","bg_table_color_puke","bg_table_color_dazhuo"],"mappings":"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","file":"UIClubMain_1.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_1","sourcesContent":["/*\n皮肤界面\n */\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"UIClubMainBase\"),\n\n    properties: {\n        roomBg:[cc.SpriteFrame],\n        roomBg_zhongzhi_green:[cc.SpriteFrame],\n        roomBg_zhongzhi_blue:[cc.SpriteFrame],\n\n        defaultHead:cc.Prefab,\n        left_on:cc.SpriteFrame,\n        left_off:cc.SpriteFrame,\n        clubBg:[cc.SpriteFrame],\n        icon_signal:[cc.SpriteFrame],\n        btn_outRaceSprite:[cc.SpriteFrame],\n        zhuozi:[cc.Prefab],\n        zhuozi_xingyun_puke:[cc.Prefab],\n        zhuozi_xingyun:[cc.Prefab],\n\n        zhuozi_zhongzhi:[cc.Prefab],\n\n        table_majiang_xinyung:[cc.SpriteFrame],\n        table_puke_xinyung:[cc.SpriteFrame],\n        table_dazhuo_xinyung:[cc.SpriteFrame],\n        icon_benquan:cc.Prefab,\n    },\n    //需要重写\n    CheckSkinType:function(clubData){\n        if(clubData.unionId>0){ //必须是赛事才有此功能\n            let ClubNewCuntom=cc.sys.localStorage.getItem(\"ClubNewCuntom\");\n            if(ClubNewCuntom!=\"1\"){//玩家没有自己设置\n                if(clubData.skinTable>-1){\n                    cc.sys.localStorage.setItem(\"ClubNewTb\",clubData.skinTable); //将盟主设置的赋值给玩家\n                }\n                if(clubData.skinBackColor>-1){\n                    cc.sys.localStorage.setItem(\"ClubNewBg\",clubData.skinBackColor); //将盟主设置的赋值给玩家\n                    this.node.getChildByName('bg').getComponent(cc.Sprite).spriteFrame=this.clubBg[clubData.skinBackColor];\n                }\n            }\n        }\n        if (clubData.skinType != 1) {\n            app.FormManager().CloseAllClubForm();\n            app.ClubManager().ShowClubFrom();\n            // app.SysNotifyManager().ShowSysMsg(\"盟主切换了赛事皮肤，请重新打开房间列表界面\", [], 4);\n        }\n    },\n    mySkinType:function(){\n        return '1';\n    },\n    ChangeTableColor:function(club,tagId,gameId){\n        let clubData = app.ClubManager().GetClubDataByClubID(this.nowClubID);\n        let cityInfo = this.selectCityConfig[clubData.cityId];\n        let cityGameList = cityInfo.Game.split(\",\");\n        let gameIndex = cityGameList.indexOf(gameId.toString());\n        if (gameIndex == -1) {\n            return;\n        }\n        let ClubTb=this.GetClubTb();\n        if(ClubTb==4){\n            //幸运的桌子\n            let bg_table_color=club.getChildByName(\"bg_table_color\");  //麻将\n            if(bg_table_color){\n                bg_table_color.getComponent(cc.Sprite).spriteFrame=this.table_majiang_xinyung[gameIndex%10];\n                return;\n            }\n            let bg_table_color_puke=club.getChildByName(\"bg_table_color_puke\");  //扑克\n            if(bg_table_color_puke){\n                bg_table_color_puke.getComponent(cc.Sprite).spriteFrame=this.table_puke_xinyung[gameIndex%10];\n                return;\n            }\n            let bg_table_color_dazhuo=club.getChildByName(\"bg_table_color_dazhuo\");  //5人以上桌子\n            if(bg_table_color_dazhuo){\n                bg_table_color_dazhuo.getComponent(cc.Sprite).spriteFrame=this.table_dazhuo_xinyung[gameIndex%10];\n                return;\n            }\n        }\n    },\n});"]}