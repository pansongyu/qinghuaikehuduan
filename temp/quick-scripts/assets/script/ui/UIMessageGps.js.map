{"version":3,"sources":["UIMessageGps.js"],"names":["app","require","cc","Class","extends","properties","OnCreateInit","RegEvent","OnDingWei","OnShow","DingWeing","event","data","ShowSysMsg","CloseForm","OnClick","btnName","eventData","sys","isNative","NativeManager","CallToNative","FormManager","LocationOnStartMgr","OnGetLocation","ErrLog"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,UAAR,CADJ;;AAGLI,gBAAY,EAHP;;AAML;AACAC,kBAAa,wBAAU;AACnB,aAAKC,QAAL,CAAc,aAAd,EAA4B,KAAKC,SAAjC;AACH,KATI;;AAWL;;AAEAC,YAAO,kBAAU;AACb,aAAKC,SAAL,GAAe,KAAf;AACH,KAfI;AAgBLF,eAAU,mBAASG,KAAT,EAAe;AACrB,YAAIC,OAAKD,KAAT;AACA,YAAGC,KAAK,OAAL,KAAe,CAAlB,EAAoB;AAChB;AACA,iBAAKC,UAAL,CAAgB,MAAhB;AACA,iBAAKH,SAAL,GAAe,KAAf;AACH,SAJD,MAIK;AACA,iBAAKG,UAAL,CAAgB,MAAhB;AACA,iBAAKC,SAAL;AACJ;AACJ,KA1BI;AA2BL;;AAEHC,aAAQ,iBAASC,OAAT,EAAkBC,SAAlB,EAA4B;AACnC,YAAGD,WAAW,SAAd,EAAwB;AACvB,gBAAGd,GAAGgB,GAAH,CAAOC,QAAV,EAAmB;AACNnB,oBAAIoB,aAAJ,GAAoBC,YAApB,CAAiC,YAAjC,EAA8C,EAA9C;AACH;AACDrB,gBAAIsB,WAAJ,GAAkBR,SAAlB,CAA4B,cAA5B;AACT;AACK,YAAGE,WAAW,YAAd,EAA2B;AACxB;AACD,gBAAG,KAAKN,SAAL,IAAgB,IAAnB,EAAwB;AACpB,qBAAKG,UAAL,CAAgB,KAAhB;AACA;AACH;AACD,iBAAKH,SAAL,GAAe,IAAf;AACAV,gBAAIuB,kBAAJ,GAAyBC,aAAzB;AACD,SARD,MASD,IAAGR,WAAW,WAAd,EAA0B;AAC9B,iBAAKF,SAAL;AACA,SAFI,MAGD;AACH,iBAAKW,MAAL,CAAY,qBAAZ,EAAmCT,OAAnC;AACA;AACD;;AAnDO,CAAT","file":"UIMessageGps.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["/*\n    UIMessage 模态消息界面\n*/\n\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n    },\n\n    //初始化\n    OnCreateInit:function(){\n        this.RegEvent(\"EVT_DingWei\",this.OnDingWei);\n    },\n\n    //---------显示函数--------------------\n\n    OnShow:function(){\n        this.DingWeing=false;\n    },\n    OnDingWei:function(event){\n        let data=event;\n        if(data[\"state\"]==1){\n            //定位失败\n            this.ShowSysMsg('定位失败');\n            this.DingWeing=false;\n        }else{\n             this.ShowSysMsg('定位成功');\n             this.CloseForm();\n        }\n    },\n    //---------点击函数---------------------\n\n\tOnClick:function(btnName, eventData){\n\t\tif(btnName == \"btnSure\"){\n\t\t\tif(cc.sys.isNative){\n                app.NativeManager().CallToNative(\"gpsSetting\",[]);\n            }\n            app.FormManager().CloseForm(\"UIMessageGps\");\n\t\t}\n        if(btnName == \"btnDingWei\"){\n           //手动定位\n          if(this.DingWeing==true){\n              this.ShowSysMsg(\"定位中\");\n              return;\n          }\n          this.DingWeing=true;\n          app.LocationOnStartMgr().OnGetLocation();\n        }\n\t\telse if(btnName == \"btnCancel\"){\n\t\t\tthis.CloseForm();\n\t\t}\n\t\telse{\n\t\t\tthis.ErrLog(\"OnClick:%s not find\", btnName);\n\t\t}\n\t},\n\n});\n"]}