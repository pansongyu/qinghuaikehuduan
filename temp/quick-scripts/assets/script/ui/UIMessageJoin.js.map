{"version":3,"sources":["UIMessageJoin.js"],"names":["app","require","cc","Class","extends","properties","lb_message","Label","OnCreateInit","ShareDefine","OnShow","serverPack","RoomKey","roomKey","name","type","continueType","typeName","string","OnClick","btnName","eventData","self","NetManager","SendPack","event","gameType","GametTypeID2PinYin","Client","JoinRoomCheckSubGame","CloseForm","ErrLog"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,UAAR,CADJ;;AAGLI,gBAAY;AACRC,oBAAWJ,GAAGK;AADN,KAHP;;AAOL;AACAC,kBAAa,wBAAU;AACnB,aAAKC,WAAL,GAAmBT,IAAIS,WAAJ,EAAnB;AAEH,KAXI;;AAaL;;AAEAC,YAAO,gBAASC,UAAT,EAAoB;AACvB,aAAKC,OAAL,GAAaD,WAAWE,OAAxB;AACA,YAAIC,OAAKH,WAAWG,IAApB;AACA,YAAIC,OAAKJ,WAAWK,YAApB;AACA,YAAIC,WAAS,EAAb;AACA,YAAGF,QAAM,CAAT,EAAW;AACPE,uBAAS,KAAT;AACH,SAFD,MAEM,IAAGF,QAAM,CAAT,EAAW;AACbE,uBAAS,IAAT;AACH,SAFK,MAEA,IAAGF,QAAM,CAAT,EAAW;AACbE,uBAAS,KAAT;AACH;AACD,aAAKX,UAAL,CAAgBY,MAAhB,GAAuBJ,OAAK,MAAL,GAAYG,QAAZ,GAAqB,cAA5C;AACH,KA5BI;;AA8BL;;AAEHE,aAAQ,iBAASC,OAAT,EAAkBC,SAAlB,EAA4B;AACnC,YAAGD,WAAW,SAAd,EAAwB;AACd,gBAAIE,OAAO,IAAX;AACAtB,gBAAIuB,UAAJ,GAAiBC,QAAjB,CAA0B,uBAA1B,EAAmD,EAAC,WAAU,KAAKZ,OAAhB,EAAnD,EAA6E,UAASa,KAAT,EAAe;AACxF,oBAAIC,WAAWD,KAAf;AACA,oBAAIX,OAAOd,IAAIS,WAAJ,GAAkBkB,kBAAlB,CAAqCD,QAArC,CAAX;AACA1B,oBAAI4B,MAAJ,CAAWC,oBAAX,CAAgCf,IAAhC,EAAsCQ,KAAKV,OAA3C;AACH,aAJD,EAIG,UAASa,KAAT,EAAe,CACjB,CALD;AAMH,SARP,MASW,IAAGL,WAAW,WAAd,EAA0B;AAC3B,iBAAKU,SAAL;AACH,SAFI,MAGP;AACH,iBAAKC,MAAL,CAAY,qBAAZ,EAAmCX,OAAnC;AACA;AACD;;AAhDO,CAAT","file":"UIMessageJoin.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["/*\n    UIMessage 模态消息界面\n*/\n\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        lb_message:cc.Label,\n    },\n\n    //初始化\n    OnCreateInit:function(){\n        this.ShareDefine = app.ShareDefine();\n\n    },\n\n    //---------显示函数--------------------\n\n    OnShow:function(serverPack){\n        this.RoomKey=serverPack.roomKey;\n        let name=serverPack.name;\n        let type=serverPack.continueType;\n        let typeName=\"\";\n        if(type==0){\n            typeName=\"房主付\";\n        }else if(type==1){\n            typeName=\"平分\";\n        }else if(type==2){\n            typeName=\"大赢家\";\n        }\n        this.lb_message.string=name+\" 选择 \"+typeName+\" 续局，是否加入该房间？\";\n    },\n\n    //---------点击函数---------------------\n\n\tOnClick:function(btnName, eventData){\n\t\tif(btnName == \"btnSure\"){\n            let self = this;\n            app.NetManager().SendPack(\"room.CBaseGetGameType\", {\"roomKey\":this.RoomKey}, function(event){\n                let gameType = event;\n                let name = app.ShareDefine().GametTypeID2PinYin[gameType];\n                app.Client.JoinRoomCheckSubGame(name, self.RoomKey);\n            }, function(event){\n            });\n        }\n        else if(btnName == \"btnCancel\"){\n            this.CloseForm();\n        }\n\t\telse{\n\t\t\tthis.ErrLog(\"OnClick:%s not find\", btnName);\n\t\t}\n\t},\n\n});\n"]}