{"version":3,"sources":["UICreatRoom.js"],"names":["app","require","cc","Class","extends","properties","prefab_gameBtn","Prefab","prefab_ChildCreateRoom","node_LeftLayout","Node","scroll_Left","ScrollView","node_Right","OnCreateInit","roomcostConfig","SysDataManager","GetTableDict","gameCreateConfig","LocalDataManager","FormManager","ComTool","RedColor1","Color","RedColor2","WhiteClolor","gameType","lastParentBtnIcon","lastChildBtnIcon","Toggles","addPrefabWidth","InitGameBtnList","serverPack","DestroyAllChildren","gameList","undefined","key","gameIDList","i","length","gamePinYin","ShareDefine","GametTypeID2PinYin","gameName","GametTypeID2Name","j","enableStr","clubData","enableGameType","node","instantiate","name","active","btn","getChildByName","getComponent","Label","string","on","OnGameBtnClick","lastColor","color","SetBtnInteractable","addChild","scrollToTop","ShowGame","btnNode","bEnable","Button","interactable","OnShow","gamename","unionData","clubWinnerPayConsume","gdToggleIndex","GetConfigProperty","self","NetManager","SendPack","clubId","data","InitGameIdList","split","unionId","allGameType","push","indexOf","isShowQuanKa","ShowForm","OnClose","scroll_Left_layout","GetWndNode","path","path2","needParentName","emit","event","stopAutoScroll","btnName","parentNode","parent","icon","startsWith","curType","substring","getChildrenCount","childCreateRoom","componentName","addComponent","baseComponent","ErrLog","InitBase","RefreshAllToggles","CloseForm","OnClick","close","Click_btn_buy","clientConfig","Client","GetClientConfig","PackDefine","APPLE_CHECK","OnConFirm","clickType","msgID","backArgList"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,UAAR,CADJ;;AAGLI,gBAAY;AACRC,wBAAgBJ,GAAGK,MADX;AAERC,gCAAwBN,GAAGK,MAFnB;;AAIRE,yBAAgBP,GAAGQ,IAJX;;AAMRC,qBAAYT,GAAGU,UANP;;AAQRC,oBAAWX,GAAGQ;AARN,KAHP;;AAcL;AACAI,kBAAa,wBAAU;AACnB,aAAKC,cAAL,GAAsB,KAAKC,cAAL,CAAoBC,YAApB,CAAiC,UAAjC,CAAtB;AACA,aAAKC,gBAAL,GAAwB,KAAKF,cAAL,CAAoBC,YAApB,CAAiC,YAAjC,CAAxB;AACA,aAAKE,gBAAL,GAAwBnB,IAAImB,gBAAJ,EAAxB;AACA,aAAKC,WAAL,GAAmBpB,IAAIoB,WAAJ,EAAnB;AACA,aAAKC,OAAL,GAAerB,IAAIqB,OAAJ,EAAf;;AAEA,aAAKC,SAAL,GAAiB,IAAIpB,GAAGqB,KAAP,CAAa,CAAb,EAAgB,GAAhB,EAAqB,EAArB,CAAjB;AACA,aAAKC,SAAL,GAAiB,IAAItB,GAAGqB,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAAjB;AACA,aAAKE,WAAL,GAAmB,IAAIvB,GAAGqB,KAAP,CAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAAnB;;AAEA,aAAKG,QAAL,GAAgB,EAAhB;AACA,aAAKC,iBAAL,GAAyB,IAAzB;AACA,aAAKC,gBAAL,GAAwB,IAAxB;AACA,aAAKC,OAAL,GAAe,EAAf;;AAEA,aAAKC,cAAL,GAAsB,GAAtB;AACH,KAhCI;AAiCLC,qBAAgB,yBAASC,UAAT,EAAoB;AAChC;AACA,aAAKC,kBAAL,CAAwB,KAAKxB,eAA7B;AACA,YAAIyB,WAAS,EAAb;AACA,YAAGC,aAAaH,WAAWE,QAAxB,IACC,MAAMF,WAAWE,QADlB,IAEC,UAAUF,WAAWE,QAFzB,EAEkC;AAC9BA,uBAAW,EAAX;AAGA,gBAAG,MAAM,KAAKR,QAAd,EAAuB;AACnB,qBAAI,IAAIU,GAAR,IAAeF,QAAf,EAAwB;AACpB,yBAAKR,QAAL,GAAgBU,GAAhB;AACA;AACH;AACJ;AACJ,SAZD,MAYK;AACD,gBAAIC,aAAWL,WAAWE,QAA1B;AACA,iBAAI,IAAII,IAAE,CAAV,EAAYA,IAAED,WAAWE,MAAzB,EAAgCD,GAAhC,EAAoC;AAChC;AACA,oBAAID,WAAWC,CAAX,KAAiB,CAArB,EAAwB;AACpBJ,6BAAS,QAAT,IAAqB,OAArB,CADoB,CACS;AAC7BA,6BAAS,QAAT,IAAqB,KAArB,CAFoB,CAEO;AAC9B,iBAHD,MAGO,IAAIG,WAAWC,CAAX,KAAiB,CAArB,EAAwB;AAAC;AAC5B;AACA;AACA;AACAJ,6BAAS,SAAT,IAAsB,QAAtB;AACAA,6BAAS,SAAT,IAAsB,MAAtB;AACA;AACH,iBAPM,MAOD,IAAIG,WAAWC,CAAX,KAAiB,EAArB,EAAyB;AAAC;AAC5BJ,6BAAS,SAAT,IAAsB,QAAtB,EACAA,SAAS,SAAT,IAAsB,MADtB,EAEAA,SAAS,SAAT,IAAsB,QAFtB,EAGAA,SAAS,SAAT,IAAsB,QAHtB,EAIAA,SAAS,OAAT,IAAoB,MAJpB;AAKH,iBANK,MAMD;AACD,wBAAIM,aAAW,KAAKC,WAAL,CAAiBC,kBAAjB,CAAoCL,WAAWC,CAAX,CAApC,CAAf;AACA,wBAAIK,WAAS,KAAKF,WAAL,CAAiBG,gBAAjB,CAAkCP,WAAWC,CAAX,CAAlC,CAAb;AACAJ,6BAASM,UAAT,IAAqBG,QAArB;AACA,wBAAGL,KAAG,CAAN,EAAQ;AACJ,4BAAG,MAAM,KAAKZ,QAAd,EAAuB;AACnB,iCAAKA,QAAL,GAAcc,UAAd;AACH;AACJ;AACJ;AAEJ;AACJ;AACD,YAAIK,IAAE,CAAN;AACA,YAAIC,YAAY,EAAhB;AACA,YAAG,KAAKC,QAAR,EACID,YAAY,KAAKC,QAAL,CAAcC,cAA1B;AACJ,aAAI,IAAIZ,IAAR,IAAeF,QAAf,EAAwB;AACpB,gBAAIe,OAAO/C,GAAGgD,WAAH,CAAe,KAAK5C,cAApB,CAAX;AACA2C,iBAAKE,IAAL,GAAYf,IAAZ;AACAa,iBAAKG,MAAL,GAAc,IAAd;AACA,gBAAIC,MAAMJ,KAAKK,cAAL,CAAoB,UAApB,CAAV;AACAD,gBAAIF,IAAJ,GAAW,SAASf,IAApB;AACAa,iBAAKK,cAAL,CAAoB,UAApB,EAAgCC,YAAhC,CAA6CrD,GAAGsD,KAAhD,EAAuDC,MAAvD,GAAgEvB,SAASE,IAAT,CAAhE;AACAa,iBAAKK,cAAL,CAAoB,MAApB,EAA4BA,cAA5B,CAA2C,SAA3C,EAAsDC,YAAtD,CAAmErD,GAAGsD,KAAtE,EAA6EC,MAA7E,GAAsFvB,SAASE,IAAT,CAAtF;AACAiB,gBAAIK,EAAJ,CAAO,OAAP,EAAe,KAAKC,cAApB,EAAmC,IAAnC;AACAV,iBAAKK,cAAL,CAAoB,MAApB,EAA4BF,MAA5B,GAAqC,KAArC;;AAEA,gBAAIQ,YAAYX,KAAKY,KAArB;AACA,gBAAG,MAAMf,SAAT,EAAmB;AACf,qBAAKgB,kBAAL,CAAwBT,GAAxB,EAA4B,KAA5B;AACH;;AAED;AACA;AACA;AACA;AACA,iBAAK5C,eAAL,CAAqBsD,QAArB,CAA8Bd,IAA9B;AAEH;AACD,aAAKtC,WAAL,CAAiBqD,WAAjB;AACA,aAAKC,QAAL;AACH,KA/GI;AAgHLH,wBAAmB,4BAASI,OAAT,EAAiBC,OAAjB,EAAyB;AACxC,YAAId,MAAMa,QAAQX,YAAR,CAAqBrD,GAAGkE,MAAxB,CAAV;AACA,YAAGf,GAAH,EACIA,IAAIgB,YAAJ,GAAmBF,OAAnB;AACP,KApHI;AAqHL;AACAG,YAAO,gBAAStC,UAAT,EAA6D;AAAA,YAAzCuC,QAAyC,uEAAhC,EAAgC;AAAA,YAA7BxB,QAA6B,uEAApB,IAAoB;AAAA,YAAfyB,SAAe,uEAAL,IAAK;;AACnE,aAAKC,oBAAL,GAA0B,CAA1B;AACA,aAAKC,aAAL,GAAqB,CAAC,CAAtB;AACG,aAAKhD,QAAL,GAAc,EAAd;AACA,aAAKqB,QAAL,GAAgBA,QAAhB;AACA,aAAKyB,SAAL,GAAiBA,SAAjB;AACA,YAAG,MAAMD,QAAT,EAAkB;AACd,iBAAK7C,QAAL,GAAc6C,QAAd;AACH,SAFD,MAEK;AACD,iBAAK7C,QAAL,GAAc,KAAKP,gBAAL,CAAsBwD,iBAAtB,CAAwC,YAAxC,EAAqD,cAArD,CAAd;AACH;;AAED,YAAG5B,YAAY,MAAMA,SAASC,cAA9B,EAA6C;AACzC,iBAAKtB,QAAL,GAAgBqB,SAASC,cAAzB;AACH;AACD,YAAI4B,OAAO,IAAX;AACA;AACA,YAAI7B,YAAY,IAAhB,EAAsB;AAClB/C,gBAAI6E,UAAJ,GAAiBC,QAAjB,CAA0B,oBAA1B,EAA+C,EAAC,UAAS/B,SAASgC,MAAnB,EAA/C,EAA0E,UAASC,IAAT,EAAc;AACpFJ,qBAAKK,cAAL,CAAoBjD,UAApB,EAA+BgD,KAAKE,KAAL,CAAW,GAAX,CAA/B;AACH,aAFD;AAGH,SAJD,MAIM,IAAIV,aAAa,IAAjB,EAAuB;AACzBxE,gBAAI6E,UAAJ,GAAiBC,QAAjB,CAA0B,sBAA1B,EAAiD,EAAC,WAAUN,UAAUW,OAArB,EAAjD,EAA+E,UAASH,IAAT,EAAc;AACzFJ,qBAAKK,cAAL,CAAoBjD,UAApB,EAA+BgD,KAAKE,KAAL,CAAW,GAAX,CAA/B;AACH,aAFD;AAGH,SAJK,MAID;AACD,iBAAKD,cAAL,CAAoBjD,UAApB,EAA+BA,WAAWE,QAA1C;AACH;AACJ,KAlJI;AAmJL+C,kBAnJK,0BAmJUjD,UAnJV,EAmJqBK,UAnJrB,EAmJgC;AACjC;AACAL,mBAAWE,QAAX,GAAsBG,UAAtB;AACA,aAAK+C,WAAL,GAAmB,EAAnB;AACA,aAAI,IAAI9C,IAAE,CAAV,EAAYA,IAAED,WAAWE,MAAzB,EAAgCD,GAAhC,EAAoC;AAChC,gBAAIE,aAAW,KAAKC,WAAL,CAAiBC,kBAAjB,CAAoCL,WAAWC,CAAX,CAApC,CAAf;AACA,iBAAK8C,WAAL,CAAiBC,IAAjB,CAAsB7C,UAAtB;AACH;AACD,YAAI,KAAK4C,WAAL,CAAiBE,OAAjB,CAAyB,KAAK5D,QAA9B,IAA0C,CAA9C,EAAiD;AAC7C;AACA,iBAAKA,QAAL,GAAgB,EAAhB;AACH;AACD,YAAI6D,eAAe,KAAnB;AACA,YAAI,KAAKxC,QAAT,EAAmB;AACfwC,2BAAe,IAAf;AACH;AACD,aAAKnE,WAAL,CAAiBoE,QAAjB,CAA0B,OAA1B,EAAmC,aAAnC,EAAkDD,YAAlD;AACA,aAAKxD,eAAL,CAAqBC,UAArB;AACH,KArKI;;AAsKLyD,aAAQ,mBAAU;AACd,YAAIC,qBAAmB,KAAKC,UAAL,CAAgB,+BAAhB,CAAvB;AACA;AACA,aAAK1D,kBAAL,CAAwByD,kBAAxB;AACH,KA1KI;AA2KLzB,cAAS,kBAASvC,QAAT,EAAkB;AACvB,YAAIkE,OAAO,EAAX;AACA,YAAIC,QAAQ,EAAZ;AACA,YAAIC,iBAAiB,EAArB;AACA,YAAG,CAACpE,QAAJ,EAAa;AACTA,uBAAW,KAAKA,QAAhB;AACH;AACDoE,yBAAiBpE,QAAjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAIA,YAAY,KAAhB,EAAuB;AACnBoE,6BAAiB,QAAjB;AACApE,uBAAW,QAAX;AACH;;AAEDkE,eAAO,mCAAmCE,cAAnC,GAAoD,OAApD,GAA8DpE,QAArE;AACA,YAAIuB,OAAO,KAAK0C,UAAL,CAAgBC,IAAhB,CAAX;AACA,YAAG3C,IAAH,EAAQ;AACJA,iBAAK8C,IAAL,CAAU,OAAV,EAAmB,EAAC,QAAO9C,IAAR,EAAnB;AACH;AACJ,KArMI;;AAuMLU,oBAAe,wBAASqC,KAAT,EAAe;AAC1B,aAAKrF,WAAL,CAAiBsF,cAAjB;AACA,YAAIC,UAAUF,MAAM/C,IAAN,CAAWE,IAAzB;AACA,YAAIgD,aAAaH,MAAM/C,IAAN,CAAWmD,MAA5B;AACA,YAAG,YAAYD,WAAWhD,IAA1B,EAA+B;AAC3B,gBAAG,KAAKxB,iBAAR,EACI,KAAKA,iBAAL,CAAuByB,MAAvB,GAAgC,KAAhC;AACJ,gBAAIiD,OAAOF,WAAW7C,cAAX,CAA0B,MAA1B,CAAX;AACA,iBAAK3B,iBAAL,GAAyB0E,IAAzB;AACA,iBAAK1E,iBAAL,CAAuByB,MAAvB,GAAgC,IAAhC;;AAEA,gBAAG,KAAKxB,gBAAR,EAAyB;AACrB,qBAAKA,gBAAL,CAAsBwB,MAAtB,GAA+B,KAA/B;AACH;AACJ;;AAED,YAAG8C,QAAQI,UAAR,CAAmB,MAAnB,CAAH,EAA8B;AAC1B,gBAAIC,UAAUL,QAAQM,SAAR,CAAmB,MAAD,CAASjE,MAA3B,EAAkC2D,QAAQ3D,MAA1C,CAAd;AACA,gBAAI,KAAKb,QAAL,IAAiB6E,OAAjB,IAA4B,KAAK1F,UAAL,CAAgB4F,gBAAhB,KAAqC,CAArE,EAAwE;AACpE;AACH;AACD,iBAAKxE,kBAAL,CAAwB,KAAKpB,UAA7B;AACA,iBAAKa,QAAL,GAAgB6E,OAAhB;AACA,gBAAIA,WAAW,QAAX,IAAuBA,WAAW,QAAtC,EAAgD;AAC5CA,0BAAU,KAAV;AACH;AACD,gBAAIA,WAAW,SAAX,IAAwBA,WAAW,SAAnC,IACHA,WAAW,SADR,IACqBA,WAAW,SADhC,IAEHA,WAAW,SAFR,IAEqBA,WAAW,OAFpC,EAE6C;AACzCA,0BAAU,IAAV;AACH;AACD,gBAAIA,WAAW,SAAX,IACAA,WAAW,SADX,IAEAA,WAAW,SAFX,IAGAA,WAAW,OAHX,IAIAA,WAAW,SAJf,EAI0B;AACtBA,0BAAU,IAAV;AACH;AACD,gBAAIG,kBAAkBxG,GAAGgD,WAAH,CAAe,KAAK1C,sBAApB,CAAtB;AACA,gBAAImG,gBAAgBJ,UAAU,iBAA9B;AACAG,4BAAgBE,YAAhB,CAA6BD,aAA7B;AACA,gBAAIE,gBAAgBH,gBAAgBnD,YAAhB,CAA6BoD,aAA7B,CAApB;AACA,gBAAI,CAACE,aAAL,EAAoB;AAChB,qBAAKC,MAAL,CAAY,wCAAwCP,OAApD;AACA;AACH;AACD,iBAAK1F,UAAL,CAAgBkD,QAAhB,CAAyB2C,eAAzB;AACAG,0BAAcE,QAAd,CAAuB,KAAKhE,QAA5B,EAAsC,KAAKyB,SAA3C,EAAsD,KAAK9C,QAA3D;AACAmF,0BAAcG,iBAAd,CAAgC,KAAKtF,QAArC;AACA,iBAAKN,WAAL,CAAiB6F,SAAjB,CAA2B,cAA3B;AACH,SAlCD,MAmCI;AACA,iBAAKH,MAAL,CAAY,0CAA0CZ,OAAtD;AACA;AACH;AACJ,KA9PI;AA+PLgB,aAAQ,iBAAShB,OAAT,EAAkBhC,OAAlB,EAA0B;AAC9B,YAAG,cAAcgC,OAAjB,EAAyB;AACrB,iBAAK9E,WAAL,CAAiBoE,QAAjB,CAA0B,YAA1B,EAAuC,KAAKzC,QAA5C,EAAsD,KAAKyB,SAA3D;AACH;AACJ,KAnQI;;AAqQL2C,WAAM,iBAAU;;AAEZ,aAAK/F,WAAL,CAAiB6F,SAAjB,CAA2B,aAA3B;AACH,KAxQI;AAyQLG,mBAAc,yBAAY;AACtB,YAAIC,eAAerH,IAAIsH,MAAJ,CAAWC,eAAX,EAAnB;AACA,YAAIvH,IAAIwH,UAAJ,CAAeC,WAAf,IAA8BJ,aAAa,aAAb,CAAlC,EAA+D;AAC/D,aAAKjG,WAAL,CAAiBoE,QAAjB,CAA0B,SAA1B;AACH,KA7QI;AA8QLkC,eAAU,mBAASC,SAAT,EAAoBC,KAApB,EAA2BC,WAA3B,EAAuC;AAC7C,YAAGF,aAAa,MAAhB,EAAuB;AACnB;AACH;AACD,YAAG,eAAeC,KAAlB,EAAwB;AACpB,gBAAIP,eAAerH,IAAIsH,MAAJ,CAAWC,eAAX,EAAnB;AACA,gBAAIvH,IAAIwH,UAAJ,CAAeC,WAAf,IAA8BJ,aAAa,aAAb,CAAlC,EAA+D;AAC/DrH,gBAAIoB,WAAJ,GAAkBoE,QAAlB,CAA2B,SAA3B;AACA;AACH;AACJ;AAxRI,CAAT","file":"UICreatRoom.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\r\ncc.Class({\r\n    extends: require(\"BaseForm\"),\r\n\r\n    properties: {\r\n        prefab_gameBtn: cc.Prefab,\r\n        prefab_ChildCreateRoom: cc.Prefab,\r\n\r\n        node_LeftLayout:cc.Node,\r\n\r\n        scroll_Left:cc.ScrollView,\r\n\r\n        node_Right:cc.Node,\r\n    },\r\n\r\n    //初始化\r\n    OnCreateInit:function(){\r\n        this.roomcostConfig = this.SysDataManager.GetTableDict(\"roomcost\");\r\n        this.gameCreateConfig = this.SysDataManager.GetTableDict(\"gameCreate\");\r\n        this.LocalDataManager = app.LocalDataManager();\r\n        this.FormManager = app.FormManager();\r\n        this.ComTool = app.ComTool();\r\n\r\n        this.RedColor1 = new cc.Color(0, 155, 46);\r\n        this.RedColor2 = new cc.Color(182, 64, 12);\r\n        this.WhiteClolor = new cc.Color(79,79,79);\r\n\r\n        this.gameType = '';\r\n        this.lastParentBtnIcon = null;\r\n        this.lastChildBtnIcon = null;\r\n        this.Toggles = {};\r\n\r\n        this.addPrefabWidth = 200;   \r\n    },\r\n    InitGameBtnList:function(serverPack){\r\n        //this.node_LeftLayout.removeAllChildren();\r\n        this.DestroyAllChildren(this.node_LeftLayout);\r\n        let gameList={};\r\n        if(undefined == serverPack.gameList ||\r\n            '' == serverPack.gameList || \r\n            'null' == serverPack.gameList){\r\n            gameList = {\r\n                \r\n            };\r\n            if('' == this.gameType){\r\n                for(let key in gameList){\r\n                    this.gameType = key;\r\n                    break;\r\n                }\r\n            }\r\n        }else{\r\n            let gameIDList=serverPack.gameList;\r\n            for(let i=0;i<gameIDList.length;i++){\r\n                //如果是自由扑克，有两种玩法，需要自行增加\r\n                if (gameIDList[i] == 1) {\r\n                    gameList[\"sss_zz\"] = \"庄家十三水\";//\"庄家扑克\";\r\n                    gameList[\"sss_dr\"] = \"十三水\";//\"多人扑克\";\r\n                } else if (gameIDList[i] == 4) {//如果是双十扑克，有六种玩法，需要自行增加\r\n                    // gameList[\"zyqz_nn\"] = \"自由抢庄\";\r\n                    // gameList[\"nnsz_nn\"] = \"双十上庄\";\r\n                    // gameList[\"gdzj_nn\"] = \"固定庄家\";\r\n                    gameList[\"mpqz_nn\"] = \"明牌抢庄牛牛\";\r\n                    gameList[\"tbnn_nn\"] = \"通比牛牛\";\r\n                    // gameList[\"lz_nn\"] = \"轮庄双十\";\r\n                }else if (gameIDList[i] == 18) {//如果是三公，有5种玩法，需要自行增加\r\n                    gameList[\"zyqz_sg\"] = \"三公自由抢庄\",\r\n                    gameList[\"sgsz_sg\"] = \"三公上庄\",\r\n                    gameList[\"gdzj_sg\"] = \"三公固定庄家\",\r\n                    gameList[\"mpqz_sg\"] = \"三公明牌抢庄\",\r\n                    gameList[\"tb_sg\"] = \"通比三公\"\r\n                }else{\r\n                    let gamePinYin=this.ShareDefine.GametTypeID2PinYin[gameIDList[i]];\r\n                    let gameName=this.ShareDefine.GametTypeID2Name[gameIDList[i]];\r\n                    gameList[gamePinYin]=gameName;\r\n                    if(i==0){\r\n                        if('' == this.gameType){\r\n                            this.gameType=gamePinYin;\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            }\r\n        }\r\n        let j=0;\r\n        let enableStr = '';\r\n        if(this.clubData)\r\n            enableStr = this.clubData.enableGameType;\r\n        for(let key in gameList){\r\n            let node = cc.instantiate(this.prefab_gameBtn);\r\n            node.name = key;\r\n            node.active = true;\r\n            let btn = node.getChildByName('btn_game');\r\n            btn.name = 'btn_' + key;\r\n            node.getChildByName('icon_off').getComponent(cc.Label).string = gameList[key];\r\n            node.getChildByName('icon').getChildByName('icon_on').getComponent(cc.Label).string = gameList[key];\r\n            btn.on('click',this.OnGameBtnClick,this);\r\n            node.getChildByName('icon').active = false;\r\n            \r\n            let lastColor = node.color;\r\n            if('' != enableStr){\r\n                this.SetBtnInteractable(btn,false);\r\n            }\r\n\r\n            // if ('pdk' ==key) {\r\n            //     //如果是跑得快需要修改跑得快按钮名字，之后获取配置表是根据按钮名字来获取，坑！！大坑！！！\r\n            //     btn.name = 'btn_pdk_lyfj';    \r\n            // }\r\n            this.node_LeftLayout.addChild(node);\r\n            \r\n        }\r\n        this.scroll_Left.scrollToTop();\r\n        this.ShowGame();\r\n    },\r\n    SetBtnInteractable:function(btnNode,bEnable){\r\n        let btn = btnNode.getComponent(cc.Button);\r\n        if(btn)\r\n            btn.interactable = bEnable;\r\n    },\r\n    //--------------显示函数-----------------\r\n    OnShow:function(serverPack,gamename='',clubData=null,unionData=null){\r\n\t    this.clubWinnerPayConsume=0;\r\n\t    this.gdToggleIndex = -1;\r\n        this.gameType='';\r\n        this.clubData = clubData;\r\n        this.unionData = unionData;\r\n        if('' != gamename){\r\n            this.gameType=gamename;\r\n        }else{\r\n            this.gameType=this.LocalDataManager.GetConfigProperty(\"SysSetting\",\"LastGameType\");\r\n        }\r\n        \r\n        if(clubData && '' != clubData.enableGameType){\r\n            this.gameType = clubData.enableGameType;\r\n        }\r\n        let self = this;\r\n        //如果是亲友圈或者联盟取对应的游戏\r\n        if (clubData != null) {\r\n            app.NetManager().SendPack('club.CClubGameList',{\"clubId\":clubData.clubId},function(data){\r\n                self.InitGameIdList(serverPack,data.split(\",\"));\r\n            });\r\n        }else if (unionData != null) {\r\n            app.NetManager().SendPack('union.CUnionGameList',{\"unionId\":unionData.unionId},function(data){\r\n                self.InitGameIdList(serverPack,data.split(\",\"));\r\n            });\r\n        }else{\r\n            this.InitGameIdList(serverPack,serverPack.gameList);\r\n        }\r\n    },\r\n    InitGameIdList(serverPack,gameIDList){\r\n        //判断下本地保存的gameType是否存在列表中\r\n        serverPack.gameList = gameIDList;\r\n        this.allGameType = [];\r\n        for(let i=0;i<gameIDList.length;i++){\r\n            let gamePinYin=this.ShareDefine.GametTypeID2PinYin[gameIDList[i]];\r\n            this.allGameType.push(gamePinYin);\r\n        }\r\n        if (this.allGameType.indexOf(this.gameType) < 0) {\r\n            //本地保存的gameType不在列表中，切换城市引起的，需要处理下\r\n            this.gameType = \"\";\r\n        }\r\n        let isShowQuanKa = false;\r\n        if (this.clubData) {\r\n            isShowQuanKa = true;\r\n        }\r\n        this.FormManager.ShowForm('UITop', \"UICreatRoom\", isShowQuanKa);\r\n        this.InitGameBtnList(serverPack);\r\n    },\r\n    OnClose:function(){\r\n        let scroll_Left_layout=this.GetWndNode('sp_room/leftFrame/mark/layout');\r\n        //scroll_Left_layout.removeAllChildren();\r\n        this.DestroyAllChildren(scroll_Left_layout);\r\n    },\r\n    ShowGame:function(gameType){\r\n        let path = '';\r\n        let path2 = '';\r\n        let needParentName = '';\r\n        if(!gameType){\r\n            gameType = this.gameType;\r\n        }\r\n        needParentName = gameType;\r\n\r\n        //如果是跑得快需要修改跑得快按钮名字，之后获取配置表是根据按钮名字来获取，坑！！大坑！！！\r\n        // if (gameType == 'pdk') {\r\n        //     gameType = 'pdk_lyfj';\r\n        // }\r\n        // if (needParentName == 'pdk_lyfj') {\r\n        //     needParentName = 'pdk';\r\n        // }\r\n        if (gameType == 'sss') {\r\n            needParentName = 'sss_zz';\r\n            gameType = 'sss_zz';\r\n        }\r\n\r\n        path = 'sp_room/leftFrame/mark/layout/' + needParentName + '/btn_' + gameType; \r\n        let node = this.GetWndNode(path);\r\n        if(node){\r\n            node.emit('click', {\"node\":node});\r\n        }\r\n    },\r\n\r\n    OnGameBtnClick:function(event){\r\n        this.scroll_Left.stopAutoScroll();\r\n        let btnName = event.node.name;\r\n        let parentNode = event.node.parent;\r\n        if('childs' != parentNode.name){\r\n            if(this.lastParentBtnIcon)\r\n                this.lastParentBtnIcon.active = false;\r\n            let icon = parentNode.getChildByName('icon');\r\n            this.lastParentBtnIcon = icon;\r\n            this.lastParentBtnIcon.active = true;\r\n\r\n            if(this.lastChildBtnIcon){\r\n                this.lastChildBtnIcon.active = false;\r\n            }\r\n        }\r\n\r\n        if(btnName.startsWith('btn_')){\r\n            let curType = btnName.substring(('btn_').length,btnName.length);\r\n            if (this.gameType == curType && this.node_Right.getChildrenCount() > 0) {\r\n                return\r\n            }\r\n            this.DestroyAllChildren(this.node_Right);\r\n            this.gameType = curType;\r\n            if (curType == \"sss_zz\" || curType == \"sss_dr\") {\r\n                curType = \"sss\";\r\n            }\r\n            if (curType == \"zyqz_nn\" || curType == \"nnsz_nn\" ||\r\n\t            curType == \"gdzj_nn\" || curType == \"mpqz_nn\" ||\r\n\t            curType == \"tbnn_nn\" || curType == \"lz_nn\") {\r\n                curType = \"nn\";\r\n            }\r\n            if (curType == \"zyqz_sg\" ||\r\n                curType == \"sgsz_sg\" ||\r\n                curType == \"gdzj_sg\" ||\r\n                curType == \"tb_sg\" ||\r\n                curType == \"mpqz_sg\") {\r\n                curType = \"sg\";\r\n            }\r\n            let childCreateRoom = cc.instantiate(this.prefab_ChildCreateRoom);\r\n            let componentName = curType + \"ChildCreateRoom\";\r\n            childCreateRoom.addComponent(componentName);\r\n            let baseComponent = childCreateRoom.getComponent(componentName);\r\n            if (!baseComponent) {\r\n                this.ErrLog('OnGameBtnClick no find component : ' + curType);\r\n                return;\r\n            }\r\n            this.node_Right.addChild(childCreateRoom);\r\n            baseComponent.InitBase(this.clubData, this.unionData, this.gameType);\r\n            baseComponent.RefreshAllToggles(this.gameType);\r\n            this.FormManager.CloseForm(\"UIMessageTip\");\r\n        }\r\n        else{\r\n            this.ErrLog('OnGameBtnClick click error btnName : ' + btnName);\r\n            return;\r\n        }\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        if('btn_gdyx' == btnName){\r\n            this.FormManager.ShowForm('UIMoreGame',this.clubData, this.unionData);\r\n        }\r\n    },\r\n\r\n    close:function(){\r\n        \r\n        this.FormManager.CloseForm(\"UICreatRoom\");\r\n    },\r\n    Click_btn_buy:function () {\r\n        let clientConfig = app.Client.GetClientConfig();\r\n        if (app.PackDefine.APPLE_CHECK == clientConfig[\"appPackType\"]) return\r\n        this.FormManager.ShowForm(\"UIStore\");\r\n    },\r\n    OnConFirm:function(clickType, msgID, backArgList){\r\n        if(clickType != \"Sure\"){\r\n            return\r\n        }\r\n        if(\"goBuyCard\" == msgID){\r\n            let clientConfig = app.Client.GetClientConfig();\r\n            if (app.PackDefine.APPLE_CHECK == clientConfig[\"appPackType\"]) return\r\n            app.FormManager().ShowForm(\"UIStore\");\r\n            return;\r\n        }\r\n    }\r\n});"]}