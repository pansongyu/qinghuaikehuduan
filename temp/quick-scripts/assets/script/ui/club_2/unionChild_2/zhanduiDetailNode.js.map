{"version":3,"sources":["zhanduiDetailNode.js"],"names":["app","require","cc","Class","extends","Component","properties","zhanduiNode","Node","onLoad","rankScrollView","node","getChildByName","getComponent","ScrollView","on","GetNextPage","Client","RegEvent","Event_UpdateZhanDuiDetailNodeData","InitData","clubId","unionId","pid","level","levelPromotion","unionPostType","curPage","curType","sendPack","sendPackName","self","NetManager","SendPack","serverPack","competitionTimeList","type","UpdateStatusAndTime","GetClubTeamListZhongZhi","ShowLevelLabel","ClubManager","UNION_GENERAL","active","event","levelStrList","levelLabel","Label","string","img_zddi","Toggle","isChecked","isRefresh","pageNum","UpdateScrollView","competitionTime","status","color","Color","ComTool","GetDateYearMonthDayString","beginTime","removeAllChildren","i","length","tempNode","child","instantiate","addChild","content","scrollToTop","demo","clubTeamListInfoList","matchItem","Sprite","enabled","playerData","name","ShowPositionLabel","position","scorePoint","sportsPointConsume","eliminatePoint","consume","positionStrList","OnClick_BtnWnd","eventTouch","eventData","SoundManager","PlaySound","btnNode","currentTarget","btnName","OnClick","error","console","log","stack","FormManager","ShowForm","SetWaitForConfirm","ShareDefine","Confirm","parent","newLevel","GetSelectZhanDuiLevel","value","levelTemp","children","toggle","parseInt","replace","msgID","msgArg","cbArg","lbSure","lbCancle","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType","backArgList"],"mappings":"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","file":"zhanduiDetailNode.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_2\\unionChild_2","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        zhanduiNode:cc.Node,\n    },\n    onLoad:function(){\n    \tlet rankScrollView = this.node.getChildByName(\"rankScrollView\").getComponent(cc.ScrollView);\n        rankScrollView.node.on('scroll-to-bottom',this.GetNextPage,this);\n        app.Client.RegEvent(\"UpdateZhanDuiDetailNodeData\", this.Event_UpdateZhanDuiDetailNodeData, this);\n    },\n    InitData:function (clubId, unionId, pid, level, levelPromotion,unionPostType) {\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.pid = pid;\n        this.level = level;\n        this.levelPromotion = levelPromotion;\n        this.unionPostType = unionPostType;\n        this.curPage = 1;\n        this.curType = 0;\n        let sendPack = {};\n        let sendPackName = \"club.CClubGetCompetitionTime\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){   \n            self.competitionTimeList = serverPack;\n            self.curType = self.competitionTimeList[0].type;\n            self.UpdateStatusAndTime(self.competitionTimeList[0]);\n            self.GetClubTeamListZhongZhi(true)\n        }, function(){\n\n        });\n        this.ShowLevelLabel();\n        if (this.unionPostType == app.ClubManager().UNION_GENERAL && this.levelPromotion > 0) {//普通成员\n            //隐藏部分按钮\n            this.node.getChildByName(\"img_xiadi\").getChildByName(\"btn_changePromotion\").active = false;\n            this.node.getChildByName(\"img_xiadi\").getChildByName(\"btn_dissolvezhandui\").active = false;\n        }else{\n            this.node.getChildByName(\"img_xiadi\").getChildByName(\"btn_changePromotion\").active = true;\n            this.node.getChildByName(\"img_xiadi\").getChildByName(\"btn_dissolvezhandui\").active = true;\n        }\n        this.node.getChildByName(\"img_sjdi\").active = false;\n    },\n    Event_UpdateZhanDuiDetailNodeData:function(event){\n        this.curPage = 1;\n        this.GetClubTeamListZhongZhi(true);\n    },\n    ShowLevelLabel:function(){\n        let levelStrList = [\"战队一级\",\"战队二级\",\"战队三级\",\"战队四级\",\"战队五级\",\"战队六级\",\"战队七级\",\"战队八级\",\"战队九级\",\"战队十级\"];\n        let levelLabel = this.node.getChildByName(\"img_xiadi\").getChildByName(\"btn_setLevel\").getChildByName(\"lb_btnName\");\n        levelLabel.getComponent(cc.Label).string = levelStrList[this.level - 1];\n\n        let img_zddi = this.node.getChildByName(\"selectzd\").getChildByName(\"img_zddi\");\n        img_zddi.getChildByName(\"btn_zd_\"+this.level).getComponent(cc.Toggle).isChecked = true;\n    },\n    GetClubTeamListZhongZhi:function(isRefresh) {\n        let sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.type = this.curType;\n        sendPack.pageNum = this.curPage;\n        sendPack.pid = this.pid;\n        let sendPackName = \"Club.CClubTeamListZhongZhi\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n            self.UpdateScrollView(serverPack, isRefresh);\n        }, function(){\n\n        });\n    },\n    UpdateStatusAndTime:function(competitionTime){\n        if (competitionTime.status == 0) {\n            this.node.getChildByName(\"img_rqdi\").getChildByName(\"lb_statue\").getComponent(cc.Label).string = \"已结束\";\n            this.node.getChildByName(\"img_rqdi\").getChildByName(\"lb_statue\").color = new cc.Color(226, 28, 61);\n        }else{\n            this.node.getChildByName(\"img_rqdi\").getChildByName(\"lb_statue\").getComponent(cc.Label).string = \"进行中\";\n            this.node.getChildByName(\"img_rqdi\").getChildByName(\"lb_statue\").color = new cc.Color(11, 230, 42);\n        }\n        this.node.getChildByName(\"img_rqdi\").getChildByName(\"lb_time\").getComponent(cc.Label).string = app.ComTool().GetDateYearMonthDayString(competitionTime.beginTime);\n        this.node.getChildByName(\"img_sjdi\").removeAllChildren();\n        for (let i = 0; i < this.competitionTimeList.length; i++) {\n            let tempNode = this.node.getChildByName(\"btn_timeDemo\");\n            let child = cc.instantiate(tempNode);\n            child.getChildByName(\"lb_btnTime\").getComponent(cc.Label).string = app.ComTool().GetDateYearMonthDayString(this.competitionTimeList[i].beginTime);\n            child.competitionTime = this.competitionTimeList[i];\n            if (this.curType == this.competitionTimeList[i].type) {\n                child.getChildByName(\"img_sjxz\").active = true;\n            }else{\n                child.getChildByName(\"img_sjxz\").active = false;\n            }\n            child.active = true;\n            this.node.getChildByName(\"img_sjdi\").addChild(child);\n        }\n    },\n    GetNextPage:function(){\n    \tthis.curPage++;\n    \tthis.GetClubTeamListZhongZhi(false);\n    },\n    UpdateScrollView:function(serverPack, isRefresh){\n    \tlet rankScrollView = this.node.getChildByName(\"rankScrollView\");\n    \tlet content = rankScrollView.getChildByName(\"view\").getChildByName(\"content\");\n    \tif (isRefresh) {\n    \t\trankScrollView.getComponent(cc.ScrollView).scrollToTop();\n    \t\tcontent.removeAllChildren();\n    \t}\n        let demo = this.node.getChildByName(\"demo\");\n    \tdemo.active = false;\n    \tfor (let i = 0; i < serverPack.clubTeamListInfoList.length; i++) {\n            let matchItem = serverPack.clubTeamListInfoList[i];\n    \t\tlet child = cc.instantiate(demo);\n    \t\tif (i%2 == 0) {\n    \t\t\tchild.getComponent(cc.Sprite).enabled = true;\n    \t\t}else{\n    \t\t\tchild.getComponent(cc.Sprite).enabled = false;\n    \t\t}\n            child.playerData = {};\n            child.playerData.pid = matchItem.pid;\n            child.playerData.name = matchItem.name;\n            child.getChildByName(\"lb_name\").getComponent(cc.Label).string =matchItem.name\n            child.getChildByName(\"lb_id\").getComponent(cc.Label).string = matchItem.pid;\n            child.getChildByName(\"lb_level\").getComponent(cc.Label).string = this.ShowPositionLabel(matchItem.position);\n            child.getChildByName(\"lb_scorePoint\").getComponent(cc.Label).string = matchItem.scorePoint;\n            child.getChildByName(\"lb_sportsPointConsume\").getComponent(cc.Label).string = matchItem.sportsPointConsume;\n            child.getChildByName(\"lb_eliminatePoint\").getComponent(cc.Label).string = matchItem.eliminatePoint;\n            child.getChildByName(\"lb_consume\").getComponent(cc.Label).string = matchItem.consume;\n            if (matchItem.position == 2) {\n                //推广员不显示调出按钮\n                child.getChildByName(\"btn_outPromoter\").active = false;\n            }else{\n                child.getChildByName(\"btn_outPromoter\").active = true;\n            }\n    \t\tchild.active = true;\n    \t\tcontent.addChild(child);\n    \t}\n    },\n\n    ShowPositionLabel:function(position){\n        let positionStrList = [\"普通成员\",\"推广员管理员\",\"推广员\",\"圈主\"];\n        return positionStrList[position];\n    },\n    //控件点击回调\n    OnClick_BtnWnd:function(eventTouch, eventData){\n        try{\n            app.SoundManager().PlaySound(\"BtnClick\");\n            let btnNode = eventTouch.currentTarget;\n            let btnName = btnNode.name;\n            this.OnClick(btnName, btnNode);\n        }\n        catch (error){\n            console.log(\"OnClick_BtnWnd:\"+error.stack);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if (\"btn_timeDemo\" == btnName) {\n            this.curType = btnNode.competitionTime.type;\n            this.curPage = 1;\n            this.GetClubTeamListZhongZhi(true);\n            this.UpdateStatusAndTime(btnNode.competitionTime);\n            this.node.getChildByName(\"img_sjdi\").active = false;\n        }else if('img_rqdi'==btnName){\n            this.node.getChildByName(\"img_sjdi\").active = !this.node.getChildByName(\"img_sjdi\").active;\n        }else if('btn_huizong'==btnName){\n            app.FormManager().ShowForm('ui/club_2/UIPromoterAllReport_2',this.clubId,this.pid);\n        }else if('btn_changePromotion'==btnName){\n            app.FormManager().ShowForm('ui/club_2/UIClubChangePromotion_2',this.clubId,this.pid);\n        }else if('btn_setLevel'==btnName){\n            this.node.getChildByName(\"selectzd\").active = true;\n        }else if('btn_dissolvezhandui'==btnName){\n            this.SetWaitForConfirm('CANCELPROMOTER',app.ShareDefine().Confirm,[],[], \"取消后该推广员下的所有玩家归属将发生变化，请确认取消\");\n        }else if('btn_detail'==btnName){\n            \n        }else if('btn_outPromoter'==btnName){\n            app.FormManager().ShowForm('ui/club_2/UIPromoterSet_2',this.clubId,btnNode.parent.playerData.pid,btnNode.parent.playerData);\n        }else if('selectzd'==btnName){\n            let newLevel = this.GetSelectZhanDuiLevel();\n            if (newLevel != this.level) {\n                let sendPack = {};\n                sendPack.clubId = this.clubId;\n                sendPack.pid = this.pid;\n                sendPack.value = newLevel;\n                let sendPackName = \"Club.CClubChangeLevelZhongZhi\";\n                let self = this;\n                app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n                    self.level = newLevel;\n                    self.ShowLevelLabel();\n                    self.zhanduiNode.getComponent(\"zhanduiNode\").GetClubTeamListZhongZhi(true);\n                }, function(){\n\n                });\n            }\n            btnNode.active = false;\n        }\n    },\n\n    GetSelectZhanDuiLevel:function(){\n        let levelTemp = 0;\n        let img_zddi = this.node.getChildByName(\"selectzd\").getChildByName(\"img_zddi\");\n        for (let i = 0; i < img_zddi.children.length; i++) {\n            let toggle = img_zddi.children[i].getComponent(cc.Toggle);\n            if (toggle.isChecked) {\n                levelTemp = parseInt(img_zddi.children[i].name.replace(\"btn_zd_\",''));\n                break;\n            }\n        }\n        return levelTemp;\n    },\n    //---------点击函数---------------------\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[],content = \"\", lbSure =\"\", lbCancle=\"\"){\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg,content,lbSure,lbCancle);\n    },\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return;\n        }\n        let self = this;\n        let sendPack = {};\n        if(msgID == \"CANCELPROMOTER\"){\n            sendPack = {};\n            sendPack.clubId = this.clubId;\n            sendPack.pid = this.pid;\n            app.NetManager().SendPack(\"club.CClubCancleCaptionOpZhongZhi\",sendPack, function(serverPack){\n                self.node.active = false;\n            }, function(){\n\n            });\n        }\n    },\n});"]}