{"version":3,"sources":["btn_RankZhongzhiNode.js"],"names":["app","require","cc","Class","extends","Component","properties","img_wxnc","Node","typeLabel","Label","gameLabel","onLoad","wechatName","rankScrollView","node","getChildByName","getComponent","ScrollView","on","GetNextPage","InitData","clubId","unionId","getType","rankedOpenZhongZhi","rankedOpenEntryZhongZhi","initAllClick","initOpenClick","allToggle","Toggle","openToggle","isChecked","curPage","type","gameType","active","ShowTypeBtnLabel","GetClubReportRanked","gameList","Client","GetAllGameId","ShowGameBtnLabel","toggleContainer","i","children","length","btnType","parseInt","name","replace","strObj","string","removeAllChildren","selectGameName","gameDemo","allGameChild","instantiate","gameId","gameName","addChild","ShareDefine","GametTypeID2Name","key","toString","child","isRefresh","sendPack","pageNum","sendPackName","self","NetManager","SendPack","serverPack","UpdateScrollView","ShowSelfInfo","data","img_xiadi","lb_selfRank","id","lb_selfName","player","lb_selfPid","pid","lb_selfValue","itemsValue","GetClubChangeAlivePointList","content","scrollToTop","demo","matchItem","Sprite","enabled","headImageUrl","iconUrl","WeChatManager","InitHeroHeadImage","WeChatHeadImage","OnLoad","ShowHeroHead","playerInfo","beizhu","ComTool","GetBeiZhuName","SwitchWechatName","OnClick_BtnWnd","eventTouch","eventData","SoundManager","PlaySound","btnNode","currentTarget","btnName","OnClick","error","console","log","stack","x","OnClickTypeToggle","event","OnClickAllToggle","OnClickOpenToggle"],"mappings":"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","file":"btn_RankZhongzhiNode.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_2\\unionChild_2","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        img_wxnc:cc.Node,\n        typeLabel:cc.Label,\n        gameLabel:cc.Label,\n    },\n    onLoad:function(){\n        this.wechatName = true;\n        let rankScrollView = this.node.getChildByName(\"rankNode\").getChildByName(\"rankScrollView\").getComponent(cc.ScrollView);\n        rankScrollView.node.on('scroll-to-bottom',this.GetNextPage,this);\n    },\n    InitData:function (clubId, unionId, getType,rankedOpenZhongZhi, rankedOpenEntryZhongZhi) {\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.getType = getType;\n        this.rankedOpenZhongZhi = rankedOpenZhongZhi;\n        this.rankedOpenEntryZhongZhi = rankedOpenEntryZhongZhi;\n        this.initAllClick = true;\n        this.initOpenClick = true;\n        let allToggle = this.node.getChildByName(\"rankNode\").getChildByName(\"allToggle\").getComponent(cc.Toggle);\n        let openToggle = this.node.getChildByName(\"rankNode\").getChildByName(\"openToggle\").getComponent(cc.Toggle);\n        allToggle.isChecked = rankedOpenZhongZhi;\n        openToggle.isChecked = rankedOpenEntryZhongZhi;\n        this.curPage = 1;\n        this.type = 0;\n        this.gameType = -1;\n        this.node.getChildByName(\"rankNode\").getChildByName(\"toggleContainer\").active = false;\n        this.node.getChildByName(\"rankNode\").getChildByName(\"img_gamedi\").active = false;\n        this.ShowTypeBtnLabel();\n        this.GetClubReportRanked(true);\n        this.gameList = app.Client.GetAllGameId();\n        this.ShowGameBtnLabel();\n    },\n    ShowTypeBtnLabel:function(){\n        let toggleContainer = this.node.getChildByName(\"rankNode\").getChildByName(\"toggleContainer\");\n        for (let i = 0; i < toggleContainer.children.length; i++) {\n            let btnType = parseInt(toggleContainer.children[i].name.replace('toggle',''));\n            if (toggleContainer.children[i].getComponent(cc.Toggle).isChecked) {\n                this.type = btnType;\n            }\n        }\n        let strObj = [\"参与房间数\",\"参与小局数\",\"积分\",\"大赢家\",\"比赛最高分\"];\n        this.typeLabel.string = strObj[this.type];\n    },\n    ShowGameBtnLabel:function(){\n        this.node.getChildByName(\"rankNode\").getChildByName(\"img_gamedi\").removeAllChildren();\n        let selectGameName = \"所有游戏\";\n        let gameDemo = this.node.getChildByName(\"rankNode\").getChildByName(\"btn_gameDemo\");\n        let allGameChild = cc.instantiate(gameDemo);\n        allGameChild.gameId = -1;\n        allGameChild.gameName = selectGameName;\n        allGameChild.getChildByName(\"lb_btnGame\").getComponent(cc.Label).string = selectGameName;\n        if (this.gameType == -1) {\n            allGameChild.getChildByName(\"img_sjxz\").active = true;\n            selectGameName = \"所有游戏\";\n        }else{\n            allGameChild.getChildByName(\"img_sjxz\").active = false;\n        }\n        allGameChild.active = true;\n        this.node.getChildByName(\"rankNode\").getChildByName(\"img_gamedi\").addChild(allGameChild);\n        for (let i = 0; i < this.gameList.length; i++) {\n            let gameName = app.ShareDefine().GametTypeID2Name[this.gameList[i]];\n            let key = this.gameList[i].toString();\n            let child = cc.instantiate(gameDemo);\n            child.gameId = this.gameList[i];\n            child.gameName = gameName;\n            child.getChildByName(\"lb_btnGame\").getComponent(cc.Label).string = gameName;\n            if (this.gameType == this.gameList[i]) {\n                child.getChildByName(\"img_sjxz\").active = true;\n                selectGameName = gameName;\n            }else{\n                child.getChildByName(\"img_sjxz\").active = false;\n            }\n            child.active = true;\n            this.node.getChildByName(\"rankNode\").getChildByName(\"img_gamedi\").addChild(child);\n        }\n        this.gameLabel.string = selectGameName;\n    },\n    GetClubReportRanked:function(isRefresh) {\n        let sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.unionId = this.unionId;\n        sendPack.pageNum = this.curPage;\n        sendPack.type = this.type;\n        sendPack.getType = this.getType;\n        sendPack.gameType = this.gameType;\n        let sendPackName = \"Club.CClubReportRanked\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n            self.UpdateScrollView(serverPack[\"data\"], isRefresh);\n            self.ShowSelfInfo(serverPack[\"data\"][\"clubRankedZhongZhiSelf\"]);\n        }, function(){\n\n        });\n    },\n    ShowSelfInfo:function(data){\n        let img_xiadi = this.node.getChildByName(\"rankNode\").getChildByName(\"img_xiadi\");\n        let lb_selfRank = img_xiadi.getChildByName(\"lb_selfRank\").getComponent(cc.Label);\n        if (data.id == 0) {\n            lb_selfRank.string = \"我的名次:未上榜\";\n        }else{\n            lb_selfRank.string = \"我的名次:\" + data.id;\n        }\n        let lb_selfName = img_xiadi.getChildByName(\"lb_selfName\").getComponent(cc.Label);\n        lb_selfName.string = data.player.name;\n        let lb_selfPid = img_xiadi.getChildByName(\"lb_selfPid\").getComponent(cc.Label);\n        lb_selfPid.string = data.player.pid;\n        let lb_selfValue = img_xiadi.getChildByName(\"lb_selfValue\").getComponent(cc.Label);\n        lb_selfValue.string = data.itemsValue;\n    },\n    GetNextPage:function(){\n        this.curPage++;\n        this.GetClubChangeAlivePointList(false);\n    },\n    UpdateScrollView:function(serverPack, isRefresh){\n        let rankScrollView = this.node.getChildByName(\"rankNode\").getChildByName(\"rankScrollView\");\n        let content = rankScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        if (isRefresh) {\n            rankScrollView.getComponent(cc.ScrollView).scrollToTop();\n            content.removeAllChildren();\n        }\n        let demo = this.node.getChildByName(\"rankNode\").getChildByName(\"demo\");\n        demo.active = false;\n        for (let i = 0; i < serverPack[\"recordList\"].length; i++) {\n            let matchItem = serverPack[\"recordList\"][i];\n            let child = cc.instantiate(demo);\n            if (i%2 == 0) {\n                child.getComponent(cc.Sprite).enabled = true;\n            }else{\n                child.getComponent(cc.Sprite).enabled = false;\n            }\n            let headImageUrl = matchItem.player.iconUrl;\n            if(headImageUrl){\n                app.WeChatManager().InitHeroHeadImage(matchItem.pid, headImageUrl);\n                let WeChatHeadImage = child.getChildByName('head').getComponent(\"WeChatHeadImage\");\n                WeChatHeadImage.OnLoad();\n                WeChatHeadImage.ShowHeroHead(matchItem.player.pid,headImageUrl);\n            }\n            child.wechatName = matchItem.player.name;\n            child.playerInfo = matchItem.player;\n            child.beizhu = app.ComTool().GetBeiZhuName(matchItem.player.pid,matchItem.player.name);\n            if (this.wechatName) {\n                child.getChildByName(\"lb_name\").getComponent(cc.Label).string =matchItem.player.name;\n            }else{\n                child.getChildByName(\"lb_name\").getComponent(cc.Label).string =child.beizhu;\n            }\n            child.pid = matchItem.player.pid;\n            child.data = matchItem;\n            child.getChildByName(\"lb_pid\").getComponent(cc.Label).string = matchItem.player.pid;\n            child.getChildByName(\"lb_value\").getComponent(cc.Label).string = matchItem.itemsValue;\n            child.getChildByName(\"lb_rank\").getComponent(cc.Label).string = matchItem.id;\n            child.active = true;\n            content.addChild(child);\n        }\n    },\n    SwitchWechatName:function(){\n        let rankScrollView = this.node.getChildByName(\"rankNode\").getChildByName(\"rankScrollView\");\n        let content = rankScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        for (let i = 0; i < content.children.length; i++) {\n            if (this.wechatName) {\n                content.children[i].getChildByName(\"lb_name\").getComponent(cc.Label).string =content.children[i].wechatName;\n            }else{\n                content.children[i].getChildByName(\"lb_name\").getComponent(cc.Label).string =content.children[i].beizhu;\n            }\n        }\n    },\n    //控件点击回调\n    OnClick_BtnWnd:function(eventTouch, eventData){\n        try{\n            app.SoundManager().PlaySound(\"BtnClick\");\n            let btnNode = eventTouch.currentTarget;\n            let btnName = btnNode.name;\n            this.OnClick(btnName, btnNode);\n        }\n        catch (error){\n            console.log(\"OnClick_BtnWnd:\"+error.stack);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if('lb_4'==btnName){\n            this.node.getChildByName(\"rankNode\").getChildByName(\"toggleContainer\").active = !this.node.getChildByName(\"rankNode\").getChildByName(\"toggleContainer\").active;\n        }else if (\"img_qmp\" == btnName) {\n            if (this.wechatName) {\n                this.wechatName = false;\n                this.img_wxnc.x = -36;\n                this.img_wxnc.getChildByName(\"lb_2_3\").getComponent(cc.Label).string = \"群名片\";\n            }else{\n                this.wechatName = true;\n                this.img_wxnc.x = 36;\n                this.img_wxnc.getChildByName(\"lb_2_3\").getComponent(cc.Label).string = \"微信昵称\";\n            }\n            this.SwitchWechatName();\n        }else if (\"btn_gameDemo\" == btnName) {\n            this.gameType = btnNode.gameId;\n            this.gameLabel.string = btnNode.gameName;\n            this.curPage = 1;\n            this.GetClubReportRanked(true);\n            this.node.getChildByName(\"rankNode\").getChildByName(\"img_gamedi\").active = false;\n            this.ShowGameBtnLabel();\n        }else if (\"btn_selectGame\" == btnName) {\n            this.node.getChildByName(\"rankNode\").getChildByName(\"img_gamedi\").active = !this.node.getChildByName(\"rankNode\").getChildByName(\"img_gamedi\").active;\n        }\n    },\n    OnClickTypeToggle:function(event){\n        this.node.getChildByName(\"rankNode\").getChildByName(\"toggleContainer\").active = false;\n        this.ShowTypeBtnLabel();\n        this.curPage = 1;\n        this.GetClubReportRanked(true);\n    },\n\n    OnClickAllToggle:function(event){\n        if (this.initAllClick) {\n            this.initAllClick = false;\n            return;\n        }\n        let allToggle = this.node.getChildByName(\"rankNode\").getChildByName(\"allToggle\").getComponent(cc.Toggle);\n        let openToggle = this.node.getChildByName(\"rankNode\").getChildByName(\"openToggle\").getComponent(cc.Toggle);\n        if (allToggle.isChecked && !openToggle.isChecked) {\n            openToggle.isChecked = true;\n        }\n        let sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.unionId = this.unionId;\n        sendPack.rankedOpenZhongZhi = allToggle.isChecked;\n        // sendPack.rankedOpenEntryZhongZhi = openToggle.isChecked;\n        let sendPackName = \"Union.CUnionChangeZhongZhiRnaked\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n\n        }, function(){\n\n        });\n    },\n\n    OnClickOpenToggle:function(event){\n        if (this.initOpenClick) {\n            this.initOpenClick = false;\n            return;\n        }\n        let allToggle = this.node.getChildByName(\"rankNode\").getChildByName(\"allToggle\").getComponent(cc.Toggle);\n        let openToggle = this.node.getChildByName(\"rankNode\").getChildByName(\"openToggle\").getComponent(cc.Toggle);\n        if (allToggle.isChecked && !openToggle.isChecked) {\n            allToggle.isChecked = false;\n        }\n        let sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.unionId = this.unionId;\n        // sendPack.rankedOpenZhongZhi = allToggle.isChecked;\n        sendPack.rankedOpenEntryZhongZhi = openToggle.isChecked;\n        let sendPackName = \"Union.CUnionChangeZhongZhiRnakedOpenEntry\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n\n        }, function(){\n\n        });\n    },\n\n    // ChangeZhongZhiRanked:function(allToggle,openToggle){\n    //     let sendPack = {};\n    //     sendPack.clubId = this.clubId;\n    //     sendPack.unionId = this.unionId;\n    //     sendPack.rankedOpenZhongZhi = allToggle.isChecked;\n    //     sendPack.rankedOpenEntryZhongZhi = openToggle.isChecked;\n    //     let sendPackName = \"Union.CUnionChangeZhongZhiRnaked\";\n    //     let self = this;\n    //     app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n\n    //     }, function(){\n\n    //     });\n    // },\n});"]}