{"version":3,"sources":["UIXMMJRecord_Child.js"],"names":["cc","Class","extends","require","properties","jushu","Label","lb_paijuid","lb_paijushijian","clientPosHuType","clientPosIntegral","clientDownPosHuType","clientDownPosIntegral","clientFacePosHuType","clientFacePosIntegral","clientUpPosHuType","clientUpPosIntegral","bg2","Node","bg3","bg4","OnCreateInit","LYMJRoomMgr","app","LYMJRoom","GetEnterRoom","LYMJRoomPosMgr","GetRoomPosMgr","playerList","InitShowInfo","clientPos","GetClientPos","clientDownPos","GetClientDownPos","clientFacePos","GetClientFacePos","clientUpPos","GetClientUpPos","ClientPlayer","GetPlayerInfoByPos","push","DownPlayer","FacePlayer","UpPlayer","i","ShareDefine","LYMJRoomJoinCount","activeValue","length","bgStr","bg","node","getChildByName","active","OnShow","userData","GetFormProperty","getComponent","console","log","string","parseInt","roomKey","GetRoomProperty","i18n","t","roomRecord","GetRoomRecord","everyGameKeys","Object","keys","everyGame","ComTool","GetDateYearMonthDayHourMinuteString","posHuList","posHuListKeys","playerInfo","player","playerPos","playerIntegral","join","playerHuType","SetPlayerInfo","huTypeString","HuType_ZiMo","HuType_QGH","HuType_SanJinDao","HuType_DanYou","HuType_ShuangYou","HuType_SanYou","HuType_QiangJin","HuType_SiJinDao","HuType_WuJinDao","HuType_LiuJinDao","HuType_ShiSanYao","HuType_NotHu","lb_chengjiStr","lb_chengji","lb_hupai"],"mappings":"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","file":"UIXMMJRecord_Child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiChild","sourcesContent":["/*\n UIGMTool_Child2 GM工具子界面\n */\n\ncc.Class({\n    extends: require(\"BaseChildForm\"),\n\n    properties: {\n        jushu:cc.Label,\n        lb_paijuid:cc.Label,\n        lb_paijushijian:cc.Label,\n\n        clientPosHuType:cc.Label,\n        clientPosIntegral:cc.Label,\n\n        clientDownPosHuType:cc.Label,\n        clientDownPosIntegral:cc.Label,\n\n        clientFacePosHuType:cc.Label,\n        clientFacePosIntegral:cc.Label,\n\n        clientUpPosHuType:cc.Label,\n        clientUpPosIntegral:cc.Label,\n\n        bg2:cc.Node,\n        bg3:cc.Node,\n        bg4:cc.Node,\n\n    },\n\n    //创建界面回掉\n    OnCreateInit:function(){\n        this.LYMJRoomMgr = app.LYMJRoomMgr();\n        this.LYMJRoom = this.LYMJRoomMgr.GetEnterRoom();\n        this.LYMJRoomPosMgr = this.LYMJRoom.GetRoomPosMgr();\n\n        //玩家列表\n        this.playerList = []\n    },\n\n    InitShowInfo:function () {\n        this.playerList = []\n        let clientPos = this.LYMJRoomPosMgr.GetClientPos();\n        let clientDownPos = this.LYMJRoomPosMgr.GetClientDownPos();\n        let clientFacePos = this.LYMJRoomPosMgr.GetClientFacePos();\n        let clientUpPos = this.LYMJRoomPosMgr.GetClientUpPos();\n\n        let ClientPlayer = this.LYMJRoomPosMgr.GetPlayerInfoByPos(clientPos);\n        if(ClientPlayer)\n        {\n            this.playerList.push(ClientPlayer);\n        }\n\n        let DownPlayer = this.LYMJRoomPosMgr.GetPlayerInfoByPos(clientDownPos);\n        if(DownPlayer)\n        {\n            this.playerList.push(DownPlayer);\n        }\n\n        let FacePlayer = this.LYMJRoomPosMgr.GetPlayerInfoByPos(clientFacePos);\n        if(FacePlayer)\n        {\n            this.playerList.push(FacePlayer);\n        }\n\n        let UpPlayer = this.LYMJRoomPosMgr.GetPlayerInfoByPos(clientUpPos);\n        if(UpPlayer)\n        {\n            this.playerList.push(UpPlayer);\n        }\n\n        for(let i = 2; i <= this.ShareDefine.LYMJRoomJoinCount; i++)\n        {\n            let activeValue  = this.playerList.length == i ? 1 : 0;\n            let bgStr = \"bg\"+i;\n            let bg = this.node.getChildByName(bgStr);\n            if(bg) bg.active = activeValue;\n        }\n    },\n    //显示\n    OnShow:function(){\n        this.InitShowInfo();\n\n        let bgStr = \"bg\"+this.playerList.length;\n        let bg = this.node.getChildByName(bgStr);\n\n        let userData = this.GetFormProperty(\"UserData\");\n        let jushu = bg.getChildByName(\"lb_jushu\").getComponent(cc.Label);\n        console.log(\"UILYMJRecore_Child jushu userData:\",userData);\n        jushu.string = parseInt(userData)+1;\n\n        let roomKey = this.LYMJRoom.GetRoomProperty(\"key\");\n        let lb_paijuid = bg.getChildByName(\"lb_paijuid\").getComponent(cc.Label);\n        lb_paijuid.string = app.i18n.t(\"roomKey\",{\"roomKey\": roomKey});\n\n        let roomRecord = this.LYMJRoomMgr.GetEnterRoom().GetRoomRecord();\n        let everyGameKeys = Object.keys(roomRecord);\n        let everyGame = roomRecord[everyGameKeys[userData]];\n\n        let lb_paijushijian = lb_paijuid.node.getChildByName(\"lb_id\").getComponent(cc.Label);\n        lb_paijushijian.string = this.ComTool.GetDateYearMonthDayHourMinuteString(everyGame[\"endTime\"]);\n\n        let posHuList = everyGame[\"posHuList\"];\n        let posHuListKeys = Object.keys(posHuList);\n        for(let i = 0; i < this.playerList.length; i++ ){\n            let playerInfo = this.playerList[i]\n            let player = posHuList[playerInfo[\"pos\"]];\n            let playerPos = player[\"pos\"];\n            let playerIntegral = player[\"point\"] > 0 ? [\"+\",player[\"point\"]].join(\"\") : player[\"point\"];\n            let playerHuType = player[\"huType\"];\n            this.SetPlayerInfo(i, playerIntegral, playerHuType);\n        }\n    },\n    SetPlayerInfo:function (playerPos, playerIntegral, playerHuType) {\n        \n        let huTypeString = \"\";\n        \n        \n        if(playerHuType == this.ShareDefine.HuType_ZiMo){\n            huTypeString = app.i18n.t(\"ZiMo\");\n        }\n        else if(playerHuType == this.ShareDefine.HuType_QGH){\n            huTypeString = app.i18n.t(\"QiangGangHu\");\n        }\n        else if(playerHuType == this.ShareDefine.HuType_SanJinDao){\n            huTypeString = app.i18n.t(\"SanJinDao\");\n        }else if(playerHuType == this.ShareDefine.HuType_DanYou){\n            huTypeString = app.i18n.t(\"DanYou\");\n        }else if(playerHuType == this.ShareDefine.HuType_ShuangYou){\n            huTypeString = app.i18n.t(\"ShuangYou\");\n        }else if(playerHuType == this.ShareDefine.HuType_SanYou){\n            huTypeString = app.i18n.t(\"SanYou\");\n        }else if(playerHuType == this.ShareDefine.HuType_QiangJin){\n            huTypeString = app.i18n.t(\"QiangJin\");\n        }else if(playerHuType == this.ShareDefine.HuType_SiJinDao){\n            huTypeString = app.i18n.t(\"SiJinDao\");\n        }else if(playerHuType == this.ShareDefine.HuType_WuJinDao){\n            huTypeString = app.i18n.t(\"WuJinDao\");\n        }else if(playerHuType == this.ShareDefine.HuType_LiuJinDao){\n            huTypeString = app.i18n.t(\"LiuJinDao\");\n        }\n        else if(playerHuType == this.ShareDefine.HuType_ShiSanYao){\n            huTypeString = app.i18n.t(\"ShiSanYao\");\n        }\n        else if(playerHuType == this.ShareDefine.HuType_NotHu){\n            huTypeString = \"\";\n        }\n        \n        let bgStr = \"bg\"+this.playerList.length;\n        let bg = this.node.getChildByName(bgStr);\n\n        let lb_chengjiStr = \"lb_chengji0\"+(playerPos+1);\n        let lb_chengji = bg.getChildByName(lb_chengjiStr).getComponent(cc.Label);\n        lb_chengji.string = app.i18n.t(\"Integral\",{\"Integral\":playerIntegral});\n\n        let lb_hupai = lb_chengji.node.getChildByName(\"lb_hupai\").getComponent(cc.Label);\n        lb_hupai.string = huTypeString;\n        lb_hupai.node.active = 1;\n    },\n\n    //-------------点击函数-------------\n\n});"]}