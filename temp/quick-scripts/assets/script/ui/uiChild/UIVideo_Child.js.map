{"version":3,"sources":["UIVideo_Child.js"],"names":["app","require","cc","Class","extends","properties","recordTimeLabel","Label","OnCreateInit","ComTool","RoomRecordManager","OnShow","userData","GetFormProperty","SetRecordPlayerInfo","recordList","GetRoomRecord","string","GetDateYearMonthDayHourMinuteString","fastCntList","playersList","pointList","count","length","i","startPath","StringAddNumSuffix","namePath","join","IDPath","jiangLiPath","zhongFenPath","headPath","headPathWeChatImage","find","node","getComponent","player","playerJiangLi","playerZongFen","playerName","playerID","ShowHeroHead","GetWndComponent","GetBeiZhuName","i18n","t","GetPid","OnClick","btnName","btnNode","roomID","GetParent","ShowRoomRecordDetail","ErrLog"],"mappings":"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","file":"UIVideo_Child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiChild","sourcesContent":["\nvar app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseChildForm\"),\n\n    properties: {\n        recordTimeLabel:cc.Label,\n    },\n\n    //创建界面回掉\n    OnCreateInit:function(){\n        this.ComTool = app.ComTool();\n        this.RoomRecordManager = app.RoomRecordManager();\n    },\n\n\n    //显示\n    OnShow:function(){\n        let userData = this.GetFormProperty(\"UserData\");\n        this.SetRecordPlayerInfo(userData);\n\n    },\n    SetRecordPlayerInfo:function (userData) {\n        let recordList = this.RoomRecordManager.GetRoomRecord(userData);\n        this.recordTimeLabel.string = this.ComTool.GetDateYearMonthDayHourMinuteString(recordList[\"endSec\"]);\n        let fastCntList = recordList[\"fastCnt\"];\n        let playersList = recordList[\"players\"];\n        let pointList = recordList[\"point\"];\n        let count = playersList.length;\n        for(let i = 0; i < count; i++){\n            let startPath = this.ComTool.StringAddNumSuffix(\"sp_info/nd_chengji\", i+1, 2);\n            let namePath = [startPath, \"lb_name\"].join(\"/\");\n            let IDPath = [startPath, \"lb_id\"].join(\"/\");\n            let jiangLiPath = [startPath, \"sp_shandian/sp_di/lb_name/lb_num\"].join(\"/\");\n            let zhongFenPath = [startPath, \"sp_zongfen/lb_zongfen\"].join(\"/\");\n            let headPath = [startPath, \"touxiang/btn_head\"].join(\"/\");\n            let headPathWeChatImage =  cc.find(headPath, this.node).getComponent(\"WeChatHeadImage\");\n\n            let player = playersList[i];\n            let playerJiangLi = fastCntList[i];\n            let playerZongFen = pointList[i];\n\n            let playerName = player[\"name\"];\n            let playerID = player[\"pid\"];\n\n            headPathWeChatImage.ShowHeroHead(playerID);\n            this.GetWndComponent(namePath, cc.Label).string = this.ComTool.GetBeiZhuName(playerID,playerName);\n            this.GetWndComponent(IDPath, cc.Label).string = app.i18n.t(\"UIMain_PIDText\",{\"pid\":this.ComTool.GetPid(playerID)});\n            this.GetWndComponent(jiangLiPath, cc.Label).string = playerJiangLi;\n            this.GetWndComponent(zhongFenPath, cc.Label).string = app.i18n.t(\"UIVideo_Child_ZongFen\", {\"ZongFen\":playerZongFen});\n\n        }\n    },\n    //-------------点击函数-------------\n    OnClick: function (btnName, btnNode) {\n        if(btnName == \"btn_benji\"){\n            let roomID = this.GetFormProperty(\"UserData\");\n            this.GetParent().ShowRoomRecordDetail(roomID);\n        }\n        else{\n            this.ErrLog(\"OnClick not find btnName:%s\", btnName);\n        }\n    },\n\n});\n\n"]}