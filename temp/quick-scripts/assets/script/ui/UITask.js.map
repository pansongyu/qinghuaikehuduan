{"version":3,"sources":["UITask.js"],"names":["app","require","cc","Class","extends","properties","prefab_demo1","Node","prefab_demo2","reward_icon","SpriteFrame","newer_task_bar","day_task_bar","special_layout","newer_layout","day_layout","OnCreateInit","OnShow","FormManager","ShowForm","active","ShowTask","children","task_bar","NetManager","SendPack","GetTaskInfoList","bind","GetTaskInfoListFail","ShowXianJin","ShowSpecialTask","ShowNewerTask","ShowDayTask","data","taskItemInfos","drawMoney","specialTask","newerTask","dayTask","i","length","taskType","push","Task","DestroyAllChildren","add","instantiate","name","id","getChildByName","getComponent","RichText","string","title","value","targetValue","Label","content","ShowReward","rewardInfo","ShowTaskBtn","taskState","targetType","task_id","addChild","node","prizeType","count","Sprite","spriteFrame","money","GoTask","ShowSysMsg","LingQu","that","reward","msg","text","join","evnet","OnClick","btnName","btnNode","parent","OnConFirm","clickType","msgID","backArgList"],"mappings":"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","file":"UITask.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n    properties: {\n        // top_tip:cc.Node,\n    \tprefab_demo1:cc.Node,\n        prefab_demo2:cc.Node,\n        reward_icon:[cc.SpriteFrame],\n        newer_task_bar:cc.Node,\n        day_task_bar:cc.Node,\n        special_layout:cc.Node,\n        newer_layout:cc.Node,\n        day_layout:cc.Node,\n    },\n    OnCreateInit:function(){\n    },\n    OnShow: function () {\n        app.FormManager().ShowForm('UITop', \"UITask\");\n        this.prefab_demo1.active=false;\n        this.prefab_demo2.active=false;\n        // this.top_tip.active=false;\n        this.ShowTask();\n        if(!this.newer_layout.children){\n            this.task_bar[0].active = false;\n        }\n    },\n    ShowTask:function(){   \n        app.NetManager().SendPack(\"task.CTaksTaskList\",{}, this.GetTaskInfoList.bind(this),this.GetTaskInfoListFail.bind(this));\n    },\n    GetTaskInfoListFail:function(){\n        this.ShowXianJin(0);\n        this.ShowSpecialTask([]);\n        this.ShowNewerTask([]);\n        this.ShowDayTask([]);\n    },\n    GetTaskInfoList:function(data){\n        let taskItemInfos=data.taskItemInfos;\n        let drawMoney=data.drawMoney;\n        this.ShowXianJin(drawMoney);\n        //显示任务\n        let specialTask=[];\n        let newerTask=[];\n        let dayTask=[];\n        for(let i=0;i<taskItemInfos.length;i++){\n            if(taskItemInfos[i].taskType==1){\n                newerTask.push(taskItemInfos[i]);\n            }else if(taskItemInfos[i].taskType==2){\n                dayTask.push(taskItemInfos[i]);\n            }else if(taskItemInfos[i].taskType==3){\n                specialTask.push(taskItemInfos[i]);\n            }\n        } \n        this.ShowSpecialTask(specialTask);\n        this.ShowNewerTask(newerTask);\n        this.ShowDayTask(dayTask);\n    },\n    ShowDayTask:function(Task){\n        if(Task.length==0){\n            this.day_layout.active=false;\n            this.day_task_bar.active = false;\n            return;\n        }\n        //this.day_layout.removeAllChildren();\n        this.DestroyAllChildren(this.day_layout);\n        this.day_task_bar.active = true;\n        this.day_layout.active=true;\n        // let top_tip=cc.instantiate(this.top_tip);\n        // top_tip.getChildByName('lb').getComponent(cc.Label).string='每日任务';\n        // top_tip.active=true;\n        // this.day_layout.addChild(top_tip);\n        for(let i=0;i<Task.length;i++){\n            let add=cc.instantiate(this.prefab_demo2);\n            add.name='task_'+Task[i].id;\n            add.getChildByName('rich_title').getComponent(cc.RichText).string='<color=#9d3d17>'+Task[i].title+'</c> <color=#ff2522>('+Task[i].value+'/'+Task[i].targetValue+')</color>';\n            add.getChildByName('content').getComponent(cc.Label).string=Task[i].content;\n\n            this.ShowReward(add,Task[i].rewardInfo[0]);\n            this.ShowTaskBtn(add,Task[i].taskState);\n            add.active=true;\n            add.targetType=Task[i].targetType;\n            add.task_id=Task[i].id;\n            this.day_layout.addChild(add);\n        }\n    },\n    ShowNewerTask:function(Task){\n        if(Task.length==0){\n            this.newer_layout.active=false;\n            this.newer_task_bar.active = false;\n            return;\n        }\n        //this.newer_layout.removeAllChildren();\n        this.DestroyAllChildren(this.newer_layout);\n        this.newer_task_bar.active = true;\n        this.newer_layout.active=true;\n        // let top_tip=cc.instantiate(this.top_tip);\n        // top_tip.getChildByName('lb').getComponent(cc.Label).string='新手任务';\n        // top_tip.active=true;\n        // this.newer_layout.addChild(top_tip);\n        for(let i=0;i<Task.length;i++){\n            let add=cc.instantiate(this.prefab_demo2);\n            add.name='task_'+Task[i].id;\n            add.getChildByName('rich_title').getComponent(cc.RichText).string='<color=#9d3d17>'+Task[i].title+'</c> <color=#ff2522>('+Task[i].value+'/'+Task[i].targetValue+')</color>';\n            add.getChildByName('content').getComponent(cc.Label).string=Task[i].content;\n\n            this.ShowReward(add,Task[i].rewardInfo[0]);\n            this.ShowTaskBtn(add,Task[i].taskState);\n            add.active=true;\n            add.targetType=Task[i].targetType;\n            add.task_id=Task[i].id;\n            this.newer_layout.addChild(add);\n        }\n    },\n    ShowSpecialTask:function(Task){\n        if(Task.length==0){\n            this.special_layout.active=false;\n            return;\n        }\n        //this.special_layout.removeAllChildren();\n        this.DestroyAllChildren(this.special_layout);\n        this.special_layout.active=true;\n        for(let i=0;i<Task.length;i++){\n            let add=cc.instantiate(this.prefab_demo1);\n            add.name='task_'+Task[i].id;\n            add.getChildByName('title').getComponent(cc.Label).string=Task[i].title;\n            add.getChildByName('content').getComponent(cc.Label).string=Task[i].content;\n            this.ShowReward(add,Task[i].rewardInfo[0]);\n            this.ShowTaskBtn(add,Task[i].taskState);\n            add.active=true;\n            add.targetType=Task[i].targetType;\n            add.task_id=Task[i].id;\n            this.special_layout.addChild(add);\n        }\n    },\n    ShowTaskBtn:function(node,taskState){\n        if(taskState==0){\n            node.getChildByName('btn_task').active=true;\n            node.getChildByName('btn_finish').active=false;\n        }else if(taskState==1){\n            node.getChildByName('btn_task').active=false;\n            node.getChildByName('btn_finish').active=true;\n        }else{\n            node.getChildByName('btn_task').active=false;\n            node.getChildByName('btn_finish').active=false;\n        }\n    },\n    ShowReward:function(node,rewardInfo){\n        let prizeType=rewardInfo.prizeType;\n        let count=rewardInfo.count;\n        //1-金币,// 2-(水晶)兑换券// 6-金币// 8-红包  // 9圈卡  // 10 固定红包\n        //1 - 乐豆   //2 - 房卡 //3 - 圈卡  //4 - 固定红包  //5 - 随机红包\n        node.getChildByName('type').getComponent(cc.Sprite).spriteFrame=this.reward_icon[prizeType - 1];\n        // if(prizeType==1){\n        //     node.getChildByName('type').getComponent(cc.Sprite).spriteFrame=this.reward_icon[0];\n        // }else if(prizeType==2){\n        //     node.getChildByName('type').getComponent(cc.Sprite).spriteFrame=this.reward_icon[1];\n        // }else if(prizeType==6){\n        //     node.getChildByName('type').getComponent(cc.Sprite).spriteFrame=this.reward_icon[2];\n        // }else if(prizeType==8 || prizeType==10){\n        //     count=count/100;\n        //     node.getChildByName('type').getComponent(cc.Sprite).spriteFrame=this.reward_icon[3];\n        // }else if(prizeType==9){\n        //     node.getChildByName('type').getComponent(cc.Sprite).spriteFrame=this.reward_icon[4];\n        // }\n        // else{\n        //     this.ShowSysMsg(prizeType + \"没有这类型\")\n        // }\n        if(count>=10000){\n        \tnode.getChildByName('num').getComponent(cc.Label).string='+'+(count/10000)+'万';\n        }else{\n        \tnode.getChildByName('num').getComponent(cc.Label).string='+'+count;\n        }\n    },\n    ShowXianJin:function(money){\n        this.node.getChildByName('left_main').getChildByName('lb_xianjin').getComponent(cc.Label).string=money/100;\n    },\n    /*\n                            Invite,         // 1-邀请新用户\n                            ReferralCode,       // 2-绑定邀请码\n                            Promoters,      // 3-成为推广员\n                            Arena,          // 4-进入比赛场完成游戏\n                            Club,           // 5-加入/创建一个亲友圈\n                            Certification,      // 6-完成实名认证\n                            ShareCardType,      // 7-分享X次牌型\n                            SetCount,       // 8-完成X局游戏\n                            Share,          // 9-通过微信/朋友圈分享游戏X次\n                            InviteCount,        // 10-成功邀请新用户统计\n    */\n    GoTask:function(targetType){\n        if(targetType==1){\n            this.FormManager.ShowForm('UITaskYaoQing');\n        }else if(targetType==2){\n            this.FormManager.ShowForm('UIBangDingTuiGuang');\n        }else if(targetType==3){\n            this.FormManager.ShowForm('UIDaiLiCopy');\n        }else if(targetType==4){\n            this.FormManager.ShowForm('UIRacePublic');\n        }else if(targetType==5){\n            this.ShowSysMsg(\"暂无亲友圈界面\");\n            // this.FormManager.ShowForm(\"ui/club/UIClubNone\");\n            //this.FormManager.ShowForm(\"ui/club/UIClub\");\n            //this.FormManager.ShowForm('UIClub');\n        }else if(targetType==6){\n            this.FormManager.ShowForm('UIShiMing');\n        }else if(targetType==7){\n            this.ShowSysMsg(\"去参与麻将牌局游戏吧\");\n        }else if(targetType==8){\n            this.ShowSysMsg(\"去参与任意游戏吧\");\n        }else if(targetType==9){\n            this.FormManager.ShowForm('UIShare');\n        }else if(targetType==10){\n            this.FormManager.ShowForm('UITaskYaoQing');\n        }\n    },\n    LingQu: function (task_id) {\n        let that=this;\n        app.NetManager().SendPack(\"task.CTaksReceiveTask\",{'id':task_id},function(reward){\n            let msg=[];\n            for(let i=0;i<reward.length;i++){\n                if(reward[i].prizeType==1){\n                    msg.push('乐豆'+reward[i].count);\n                }else if(reward[i].prizeType==2){\n                    msg.push('兑换券'+reward[i].count);\n                }else if(reward[i].prizeType==6){\n                    msg.push('房卡'+reward[i].count);\n                }else if(reward[i].prizeType==8){\n                    msg.push('红包'+(reward[i].count/100)+'元');\n                }else if(reward[i].prizeType==9){\n                    msg.push('圈卡'+(reward[i].count)+'张');\n                }\n            }\n            let text=msg.join(',');\n            that.ShowSysMsg(\"恭喜您获得\"+text);\n            that.ShowTask();\n        },function(evnet){\n            that.ShowSysMsg(\"奖励领取失败，请稍后重试\");\n        });\n    },\n    OnClick:function(btnName, btnNode){\n        \n        if('btn_task'==btnName){\n            let targetType=btnNode.parent.targetType;\n            this.GoTask(targetType);\n        }else if('btn_finish'==btnName){\n            //task.CTaksReceiveTask\n            let task_id=btnNode.parent.task_id;\n            this.LingQu(task_id);\n        }else if('btn_tixian'==btnName){\n            this.ShowSysMsg(\"功能开发中...\");\n        }\n    },\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return\n        }\n    }\n});\n"]}