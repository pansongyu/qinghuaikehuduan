{"version":3,"sources":["byzp_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ComTool","ShareDefine","IntegrateImagePath","ShowPlayerData","setEnd","playerAll","index","dPos","posResultList","node","active","getChildByName","PlayerInfo","WeChatManager","InitHeroHeadImage","weChatHeadImage","getComponent","ShowHeroHead","Label","string","name","pid","PlayerData","PlayerNode","result","pos","huTypeMap","endPoint","totalYouNum","isZiMoMulti","isDianPaoMulti","point","sportsPoint","cardPublicMap","publicCardList","cardMap","shouCardList","fanXingCard","GetFanXingCardID","huCard","handCard","layoutyou","removeAllChildren","demo_you","x","y","huType","i","length","addYou","instantiate","addChild","publicInfo","publicInfoList","publicInfoValue","getCardID","cardIDList","slice","opType","layoutpai","k","cardChild","cardID","ShowOutCardImage","child","j","layout_xingpai","demo_pai","hu_pai","lb_winpoint","lb_lostpoint","lb_sportsPoint","childNode","imageName","Math","floor","join","imageInfo","ErrLog","imagePath","that","Sprite","spriteFrame","childSprite","SpriteShow","ControlManager","CreateLoadPromise","SpriteFrame","then","catch","error","stack","map","xingCardList","key","push","parseInt"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,aAASH,QAAQ,sBAAR,CADD;;AAGRI,gBAAY,EAHJ;;AAMR;AACAC,YAAQ,kBAAY;AACnB,aAAKC,OAAL,GAAeP,IAAIO,OAAJ,EAAf;AACM,aAAKC,WAAL,GAAiBR,IAAIQ,WAAJ,EAAjB;;AAEA,aAAKC,kBAAL,GAAwB;AACd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aADF;AAKd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aALF;AASd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aATF;AAad,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAbF;AAiBd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAjBF;AAqBd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aArBF;AAyBd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAzBF;AA6Bd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aA7BF;AAiCd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAjCF;AAqCd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aArCF;AAyCZ,4BAAgB;AAChB,wBAAQ,cADQ;AAEhB,4BAAY;AAFI,aAzCJ;AA6Cd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aA7CF;AAiDd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAjDF;AAqDd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aArDF;AAyDd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAzDF;AA6Dd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aA7DF;AAiEd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAjEF;AAqEd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aArEF;AAyEd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAzEF;AA6Ed,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aA7EF;AAiFd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE,aAjFF;AAqFd,4BAAgB;AACd,wBAAQ,cADM;AAEd,4BAAY;AAFE;AArFF,SAAxB;AA0FN,KArGO;AAsGLC,oBAAe,wBAASC,MAAT,EAAgBC,SAAhB,EAA0BC,KAA1B,EAAgC;AAC3C,YAAIC,OAAKH,OAAOG,IAAhB;AACA,YAAIC,gBAAgBJ,OAAO,eAAP,CAApB;AACA,aAAKK,IAAL,CAAUC,MAAV,GAAiB,IAAjB;AACA,YAAGH,SAAOD,KAAV,EAAgB;AACZ,iBAAKG,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,YAApD,EAAkED,MAAlE,GAA2E,IAA3E;AACH,SAFD,MAEK;AACD,iBAAKD,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,YAApD,EAAkED,MAAlE,GAA2E,KAA3E;AACH;AACD,YAAIE,aAAaP,UAAUC,KAAV,CAAjB;AACA;AACA,YAAGM,WAAW,KAAX,KAAqBA,WAAW,SAAX,CAAxB,EAA8C;AAC1CnB,gBAAIoB,aAAJ,GAAoBC,iBAApB,CAAsCF,WAAW,KAAX,CAAtC,EAAwDA,WAAW,SAAX,CAAxD;AACH;AACD,YAAIG,kBAAkB,KAAKN,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,UAApD,EAAgEK,YAAhE,CAA6E,iBAA7E,CAAtB;AACAD,wBAAgBE,YAAhB,CAA6BL,WAAW,KAAX,CAA7B;AACA;AACA,aAAKH,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,SAApD,EAA+DK,YAA/D,CAA4ErB,GAAGuB,KAA/E,EAAsFC,MAAtF,GAA6FP,WAAWQ,IAAxG;AACA,aAAKX,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,OAApD,EAA6DK,YAA7D,CAA0ErB,GAAGuB,KAA7E,EAAoFC,MAApF,GAA2FP,WAAWS,GAAtG;AACA,aAAKC,UAAL,CAAgB,KAAKb,IAArB,EAA0BD,cAAcF,KAAd,CAA1B,EAA+CA,KAA/C;AACH,KA1HI;AA2HLgB,gBAAW,oBAASC,UAAT,EAAoBC,MAApB,EAA2BC,GAA3B,EAA+B;AACtCF,mBAAWb,MAAX,GAAkB,IAAlB;AACA,YAAIgB,YAAUF,OAAOG,QAAP,CAAgBD,SAA9B;AACA,YAAIE,cAAYJ,OAAOG,QAAP,CAAgBC,WAAhC;AACA,YAAIC,cAAYL,OAAOG,QAAP,CAAgBE,WAAhC;AACA,YAAIC,iBAAeN,OAAOG,QAAP,CAAgBG,cAAnC;AACA,YAAIC,QAAMP,OAAOO,KAAjB;AACA,YAAIC,cAAYR,OAAO,aAAP,CAAhB;AACA,YAAIS,gBAAcT,OAAOG,QAAP,CAAgBO,cAAlC;AACA,YAAIC,UAAQX,OAAOG,QAAP,CAAgBS,YAA5B;AACA,YAAIC,cAAY,KAAKC,gBAAL,CAAsBd,OAAOG,QAAP,CAAgBU,WAAtC,CAAhB;AACA,YAAIE,SAAOf,OAAOgB,QAAlB;AACA,YAAIC,YAAUlB,WAAWZ,cAAX,CAA0B,WAA1B,CAAd;AACA8B,kBAAUC,iBAAV;AACA,YAAIC,WAASpB,WAAWZ,cAAX,CAA0B,UAA1B,CAAb;AACAgC,iBAASC,CAAT,GAAW,CAAX,CAAaD,SAASE,CAAT,GAAW,CAAX;AACb;AACAtB,mBAAWZ,cAAX,CAA0B,cAA1B,EAA0CK,YAA1C,CAAuDrB,GAAGuB,KAA1D,EAAiEC,MAAjE,GAAwE,EAAxE;AACAI,mBAAWZ,cAAX,CAA0B,YAA1B,EAAwCK,YAAxC,CAAqDrB,GAAGuB,KAAxD,EAA+DC,MAA/D,GAAsE,EAAtE;AACAI,mBAAWZ,cAAX,CAA0B,QAA1B,EAAoCK,YAApC,CAAiDrB,GAAGuB,KAApD,EAA2DC,MAA3D,GAAkE,EAAlE;AACAI,mBAAWZ,cAAX,CAA0B,OAA1B,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,EAAjE;AACAI,mBAAWZ,cAAX,CAA0B,YAA1B,EAAwCK,YAAxC,CAAqDrB,GAAGuB,KAAxD,EAA+DC,MAA/D,GAAsES,WAAtE;AACA,aAAK,IAAIkB,MAAT,IAAmBpB,SAAnB,EAA8B;AAC1B,gBAAGoB,UAAQ,SAAX,EAAqB;AACjBvB,2BAAWZ,cAAX,CAA0B,YAA1B,EAAwCK,YAAxC,CAAqDrB,GAAGuB,KAAxD,EAA+DC,MAA/D,GAAsE,QAAMO,UAAUoB,MAAV,CAA5E;AACH,aAFD,MAEM,IAAGA,UAAQ,KAAX,EAAiB;AACnBvB,2BAAWZ,cAAX,CAA0B,QAA1B,EAAoCK,YAApC,CAAiDrB,GAAGuB,KAApD,EAA2DC,MAA3D,GAAkE,OAAKO,UAAUoB,MAAV,CAAvE;AACH,aAFK,MAEA,IAAGA,UAAQ,WAAX,EAAuB;AACzBvB,2BAAWZ,cAAX,CAA0B,cAA1B,EAA0CK,YAA1C,CAAuDrB,GAAGuB,KAA1D,EAAiEC,MAAjE,GAAwE,SAAOO,UAAUoB,MAAV,CAA/E;AACH,aAFK,MAEA,IAAGA,UAAQ,MAAX,EAAkB;AACpB,oBAAGjB,eAAa,KAAhB,EAAsB;AAClBN,+BAAWZ,cAAX,CAA0B,OAA1B,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,SAAOO,UAAUoB,MAAV,CAAxE;AACH,iBAFD,MAEK;AACDvB,+BAAWZ,cAAX,CAA0B,OAA1B,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,SAAOO,UAAUoB,MAAV,CAAxE;AACH;AACJ,aANK,MAMA,IAAGA,UAAQ,SAAX,EAAqB;AACvB,oBAAGhB,kBAAgB,KAAnB,EAAyB;AACrBP,+BAAWZ,cAAX,CAA0B,OAA1B,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,SAAOO,UAAUoB,MAAV,CAAxE;AACH,iBAFD,MAEK;AACDvB,+BAAWZ,cAAX,CAA0B,OAA1B,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,SAAOO,UAAUoB,MAAV,CAAxE;AACH;AACJ;AACJ;AACD;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEd,cAAce,MAA5B,EAAmCD,GAAnC,EAAuC;AACnC,gBAAIE,SAAOtD,GAAGuD,WAAH,CAAeP,QAAf,CAAX;AACAF,sBAAUU,QAAV,CAAmBF,MAAnB;AACA,gBAAIG,aAAanB,cAAcc,CAAd,CAAjB;AACA,gBAAIM,iBAAeD,WAAW,UAAX,CAAnB;AACA,gBAAIE,kBAAgBF,WAAW,QAAX,CAApB;AACA,gBAAIG,YAAYF,eAAe,CAAf,CAAhB;AACA,gBAAIG,aAAaH,eAAeI,KAAf,CAAqB,CAArB,EAAwBJ,eAAeL,MAAvC,CAAjB;AACA,gBAAIU,SAASL,eAAe,CAAf,CAAb;AACA,gBAAIK,UAAU,GAAd,EAAmB;AACfT,uBAAOtC,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFD,MAEM,IAAIuC,UAAU,CAAd,EAAiB;AACnBT,uBAAOtC,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIuC,UAAU,CAAd,EAAiB;AACnBT,uBAAOtC,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAED;AACD8B,uBAAOtC,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,EAAjE;AACH;AACD8B,mBAAOtC,cAAP,CAAsB,QAAtB,EAAgCK,YAAhC,CAA6CrB,GAAGuB,KAAhD,EAAuDC,MAAvD,GAA8DmC,eAA9D;;AAEA,gBAAIK,YAAUV,OAAOtC,cAAP,CAAsB,WAAtB,CAAd;;AAEA,iBAAI,IAAIiD,IAAE,CAAV,EAAYA,KAAG,CAAf,EAAiBA,GAAjB,EAAqB;AACjB,oBAAIC,YAAUF,UAAUhD,cAAV,CAAyB,SAAOiD,CAAhC,CAAd;AACA,oBAAG,OAAOJ,WAAWI,IAAE,CAAb,CAAP,IAAyB,WAA5B,EAAwC;AACpC,wBAAGC,SAAH,EAAa;AACTA,kCAAUnD,MAAV,GAAiB,KAAjB;AACH;AACD;AACH;AACDmD,0BAAUC,MAAV,GAAiBN,WAAWI,IAAE,CAAb,CAAjB;AACA,qBAAKG,gBAAL,CAAsBF,SAAtB;AAEH;;AAEDZ,mBAAOvC,MAAP,GAAc,IAAd;AACH;AACD;AACA,aAAI,IAAIqC,KAAE,CAAV,EAAYA,KAAEZ,QAAQa,MAAtB,EAA6BD,IAA7B,EAAiC;AAC7B,gBAAIE,UAAOtD,GAAGuD,WAAH,CAAeP,QAAf,CAAX;AACA,gBAAIS,cAAajB,QAAQY,EAAR,CAAjB;AACA,gBAAIM,kBAAeD,YAAW,UAAX,EAAuBK,KAAvB,CAA6B,CAA7B,EAA+BL,YAAW,UAAX,EAAuBJ,MAAtD,CAAnB;AACA,gBAAIM,mBAAgBF,YAAW,QAAX,CAApB;AACA,gBAAII,cAAaH,eAAjB;AACAJ,oBAAOtC,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,EAAjE;AACA8B,oBAAOtC,cAAP,CAAsB,QAAtB,EAAgCK,YAAhC,CAA6CrB,GAAGuB,KAAhD,EAAuDC,MAAvD,GAA8DmC,gBAA9D;AACA,gBAAIU,QAAMf,QAAOtC,cAAP,CAAsB,WAAtB,CAAV;AACA,iBAAI,IAAIsD,IAAE,CAAV,EAAYA,KAAG,CAAf,EAAiBA,GAAjB,EAAqB;AACjB,oBAAIJ,aAAUG,MAAMrD,cAAN,CAAqB,SAAOsD,CAA5B,CAAd;AACA,oBAAG,OAAOT,YAAWS,IAAE,CAAb,CAAP,IAAyB,WAA5B,EAAwC;AACpC,wBAAGJ,UAAH,EAAa;AACTA,mCAAUnD,MAAV,GAAiB,KAAjB;AACH;AACD;AACH;AACDmD,2BAAUC,MAAV,GAAiBN,YAAWS,IAAE,CAAb,CAAjB;AACA,qBAAKF,gBAAL,CAAsBF,UAAtB;AACA;AACA,oBAAGtB,SAAO,CAAP,IAAYA,UAAQiB,YAAWS,IAAE,CAAb,CAAvB,EAAuC;AACnCJ,+BAAUlD,cAAV,CAAyB,QAAzB,EAAmCD,MAAnC,GAA0C,IAA1C;AACH,iBAFD,MAEK;AACDmD,+BAAUlD,cAAV,CAAyB,QAAzB,EAAmCD,MAAnC,GAA0C,KAA1C;AACH;AACJ;AACDuC,oBAAOvC,MAAP,GAAc,IAAd;AACA+B,sBAAUU,QAAV,CAAmBF,OAAnB;AACH;AACD;AACA,YAAIiB,iBAAe3C,WAAWZ,cAAX,CAA0B,gBAA1B,CAAnB;AACAuD,uBAAexB,iBAAf;AACA,YAAGL,YAAYW,MAAZ,GAAmB,CAAtB,EAAwB;AACpB,gBAAImB,WAAS5C,WAAWZ,cAAX,CAA0B,UAA1B,CAAb;AACAwD,qBAASvB,CAAT,GAAW,CAAX,CAAauB,SAAStB,CAAT,GAAW,CAAX;AACbtB,uBAAWZ,cAAX,CAA0B,aAA1B,EAAyCD,MAAzC,GAAgD,IAAhD;AACA,iBAAI,IAAIqC,MAAE,CAAV,EAAYA,MAAE,CAAd,EAAgBA,KAAhB,EAAoB;AAChB,oBAAIc,cAAUK,eAAevD,cAAf,CAA8B,SAAOoC,GAArC,CAAd;AACA,oBAAG,OAAOV,YAAYU,GAAZ,CAAP,IAAwB,WAA3B,EAAuC;AACnC,wBAAGc,WAAH,EAAa;AACTA,oCAAUnD,MAAV,GAAiB,KAAjB;AACH;AACD;AACH;AACD,oBAAGmD,WAAH,EAAa;AACTA,gCAAUnD,MAAV,GAAiB,IAAjB;AACAmD,gCAAUC,MAAV,GAAiBzB,YAAYU,GAAZ,CAAjB;AACH,iBAHD,MAGK;AACDc,kCAAYlE,GAAGuD,WAAH,CAAeiB,QAAf,CAAZ;AACAN,gCAAUnD,MAAV,GAAiB,IAAjB;AACAmD,gCAAUzC,IAAV,GAAe,SAAO2B,GAAtB;AACAc,gCAAUC,MAAV,GAAiBzB,YAAYU,GAAZ,CAAjB;AACAmB,mCAAef,QAAf,CAAwBU,WAAxB;AACH;AACD,qBAAKE,gBAAL,CAAsBF,WAAtB;AACH;AACJ,SAxBD,MAwBK;AACDtC,uBAAWZ,cAAX,CAA0B,aAA1B,EAAyCD,MAAzC,GAAgD,KAAhD;AACH;AACD;AACA,YAAI0D,SAAO7C,WAAWZ,cAAX,CAA0B,QAA1B,CAAX;AACA,YAAG4B,SAAO,CAAV,EAAY;AACR6B,mBAAO1D,MAAP,GAAc,IAAd;AACA0D,mBAAON,MAAP,GAAcvB,MAAd;AACA,iBAAKwB,gBAAL,CAAsBK,MAAtB;AACH,SAJD,MAIK;AACDA,mBAAO1D,MAAP,GAAc,KAAd;AACH;AACD;AACA,YAAI2D,cAAY9C,WAAWZ,cAAX,CAA0B,aAA1B,CAAhB;AACA,YAAI2D,eAAa/C,WAAWZ,cAAX,CAA0B,cAA1B,CAAjB;AACA,YAAGoB,QAAM,CAAT,EAAW;AACPsC,wBAAY3D,MAAZ,GAAmB,IAAnB;AACA4D,yBAAa5D,MAAb,GAAoB,KAApB;AACA2D,wBAAYrD,YAAZ,CAAyBrB,GAAGuB,KAA5B,EAAmCC,MAAnC,GAA0C,MAAIY,KAA9C;AACH,SAJD,MAIK;AACDsC,wBAAY3D,MAAZ,GAAmB,KAAnB;AACA4D,yBAAa5D,MAAb,GAAoB,IAApB;AACA4D,yBAAatD,YAAb,CAA0BrB,GAAGuB,KAA7B,EAAoCC,MAApC,GAA2CY,KAA3C;AACH;AACD;AACA,YAAIwC,iBAAehD,WAAWZ,cAAX,CAA0B,gBAA1B,CAAnB;AACA,YAAG,OAAOqB,WAAP,IAAqB,WAAxB,EAAoC;AAChCuC,2BAAe7D,MAAf,GAAsB,IAAtB;AACA6D,2BAAevD,YAAf,CAA4BrB,GAAGuB,KAA/B,EAAsCC,MAAtC,GAA6C,SAAOa,WAApD;AACH,SAHD,MAGK;AACDuC,2BAAe7D,MAAf,GAAsB,KAAtB;AACH;AACJ,KArSI;AAsSLqD,sBAAiB,0BAASS,SAAT,EAAmB;AAChCA,kBAAU9D,MAAV,GAAiB,IAAjB;AACI,YAAI+D,YAAY,CAAC,YAAD,EAAeC,KAAKC,KAAL,CAAWH,UAAUV,MAAV,GAAiB,GAA5B,CAAf,EAAiDc,IAAjD,CAAsD,EAAtD,CAAhB;AACA,YAAGJ,UAAUV,MAAV,IAAkB,CAArB,EAAuB;AACnBW,wBAAY,CAAC,cAAD,EAAiBG,IAAjB,CAAsB,EAAtB,CAAZ;AACH;AACD,YAAIC,YAAY,KAAK3E,kBAAL,CAAwBuE,SAAxB,CAAhB;AACA,YAAG,CAACI,SAAJ,EAAc;AACV,iBAAKC,MAAL,CAAY,iDAAZ,EAA+DL,SAA/D;AACA;AACH;AACD,YAAIM,YAAYF,UAAU,UAAV,CAAhB;AACA,YAAIG,OAAO,IAAX;AACCR,kBAAU7D,cAAV,CAAyB,KAAzB,EAAgCK,YAAhC,CAA6CrB,GAAGsF,MAAhD,EAAwDC,WAAxD,GAAoE,EAApE;AACD,YAAIC,cAAcX,UAAU7D,cAAV,CAAyB,MAAzB,EAAiCK,YAAjC,CAA8CrB,GAAGsF,MAAjD,CAAlB;AACA,aAAKG,UAAL,CAAgBD,WAAhB,EAA4BJ,SAA5B;AAEP,KAvTI;AAwTLK,gBAAW,oBAASD,WAAT,EAAqBJ,SAArB,EAA+B;AACtC,YAAIC,OAAO,IAAX;AACAvF,YAAI4F,cAAJ,GAAqBC,iBAArB,CAAuCP,SAAvC,EAAkDpF,GAAG4F,WAArD,EACKC,IADL,CACU,UAASN,WAAT,EAAqB;AACf,gBAAG,CAACA,WAAJ,EAAgB;AACZF,qBAAKF,MAAL,CAAY,qCAAZ,EAAmDC,SAAnD;AACA;AACH;AACDI,wBAAYD,WAAZ,GAA0BA,WAA1B;AACX,SAPL,EAOOO,KAPP,CAOa,UAASC,KAAT,EAAe;AACpBV,iBAAKF,MAAL,CAAY,wBAAZ,EAAsCC,SAAtC,EAAiDW,MAAMC,KAAvD;AACH,SATL;AAWH,KArUI;AAsULrD,sBAAiB,0BAASsD,GAAT,EAAa;AAC1B,YAAIC,eAAa,EAAjB;AACA,aAAI,IAAIC,GAAR,IAAeF,GAAf,EAAmB;AACfC,yBAAaE,IAAb,CAAkBC,SAASF,GAAT,CAAlB;AACH;AACD,eAAOD,YAAP;AACH;AA5UI,CAAT","file":"byzp_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\byzp","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tthis.ComTool = app.ComTool();\n        this.ShareDefine=app.ShareDefine();\n\n        this.IntegrateImagePath={\n                  \"zi_fangda_10\": {\n                    \"Name\": \"zi_fangda_10\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/red_10\",\n                  },\n                  \"zi_fangda_11\": {\n                    \"Name\": \"zi_fangda_11\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/black_1\",\n                  },\n                  \"zi_fangda_12\": {\n                    \"Name\": \"zi_fangda_12\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/red_2\",\n                  },\n                  \"zi_fangda_13\": {\n                    \"Name\": \"zi_fangda_13\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/black_3\",\n                  },\n                  \"zi_fangda_14\": {\n                    \"Name\": \"zi_fangda_14\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/black_4\",\n                  },\n                  \"zi_fangda_15\": {\n                    \"Name\": \"zi_fangda_15\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/black_5\",\n                  },\n                  \"zi_fangda_16\": {\n                    \"Name\": \"zi_fangda_16\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/black_6\",\n                  },\n                  \"zi_fangda_17\": {\n                    \"Name\": \"zi_fangda_17\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/red_7\",\n                  },\n                  \"zi_fangda_18\": {\n                    \"Name\": \"zi_fangda_18\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/black_8\",\n                  },\n                  \"zi_fangda_19\": {\n                    \"Name\": \"zi_fangda_19\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/xiaoxue/black_9\",\n                  },\n                    \"zi_fangda_20\": {\n                    \"Name\": \"zi_fangda_20\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/red_10\",\n                  },\n                  \"zi_fangda_21\": {\n                    \"Name\": \"zi_fangda_21\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/black_1\",\n                  },\n                  \"zi_fangda_22\": {\n                    \"Name\": \"zi_fangda_22\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/red_2\",\n                  },\n                  \"zi_fangda_23\": {\n                    \"Name\": \"zi_fangda_23\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/black_3\",\n                  },\n                  \"zi_fangda_24\": {\n                    \"Name\": \"zi_fangda_24\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/black_4\",\n                  },\n                  \"zi_fangda_25\": {\n                    \"Name\": \"zi_fangda_25\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/black_5\",\n                  },\n                  \"zi_fangda_26\": {\n                    \"Name\": \"zi_fangda_26\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/black_6\",\n                  },\n                  \"zi_fangda_27\": {\n                    \"Name\": \"zi_fangda_27\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/red_7\",\n                  },\n                  \"zi_fangda_28\": {\n                    \"Name\": \"zi_fangda_28\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/black_8\",\n                  },\n                  \"zi_fangda_29\": {\n                    \"Name\": \"zi_fangda_29\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/daxue/black_9\",\n                  },\n                  \"zi_fangda_51\": {\n                    \"Name\": \"zi_fangda_51\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/bg_gui\",\n                  },\n                  \"zi_fangda_bg\": {\n                    \"Name\": \"zi_fangda_bg\",\n                    \"FilePath\": \"ui/uiGame/byzp/zi/img_pb\",\n                  }\n        };\n\t},\n    ShowPlayerData:function(setEnd,playerAll,index){\n        let dPos=setEnd.dPos;\n        let posResultList = setEnd[\"posResultList\"];\n        this.node.active=true;\n        if(dPos===index){\n            this.node.getChildByName(\"userinfo\").getChildByName(\"tip_zhuang\").active = true;\n        }else{\n            this.node.getChildByName(\"userinfo\").getChildByName(\"tip_zhuang\").active = false;\n        }\n        let PlayerInfo = playerAll[index];\n        //显示头像，如果头像UI\n        if(PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]){\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"],PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"userinfo\").getChildByName(\"touxiang\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n        //显示名字跟pid\n        this.node.getChildByName(\"userinfo\").getChildByName(\"lb_name\").getComponent(cc.Label).string=PlayerInfo.name;\n        this.node.getChildByName(\"userinfo\").getChildByName(\"lb_id\").getComponent(cc.Label).string=PlayerInfo.pid;\n        this.PlayerData(this.node,posResultList[index],index);\n    },\n    PlayerData:function(PlayerNode,result,pos){\n        PlayerNode.active=true;\n        let huTypeMap=result.endPoint.huTypeMap;\n        let totalYouNum=result.endPoint.totalYouNum;\n        let isZiMoMulti=result.endPoint.isZiMoMulti;\n        let isDianPaoMulti=result.endPoint.isDianPaoMulti;\n        let point=result.point;\n        let sportsPoint=result[\"sportsPoint\"];\n        let cardPublicMap=result.endPoint.publicCardList;\n        let cardMap=result.endPoint.shouCardList\n        let fanXingCard=this.GetFanXingCardID(result.endPoint.fanXingCard);\n        let huCard=result.handCard;\n        let layoutyou=PlayerNode.getChildByName(\"layoutyou\");\n        layoutyou.removeAllChildren();\n        let demo_you=PlayerNode.getChildByName(\"demo_you\");\n        demo_you.x=0;demo_you.y=0;\n        //显示分数Map\n        PlayerNode.getChildByName(\"lb_hushuipai\").getComponent(cc.Label).string=\"\";\n        PlayerNode.getChildByName(\"lb_fanxing\").getComponent(cc.Label).string=\"\";\n        PlayerNode.getChildByName(\"lb_tun\").getComponent(cc.Label).string=\"\";\n        PlayerNode.getChildByName(\"lb_hu\").getComponent(cc.Label).string=\"\";\n        PlayerNode.getChildByName(\"lp_zongyou\").getComponent(cc.Label).string=totalYouNum;\n        for (let huType in huTypeMap) {\n            if(huType==\"FanXing\"){\n                PlayerNode.getChildByName(\"lb_fanxing\").getComponent(cc.Label).string=\"翻醒:\"+huTypeMap[huType];\n            }else if(huType==\"Tun\"){\n                PlayerNode.getChildByName(\"lb_tun\").getComponent(cc.Label).string=\"囤:\"+huTypeMap[huType];\n            }else if(huType==\"HuShuiPai\"){\n                PlayerNode.getChildByName(\"lb_hushuipai\").getComponent(cc.Label).string=\"胡水牌:\"+huTypeMap[huType];\n            }else if(huType==\"ZiMo\"){\n                if(isZiMoMulti==false){\n                    PlayerNode.getChildByName(\"lb_hu\").getComponent(cc.Label).string=\"自摸:+\"+huTypeMap[huType];\n                }else{\n                    PlayerNode.getChildByName(\"lb_hu\").getComponent(cc.Label).string=\"自摸:X\"+huTypeMap[huType];\n                }\n            }else if(huType==\"DianPao\"){\n                if(isDianPaoMulti==false){\n                    PlayerNode.getChildByName(\"lb_hu\").getComponent(cc.Label).string=\"点炮:+\"+huTypeMap[huType];\n                }else{\n                    PlayerNode.getChildByName(\"lb_hu\").getComponent(cc.Label).string=\"点炮:X\"+huTypeMap[huType];\n                }\n            }\n        }\n        //碰吃的牌\n        for(let i=0;i<cardPublicMap.length;i++){\n            let addYou=cc.instantiate(demo_you);\n            layoutyou.addChild(addYou);\n            let publicInfo = cardPublicMap[i];\n            let publicInfoList=publicInfo[\"cardList\"];\n            let publicInfoValue=publicInfo[\"youNum\"];\n            let getCardID = publicInfoList[2];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            let opType = publicInfoList[0];\n            if (opType == 104) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"喂\";\n            }else if (opType == 6) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"吃\";\n            }else if (opType == 2) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"碰\";\n            }else{\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"\";\n            }\n            addYou.getChildByName(\"lb_you\").getComponent(cc.Label).string=publicInfoValue;\n\n            let layoutpai=addYou.getChildByName(\"layoutpai\");\n\n            for(let k=1;k<=4;k++){\n                let cardChild=layoutpai.getChildByName(\"card\"+k);\n                if(typeof(cardIDList[k-1])==\"undefined\"){\n                    if(cardChild){\n                        cardChild.active=false;\n                    }\n                    continue;\n                }\n                cardChild.cardID=cardIDList[k-1];\n                this.ShowOutCardImage(cardChild);\n                \n            }\n\n            addYou.active=true;\n        }\n        //余下的牌\n        for(let i=0;i<cardMap.length;i++){\n            let addYou=cc.instantiate(demo_you);\n            let publicInfo = cardMap[i];\n            let publicInfoList=publicInfo[\"cardList\"].slice(1,publicInfo[\"cardList\"].length);\n            let publicInfoValue=publicInfo[\"youNum\"];\n            let cardIDList = publicInfoList;\n            addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"\";\n            addYou.getChildByName(\"lb_you\").getComponent(cc.Label).string=publicInfoValue;\n            let child=addYou.getChildByName(\"layoutpai\");\n            for(let j=1;j<=4;j++){\n                let cardChild=child.getChildByName(\"card\"+j);\n                if(typeof(cardIDList[j-1])==\"undefined\"){\n                    if(cardChild){\n                        cardChild.active=false;\n                    }\n                    continue;\n                }\n                cardChild.cardID=cardIDList[j-1];\n                this.ShowOutCardImage(cardChild);\n                //如果是胡的牌。显示胡牌\n                if(huCard>0 && huCard==cardIDList[j-1]){\n                    cardChild.getChildByName(\"tip_hu\").active=true;\n                }else{\n                    cardChild.getChildByName(\"tip_hu\").active=false;\n                }\n            }\n            addYou.active=true;\n            layoutyou.addChild(addYou);\n        }\n        //翻醒的牌\n        let layout_xingpai=PlayerNode.getChildByName(\"layout_xingpai\");\n        layout_xingpai.removeAllChildren();\n        if(fanXingCard.length>0){\n            let demo_pai=PlayerNode.getChildByName(\"demo_pai\");\n            demo_pai.x=0;demo_pai.y=0;\n            PlayerNode.getChildByName(\"tip_fanxing\").active=true;\n            for(let i=0;i<5;i++){\n                let cardChild=layout_xingpai.getChildByName(\"card\"+i);\n                if(typeof(fanXingCard[i])==\"undefined\"){\n                    if(cardChild){\n                        cardChild.active=false;\n                    }\n                    continue;\n                }\n                if(cardChild){\n                    cardChild.active=true;\n                    cardChild.cardID=fanXingCard[i];\n                }else{\n                    cardChild = cc.instantiate(demo_pai);\n                    cardChild.active=true;\n                    cardChild.name=\"card\"+i;\n                    cardChild.cardID=fanXingCard[i];\n                    layout_xingpai.addChild(cardChild);\n                }\n                this.ShowOutCardImage(cardChild);\n            }\n        }else{\n            PlayerNode.getChildByName(\"tip_fanxing\").active=false;\n        }\n        //胡牌\n        let hu_pai=PlayerNode.getChildByName(\"hu_pai\");\n        if(huCard>0){\n            hu_pai.active=true;\n            hu_pai.cardID=huCard;\n            this.ShowOutCardImage(hu_pai);\n        }else{\n            hu_pai.active=false;\n        }\n        //显示总分\n        let lb_winpoint=PlayerNode.getChildByName(\"lb_winpoint\");\n        let lb_lostpoint=PlayerNode.getChildByName(\"lb_lostpoint\");\n        if(point>0){\n            lb_winpoint.active=true;\n            lb_lostpoint.active=false;\n            lb_winpoint.getComponent(cc.Label).string=\"+\"+point;\n        }else{\n            lb_winpoint.active=false;\n            lb_lostpoint.active=true;\n            lb_lostpoint.getComponent(cc.Label).string=point;\n        }\n        //比赛分\n        let lb_sportsPoint=PlayerNode.getChildByName(\"lb_sportsPoint\");\n        if(typeof(sportsPoint)!=\"undefined\"){\n            lb_sportsPoint.active=true;\n            lb_sportsPoint.getComponent(cc.Label).string=\"比赛分:\"+sportsPoint;\n        }else{\n            lb_sportsPoint.active=false;\n        }\n    },\n    ShowOutCardImage:function(childNode){\n        childNode.active=true;\n            let imageName = [\"zi_fangda_\", Math.floor(childNode.cardID/100)].join(\"\");\n            if(childNode.cardID==0){\n                imageName = [\"zi_fangda_bg\"].join(\"\");\n            }\n            let imageInfo = this.IntegrateImagePath[imageName];\n            if(!imageInfo){\n                this.ErrLog(\"ShowOutCardImage IntegrateImage.txt not find:%s\", imageName);\n                return\n            }\n            let imagePath = imageInfo[\"FilePath\"];\n            let that = this;\n             childNode.getChildByName(\"hua\").getComponent(cc.Sprite).spriteFrame=\"\";\n            let childSprite = childNode.getChildByName(\"dian\").getComponent(cc.Sprite);\n            this.SpriteShow(childSprite,imagePath);\n       \n    },\n    SpriteShow:function(childSprite,imagePath){\n        let that = this;\n        app.ControlManager().CreateLoadPromise(imagePath, cc.SpriteFrame)\n            .then(function(spriteFrame){\n                        if(!spriteFrame){\n                            that.ErrLog(\"OpenPoker(%s) load spriteFrame fail\", imagePath);\n                            return\n                        }\n                        childSprite.spriteFrame = spriteFrame;\n            }).catch(function(error){\n                that.ErrLog(\"OpenPoker(%s) error:%s\", imagePath, error.stack);\n            }\n        );\n    },\n    GetFanXingCardID:function(map){\n        let xingCardList=[];\n        for(let key in map){\n            xingCardList.push(parseInt(key));\n        }\n        return xingCardList;\n    },\n});\n"]}