{"version":3,"sources":["zcmj_detail_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ShowPlayerData","resultsList","playerAll","idx","data","userInfo","node","getChildByName","getComponent","ShowHeroHead","pid","Label","string","ComTool","GetPid","index","player","name","jiesuan","show","showLabel","huTypesShow","point","active","sportsPoint","maxPoint","maxDianPao","i","length","dianPaoPoint","dissolveState","imagePath","that","loader","loadRes","SpriteFrame","error","spriteFrame","console","log","Sprite","huData","jiePaoPoint","ziMoPoint"],"mappings":"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","file":"zcmj_detail_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\zcmj","sourcesContent":["/*\n\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseMJ_detail_child\"),\n\n    properties: {\n    },\n\n    // use this for initialization\n    OnLoad: function () {\n\n    },\n    ShowPlayerData: function (resultsList, playerAll, idx) {\n        let data = resultsList[idx];\n        let userInfo = this.node.getChildByName(\"user_info\");\n        if (userInfo) {\n            userInfo.getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\").ShowHeroHead(data.pid);\n            userInfo.getChildByName(\"label_id\").getComponent(cc.Label).string = \"ID:\" + app.ComTool().GetPid(data.pid);\n            for (let index in playerAll) {\n                let player = playerAll[index];\n                if (player.pid == data.pid) {\n                    userInfo.getChildByName(\"lable_name\").getComponent(cc.Label).string = player.name;\n                    // if(player.sex==app.ShareDefine().HeroSex_Boy){\n                    //     userInfo.getChildByName(\"sex\").getComponent(cc.Sprite).SpriteFrame=this.SpriteMale;\n                    // }else if(player.sex==app.ShareDefine().HeroSex_Girl){\n                    //     userInfo.getChildByName(\"sex\").getComponent(cc.Sprite).SpriteFrame=this.SpriteFeMale;\n                    // }\n                    break;\n                }\n            }\n        }\n\n        let jiesuan = this.node.getChildByName(\"jiesuan\");\n        let show = 1;\n        let showLabel = false;\n        if (jiesuan) {\n            this.huTypesShow(jiesuan, data);\n            if (data.point >= 0) {\n                jiesuan.getChildByName(\"lb_win\").active = true;\n                jiesuan.getChildByName(\"lb_lost\").active = false;\n                jiesuan.getChildByName(\"lb_win\").getComponent(cc.Label).string = '+' + data.point;\n            } else {\n                jiesuan.getChildByName(\"lb_win\").active = false;\n                jiesuan.getChildByName(\"lb_lost\").active = true;\n                jiesuan.getChildByName(\"lb_lost\").getComponent(cc.Label).string = data.point;\n            }\n            //比赛分\n            if (typeof (data.sportsPoint) != \"undefined\") {\n                jiesuan.getChildByName(\"lb_sportsPoint\").active = true;\n                if (data.sportsPoint > 0) {\n                    jiesuan.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"比赛分：+\" + data.sportsPoint;\n                } else {\n                    jiesuan.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"比赛分：\" + data.sportsPoint;\n                }\n            } else {\n                jiesuan.getChildByName(\"lb_sportsPoint\").active = false;\n            }\n        }\n        let maxPoint = 0;\n        let maxDianPao = 0;\n        for (let i = 0; i < resultsList.length; i++) {\n            let data = resultsList[i];\n            if (data.point > maxPoint) {\n                maxPoint = data.point;\n            }\n            if (data.dianPaoPoint > maxDianPao) {\n                maxDianPao = data.dianPaoPoint;\n            }\n        }\n        //显示大赢家图标\n        if (data.dianPaoPoint >= maxDianPao && maxDianPao > 0) {\n            this.node.getChildByName('icon_paoshou').active = true;\n        } else {\n            this.node.getChildByName('icon_paoshou').active = false;\n        }\n        if (data.point >= maxPoint) {\n            this.node.getChildByName('icon_win').active = true;\n            this.node.getChildByName('icon_paoshou').active = false;\n        } else {\n            this.node.getChildByName('icon_win').active = false;\n        }\n\n        //显示是否解散（-1:正常结束,0:未操作,1:同意操作,2:拒绝操作,3:发起者）\n        if (typeof (data.dissolveState) == \"undefined\" || data.dissolveState == -1) {\n            this.node.getChildByName('icon_dissolve').active = false;\n        } else {\n            let imagePath = \"texture/record/img_dissolve\" + data.dissolveState;\n            let that = this;\n            //加载图片精灵\n            cc.loader.loadRes(imagePath, cc.SpriteFrame, function (error, spriteFrame) {\n                if (error) {\n                    console.log(\"加载图片精灵失败  \" + imagePath);\n                    return\n                }\n                that.node.getChildByName('icon_dissolve').getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                that.node.getChildByName('icon_dissolve').active = true;\n            });\n        }\n    },\n\n    huTypesShow: function (jiesuan, huData) {\n        jiesuan.getChildByName('top').getChildByName('lb_dianpao').getComponent(cc.Label).string = huData.dianPaoPoint;\n        jiesuan.getChildByName('top').getChildByName('lb_jiepao').getComponent(cc.Label).string = huData.jiePaoPoint;\n        jiesuan.getChildByName('top').getChildByName('lb_zimo').getComponent(cc.Label).string = huData.ziMoPoint;\n\n        // jiesuan.getChildByName('top').getChildByName('lb_anGang').getComponent(cc.Label).string=huData.anGangPoint;\n        // jiesuan.getChildByName('top').getChildByName('lb_gang').getComponent(cc.Label).string=huData.gangPoint;\n    },\n});\n"]}