{"version":3,"sources":["qbsk_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","icon_you","SpriteFrame","OnLoad","ShowPlayerData","setEnd","playerAll","index","player","posResultList","point","endType","finishOrder","node","getChildByName","getComponent","Sprite","spriteFrame","winNode","loseNode","active","Label","string","lb_sportsPointTitle","sportsPoint","beiShu","symbol","gongXianPoint","playerInfo","i","length","pid","head","ShowHeroHead","playerName","name","substring","id","ComTool","GetPid"],"mappings":"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","file":"qbsk_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\qbsk","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseComponent\"),\n\n\tproperties: {\n        icon_you:[cc.SpriteFrame],\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\n\t},\n    ShowPlayerData:function(setEnd,playerAll,index){\n        let player = setEnd.posResultList[index];\n\n        let point  = player.point;\n\n\n        //显示游数\n        let endType = player.endType;//游数  0为默认值\n        let finishOrder = 0;\n        if (endType == \"ONE\") {\n            finishOrder = 1;\n        } else if (endType == \"TWO\") {\n            finishOrder = 2;\n        } else if (endType == \"THREE\") {\n            finishOrder = 3;\n        } else if (endType == \"FOUR\") {\n            finishOrder = 4;\n        } else {\n            finishOrder = -1;\n        }\n        if (finishOrder > 0) {\n            this.node.getChildByName('you').getComponent(cc.Sprite).spriteFrame = this.icon_you[finishOrder - 1];\n        } else {\n            this.node.getChildByName('you').getComponent(cc.Sprite).spriteFrame = \"\";\n        }\n\n        //玩家分数\n        let winNode = this.node.getChildByName(\"lb_win_num\");\n        let loseNode = this.node.getChildByName(\"lb_lose_num\");\n        winNode.active = false;\n        loseNode.active = false;\n\n        if(point > 0){\n            winNode.active = true;\n            winNode.getComponent(cc.Label).string = \"+\" + point;\n        }\n        else{\n            loseNode.active = true;\n            loseNode.getComponent(cc.Label).string = point;\n        }\n\n        //比赛分\n        let lb_sportsPointTitle = this.node.getChildByName(\"lb_sportsPointTitle\");\n        if (player.sportsPoint) {\n            if(player.sportsPoint > 0){\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + player.sportsPoint;\n            }\n            else{\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = player.sportsPoint;\n            }\n        }else{\n            lb_sportsPointTitle.active = false;\n        }\n        \n        //倍数\n        this.node.getChildByName(\"lb_beiShu\").getComponent(cc.Label).string = player.beiShu;\n\n        //贡献分\n        let symbol = player.gongXianPoint > 0 ? \"+\" : \"\";\n        this.node.getChildByName(\"lb_gongXian\").getComponent(cc.Label).string = symbol + player.gongXianPoint;\n\n\n\n        let playerInfo = null;\n        for(let i = 0;i < playerAll.length;i++){\n            if(player.pid == playerAll[i].pid){\n                playerInfo = playerAll[i];\n                break;\n            }\n        }\n        \n        let head = this.node.getChildByName(\"user_info\").getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        head.ShowHeroHead(playerInfo.pid);\n        //玩家名字\n        let playerName = \"\";\n        playerName = playerInfo.name;\n        if(playerName.length > 6){\n            playerName = playerName.substring(0, 6) + '...';\n        }\n        let name = this.node.getChildByName(\"user_info\").getChildByName(\"lable_name\").getComponent(cc.Label);\n        name.string = playerName;\n\n        let id = this.node.getChildByName(\"user_info\").getChildByName(\"label_id\").getComponent(cc.Label);\n        id.string = \"ID:\" + app.ComTool().GetPid(playerInfo[\"pid\"]);\n    },\n});\n"]}