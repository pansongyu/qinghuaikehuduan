{"version":3,"sources":["gawsk_detail_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ShowPlayerData","resultsList","playerAll","idx","node","getChildByName","active","data","userInfo","getComponent","ShowHeroHead","pid","Label","string","ComTool","GetPid","index","player","name","boomNum","boomPointNum","winCount","loseCount","jieGuoCount","point","sportsPoint","maxPoint","i","length","dissolveState","imagePath","that","loader","loadRes","SpriteFrame","error","spriteFrame","console","log","Sprite"],"mappings":"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","file":"gawsk_detail_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\gawsk","sourcesContent":["/*\n\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_detail_child\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\n\t},\n\tShowPlayerData: function (resultsList, playerAll, idx) {\n\t\tthis.node.getChildByName(\"icon_win\").active = false;\n\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"fangzhu\").active = false;\n\t\tlet data = resultsList[idx];\n\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"fangzhu\").active = data[\"isOwner\"];\n\t\tlet userInfo = this.node.getChildByName(\"user_info\");\n\t\tif (userInfo) {\n\t\t\tuserInfo.getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\").ShowHeroHead(data.pid);\n\t\t\tuserInfo.getChildByName(\"label_id\").getComponent(cc.Label).string = \"ID:\" + app.ComTool().GetPid(data.pid);\n\t\t\tfor (let index in playerAll) {\n\t\t\t\tlet player = playerAll[index];\n\t\t\t\tif (player.pid == data.pid) {\n\t\t\t\t\tuserInfo.getChildByName(\"lable_name\").getComponent(cc.Label).string = player.name;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.node.getChildByName(\"lb_boomNum\").getComponent(cc.Label).string = \"炸弹：+\" + data.boomNum;\n\t\tthis.node.getChildByName(\"lb_boomPointNum\").getComponent(cc.Label).string = \"中彩：+\" + data.boomPointNum;\n\t\tthis.node.getChildByName(\"lb_win\").getComponent(cc.Label).string = data.winCount || 0;\n\t\tthis.node.getChildByName(\"lb_lose\").getComponent(cc.Label).string = data.loseCount || 0;\n\t\tthis.node.getChildByName(\"lb_count_gou\").getComponent(cc.Label).string = data.jieGuoCount || '';\n\t\tif (data.point >= 0) {\n\t\t\tthis.node.getChildByName(\"lb_win_num\").getComponent(cc.Label).string = \"+\" + data.point;\n\t\t\tthis.node.getChildByName(\"lb_win_num\").active = true;\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").active = false;\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").getComponent(cc.Label).string = data.point;\n\t\t\tthis.node.getChildByName(\"lb_win_num\").active = false;\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").active = true;\n\t\t}\n\t\t//比赛分\n\t\tif (typeof(data.sportsPoint) != \"undefined\") {\n\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").active = true;\n\t\t\tif (data.sportsPoint > 0) {\n\t\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + data.sportsPoint;\n\t\t\t} else {\n\t\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = data.sportsPoint;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").active = false;\n\t\t}\n\t\tlet maxPoint = 0;\n\t\tfor (let i = 0; i < resultsList.length; i++) {\n\t\t\tlet data = resultsList[i];\n\t\t\tif (data.point > maxPoint) {\n\t\t\t\tmaxPoint = data.point;\n\t\t\t}\n\t\t}\n\t\t//显示大赢家图标\n\t\tthis.node.getChildByName(\"icon_win\").active = data.point >= maxPoint;\n\t\t//显示是否解散（-1:正常结束,0:未操作,1:同意操作,2:拒绝操作,3:发起者）\n        if (typeof(data.dissolveState) == \"undefined\" || data.dissolveState == -1) {\n            this.node.getChildByName('icon_dissolve').active=false;\n        }else{\n            let imagePath = \"texture/record/img_dissolve\"+data.dissolveState;\n            let that = this;\n            //加载图片精灵\n            cc.loader.loadRes(imagePath, cc.SpriteFrame, function (error, spriteFrame) {\n                if(error){\n                    console.log(\"加载图片精灵失败  \" + imagePath);\n                    return\n                }\n                that.node.getChildByName('icon_dissolve').getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                that.node.getChildByName('icon_dissolve').active=true;\n            });\n        }\n\t},\n});\n"]}