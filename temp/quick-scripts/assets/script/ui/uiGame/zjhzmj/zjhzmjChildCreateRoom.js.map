{"version":3,"sources":["zjhzmjChildCreateRoom.js"],"names":["app","require","thgjmjChildCreateRoom","cc","Class","extends","properties","CreateSendPack","renshu","setCount","isSpiltRoomCard","sendPack","caishen","GetIdxByKey","chengbao","laoshu","duocaijiafan","fengding","xianShi","jiesan","kexuanwanfa","GetIdxsByKey","fangjian","gaoji","OnToggleClick","event","FormManager","CloseForm","toggles","target","parent","toggle","key","name","substring","length","toggleIndex","parseInt","needClearList","needShowIndexList","Toggles","push","ClearToggleCheck","UpdateLabelColor","UpdateTogglesLabel","getChildByName","active","SysNotifyManager","ShowSysMsg","getComponent","Toggle","i","mark","arr","AdjustSendPack","module","exports"],"mappings":";;;;;;AAAA;;;AAGA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEA,IAAIC,wBAAwBC,GAAGC,KAAH,CAAS;AACjCC,aAASJ,QAAQ,qBAAR,CADwB;;AAGjCK,gBAAY,EAHqB;AAMjC;AACAC,oBAAgB,wBAAUC,MAAV,EAAkBC,QAAlB,EAA4BC,eAA5B,EAA6C;AACzD,YAAIC,WAAW,EAAf;AACA,YAAIC,UAAU,KAAKC,WAAL,CAAiB,SAAjB,CAAd;AACA,YAAIC,WAAW,KAAKD,WAAL,CAAiB,UAAjB,CAAf;AACA,YAAIE,SAAS,KAAKF,WAAL,CAAiB,QAAjB,CAAb;AACA,YAAIG,eAAe,KAAKH,WAAL,CAAiB,cAAjB,CAAnB;;AAEA,YAAII,WAAW,KAAKJ,WAAL,CAAiB,UAAjB,CAAf;AACA,YAAIK,UAAU,KAAKL,WAAL,CAAiB,SAAjB,CAAd;AACA,YAAIM,SAAS,KAAKN,WAAL,CAAiB,QAAjB,CAAb;AACA,YAAIO,cAAc,KAAKC,YAAL,CAAkB,aAAlB,CAAlB;AACA,YAAIC,WAAW,KAAKD,YAAL,CAAkB,UAAlB,CAAf;AACA,YAAIE,QAAQ,KAAKF,YAAL,CAAkB,OAAlB,CAAZ;;AAEAV,mBAAW;AACP,uBAAWC,OADJ;AAEP,wBAAYE,QAFL;AAGP,sBAAUC,MAHH;AAIP,4BAAgBC,YAJT;;AAMP,wBAAYC,QANL;AAOP,uBAAWC,OAPJ;AAQP,sBAAUC,MARH;AASP,2BAAeC,WATR;AAUP,wBAAYE,QAVL;AAWP,qBAASC,KAXF;;AAaP,4BAAgBf,OAAO,CAAP,CAbT;AAcP,yBAAaA,OAAO,CAAP,CAdN;AAeP,wBAAYC,QAfL;AAgBP,mCAAuBC;;AAhBhB,SAAX;AAmBA,eAAOC,QAAP;AACH,KAzCgC;AA0CjCa,mBAAc,uBAASC,KAAT,EAAe;AACzB,aAAKC,WAAL,CAAiBC,SAAjB,CAA2B,cAA3B;AACA,YAAIC,UAAUH,MAAMI,MAAN,CAAaC,MAA3B;AACA,YAAIC,SAASN,MAAMI,MAAnB;AACA,YAAIG,MAAMJ,QAAQK,IAAR,CAAaC,SAAb,CAAwB,UAAD,CAAaC,MAApC,EAA2CP,QAAQK,IAAR,CAAaE,MAAxD,CAAV;AACA,YAAIC,cAAcC,SAASN,OAAOE,IAAP,CAAYC,SAAZ,CAAuB,QAAD,CAAWC,MAAjC,EAAwCJ,OAAOE,IAAP,CAAYE,MAApD,CAAT,IAAwE,CAA1F;AACA,YAAIG,gBAAgB,EAApB;AACA,YAAIC,oBAAoB,EAAxB;AACAD,wBAAgB,KAAKE,OAAL,CAAaR,GAAb,CAAhB;AACAO,0BAAkBE,IAAlB,CAAuBL,WAAvB;AACA,YAAG,WAAWJ,GAAX,IAAkB,YAAYA,GAA9B,IAAqC,aAAaA,GAArD,EAAyD;AACrD,iBAAKU,gBAAL,CAAsBJ,aAAtB,EAAoCC,iBAApC;AACA,iBAAKI,gBAAL,CAAsBf,OAAtB;AACA,iBAAKgB,kBAAL,CAAwBhB,OAAxB,EAAiC,KAAjC;AACA;AACH,SALD,MAMK,IAAG,YAAYI,GAAf,EAAmB;AACpB,gBAAGI,eAAe,CAAlB,EAAoB;AAChB,oBAAG,KAAKI,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+BK,cAA/B,CAA8C,WAA9C,EAA2DC,MAA9D,EAAqE;AACjE,yBAAKN,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+BK,cAA/B,CAA8C,WAA9C,EAA2DC,MAA3D,GAAoE,KAApE;AACA,yBAAKH,gBAAL,CAAsB,KAAKH,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+BV,MAArD;AACH;AACJ,aALD,MAKK;AACD,oBAAG,KAAKU,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+BK,cAA/B,CAA8C,WAA9C,EAA2DC,MAA9D,EAAqE;AACjE,yBAAKN,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+BK,cAA/B,CAA8C,WAA9C,EAA2DC,MAA3D,GAAoE,KAApE;AACA,yBAAKH,gBAAL,CAAsB,KAAKH,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+BV,MAArD;AACH;AACJ;AACJ,SAZI,MAaA,IAAI,iBAAiBE,GAArB,EAA0B;AAC3B,gBAAGI,eAAe,CAAf,IAAoB,CAACE,cAAc,CAAd,EAAiBO,cAAjB,CAAgC,WAAhC,EAA6CC,MAArE,EAA4E;AACxE,oBAAG,KAAKN,OAAL,CAAa,QAAb,EAAuB,CAAvB,EAA0BK,cAA1B,CAAyC,WAAzC,EAAsDC,MAAzD,EAAgE;AAC5D9C,wBAAI+C,gBAAJ,GAAuBC,UAAvB,CAAkC,uBAAlC;AACA;AACH;AACJ;AACD,gBAAGZ,eAAe,CAAf,IAAoB,CAACE,cAAc,CAAd,EAAiBO,cAAjB,CAAgC,WAAhC,EAA6CC,MAArE,EAA4E;AACxE,oBAAG,CAAC,KAAKN,OAAL,CAAa,QAAb,EAAuB,CAAvB,EAA0BK,cAA1B,CAAyC,WAAzC,EAAsDC,MAA1D,EAAiE;AAC7D9C,wBAAI+C,gBAAJ,GAAuBC,UAAvB,CAAkC,kBAAlC;AACA;AACH;AACJ;AACJ;AACD,YAAGpB,QAAQqB,YAAR,CAAqB9C,GAAG+C,MAAxB,CAAH,EAAmC;AAAC;AAChCX,gCAAoB,EAApB;AACA,iBAAI,IAAIY,IAAE,CAAV,EAAYA,IAAEb,cAAcH,MAA5B,EAAmCgB,GAAnC,EAAuC;AACnC,oBAAIC,OAAOd,cAAca,CAAd,EAAiBN,cAAjB,CAAgC,WAAhC,EAA6CC,MAAxD;AACA;AACA,oBAAGM,QAAQD,KAAKf,WAAhB,EAA4B;AACxBG,sCAAkBE,IAAlB,CAAuBU,CAAvB;AACH;AACD;AAHA,qBAIK,IAAG,CAACC,IAAD,IAASD,KAAKf,WAAjB,EAA6B;AAC9BG,0CAAkBE,IAAlB,CAAuBU,CAAvB;AACH;AACJ;AACJ;AACD,aAAKT,gBAAL,CAAsBJ,aAAtB,EAAoCC,iBAApC;AACA,aAAKI,gBAAL,CAAsBf,OAAtB,EAA8B,aAAaI,GAAb,GAAmB,IAAnB,GAA0B,KAAxD;AACH,KArGgC;;AAuGjC;AACAX,kBAAc,sBAAUW,GAAV,EAAe;AACzB,YAAIqB,MAAM,EAAV;AACA,aAAK,IAAIF,IAAI,CAAb,EAAgBA,IAAI,KAAKX,OAAL,CAAaR,GAAb,EAAkBG,MAAtC,EAA8CgB,GAA9C,EAAmD;AAC/C,gBAAI,KAAKX,OAAL,CAAaR,GAAb,EAAkBmB,CAAlB,EAAqBN,cAArB,CAAoC,WAApC,EAAiDC,MAArD,EAA6D;AACzDO,oBAAIZ,IAAJ,CAASU,CAAT;AACH;AACJ;AACD,eAAOE,GAAP;AACH,KAhHgC;AAiHjCC,oBAAgB,wBAAU3C,QAAV,EAAoB;AAChC;AACA,eAAOA,QAAP;AACH;AApHgC,CAAT,CAA5B;;AAuHA4C,OAAOC,OAAP,GAAiBtD,qBAAjB","file":"zjhzmjChildCreateRoom.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\zjhzmj","sourcesContent":["/*\n创建房间子界面\n */\nvar app = require(\"app\");\n\nvar thgjmjChildCreateRoom = cc.Class({\n    extends: require(\"BaseChildCreateRoom\"),\n\n    properties: {\n\n    },\n    //需要自己重写\n    CreateSendPack: function (renshu, setCount, isSpiltRoomCard) {\n        let sendPack = {};\n        let caishen = this.GetIdxByKey('caishen');\n        let chengbao = this.GetIdxByKey('chengbao');\n        let laoshu = this.GetIdxByKey('laoshu');\n        let duocaijiafan = this.GetIdxByKey('duocaijiafan');\n        \n        let fengding = this.GetIdxByKey('fengding');\n        let xianShi = this.GetIdxByKey('xianShi');\n        let jiesan = this.GetIdxByKey('jiesan');\n        let kexuanwanfa = this.GetIdxsByKey('kexuanwanfa');\n        let fangjian = this.GetIdxsByKey('fangjian');\n        let gaoji = this.GetIdxsByKey('gaoji');\n\n        sendPack = {\n            \"caishen\": caishen,\n            \"chengbao\": chengbao,\n            \"laoshu\": laoshu,\n            \"duocaijiafan\": duocaijiafan,\n            \n            \"fengding\": fengding,\n            \"xianShi\": xianShi,\n            \"jiesan\": jiesan,\n            \"kexuanwanfa\": kexuanwanfa,\n            \"fangjian\": fangjian,\n            \"gaoji\": gaoji,\n\n            \"playerMinNum\": renshu[0],\n            \"playerNum\": renshu[1],\n            \"setCount\": setCount,\n            \"paymentRoomCardType\": isSpiltRoomCard,\n\n        }\n        return sendPack;\n    },\n    OnToggleClick:function(event){\n        this.FormManager.CloseForm(\"UIMessageTip\");\n        let toggles = event.target.parent;\n        let toggle = event.target;\n        let key = toggles.name.substring(('Toggles_').length,toggles.name.length);\n        let toggleIndex = parseInt(toggle.name.substring(('Toggle').length,toggle.name.length)) - 1;\n        let needClearList = [];\n        let needShowIndexList = [];\n        needClearList = this.Toggles[key];\n        needShowIndexList.push(toggleIndex);\n        if('jushu' == key || 'renshu' == key || 'fangfei' == key){\n            this.ClearToggleCheck(needClearList,needShowIndexList);\n            this.UpdateLabelColor(toggles);\n            this.UpdateTogglesLabel(toggles, false);\n            return;\n        } \n        else if('laoshu' == key){\n            if(toggleIndex == 2){\n                if(this.Toggles['kexuanwanfa'][0].getChildByName('checkmark').active){\n                    this.Toggles['kexuanwanfa'][0].getChildByName('checkmark').active = false;\n                    this.UpdateLabelColor(this.Toggles['kexuanwanfa'][0].parent);\n                }\n            }else{\n                if(this.Toggles['kexuanwanfa'][1].getChildByName('checkmark').active){\n                    this.Toggles['kexuanwanfa'][1].getChildByName('checkmark').active = false;\n                    this.UpdateLabelColor(this.Toggles['kexuanwanfa'][1].parent);\n                }\n            }\n        }\n        else if ('kexuanwanfa' == key) {\n            if(toggleIndex == 0 && !needClearList[0].getChildByName('checkmark').active){\n                if(this.Toggles['laoshu'][2].getChildByName('checkmark').active){\n                    app.SysNotifyManager().ShowSysMsg(\"掷牢数：勾选“一牢”或“二牢”后，才可勾选\");\n                    return;\n                }\n            }\n            if(toggleIndex == 1 && !needClearList[1].getChildByName('checkmark').active){\n                if(!this.Toggles['laoshu'][2].getChildByName('checkmark').active){\n                    app.SysNotifyManager().ShowSysMsg(\"自摸胡：勾选“三牢”后，才可勾选\");\n                    return;\n                }\n            }\n        }\n        if(toggles.getComponent(cc.Toggle)){//复选框\n            needShowIndexList = [];\n            for(let i=0;i<needClearList.length;i++){\n                let mark = needClearList[i].getChildByName('checkmark').active;\n                //如果复选框为勾选状态并且点击的复选框不是该复选框，则继续保持勾选状态\n                if(mark && i != toggleIndex){\n                    needShowIndexList.push(i);\n                }\n                //如果复选框为未勾选状态并且点击的复选框是该复选框，则切换为勾选状态\n                else if(!mark && i == toggleIndex){\n                    needShowIndexList.push(i);\n                }\n            }\n        }\n        this.ClearToggleCheck(needClearList,needShowIndexList);\n        this.UpdateLabelColor(toggles,'fangfei' == key ? true : false);\n    },\n\n    // 多选\n    GetIdxsByKey: function (key) {\n        let arr = [];\n        for (let i = 0; i < this.Toggles[key].length; i++) {\n            if (this.Toggles[key][i].getChildByName('checkmark').active) {\n                arr.push(i);\n            }\n        }\n        return arr;\n    },\n    AdjustSendPack: function (sendPack) {\n        //     不可吃，仅二人、三人场可选；\n        return sendPack;\n    },\n});\n\nmodule.exports = thgjmjChildCreateRoom;"]}