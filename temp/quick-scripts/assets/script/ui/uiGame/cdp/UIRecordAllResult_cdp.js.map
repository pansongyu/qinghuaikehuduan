{"version":3,"sources":["UIRecordAllResult_cdp.js"],"names":["app","require","cc","Class","extends","properties","roomID","Node","jushu","endTime","players","page_search","EditBox","zhuafen","Label","jiaofen","sportsDouble","OnCreateInit","dipaiLayout","node","getChildByName","FormManager","ComTool","ShareDefine","SDKManager","NetManager","WeChatManager","PokerCard","gametypeConfig","SysDataManager","GetTableDict","RegEvent","Event_GameRecord","lastChildName","lastRoomId","OnShow","roomId","playerAll","gameType","unionId","GametTypeID2PinYin","path","ShowForm","HideDiPaiLayout","getWndNodePath","LoadPrefabByGameType","prefabPath","that","ControlManager","CreateLoadPromise","Prefab","then","prefab","ErrLog","InitNode","catch","error","stack","Player1Node","instantiate","nowChildName","name","DestroyAllChildren","addChild","InitPlayers","alldata","page","maxpage","SendPack","bind","AddNode","GetWndNode","i","length","PlayerSon","active","ShowRoomInfo","roomEndResult","setID","time","getComponent","string","GetDateYearMonthDayHourMinuteString","playBackCode","parent","find","actvie","serverPack","pSetRoomRecords","playbackCode","ShowData","SetPageLabel","data","Str2Json","dataJsonRes","InitShowPlayerInfo","ShowDiPai","console","log","SetWndProperty","setEnd","dPos","zhuValue","PlayerNode","posResultList","count","pid","ShowPlayerData","OnClick","btnName","btnNode","CloseForm","SysNotifyManager","ShowSysMsg","Click_btn_Share","OnPack_VideoData","OnVideoFailed","isNaN","parseInt","Client","VideoCheckSubGame","Name","toLowerCase","heroName","HeroManager","GetHeroProperty","gameId","GametTypeNameDict","toUpperCase","gameName","GametTypeID2Name","title","desc","heroID","cityId","weChatAppShareUrl","GetClientConfigProperty","Share","jsondata","json","JSON","parse","children","diPai","nodeDemo","card","cardNode","GetPokeCard","poker","type","type1","type2","num","cardColor","GetCardColor","cardValue","GetCardValue","numNode","numSp","Sprite","iconSp","icon1_Sp","spriteFrame","pokerDict","LOGIC_MASK_VALUE","color","LOGIC_MASK_COLOR"],"mappings":"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","file":"UIRecordAllResult_cdp.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\cdp","sourcesContent":["var app = require(\"app\");\ncc.Class({\n\textends: require(\"BaseForm\"),\n\n\tproperties: {\n\t\troomID: cc.Node,\n\t\tjushu: cc.Node,\n\t\tendTime: cc.Node,\n\t\tplayers: cc.Node,\n\t\tpage_search: cc.EditBox,\n\t\tzhuafen: cc.Label,\n\t\tjiaofen: cc.Label,\n\t\tsportsDouble: cc.Label,\n\t},\n\n\tOnCreateInit: function() {\n\t\tthis.dipaiLayout = this.node.getChildByName(\"dipaiLayout\");\n\n\t\tthis.FormManager = app.FormManager();\n\t\tthis.ComTool = app.ComTool();\n\t\tthis.ShareDefine = app.ShareDefine();\n\t\tthis.SDKManager = app.SDKManager();\n\t\tthis.NetManager = app.NetManager();\n\t\tthis.WeChatManager = app.WeChatManager();\n\t\tthis.PokerCard = app.PokerCard();\n\t\tthis.gametypeConfig = app.SysDataManager().GetTableDict(\"gametype\");\n\t\tthis.RegEvent(\"GameRecord\", this.Event_GameRecord, this);\n\t\tthis.lastChildName = null;\n\t\tthis.lastRoomId = 0;\n\t},\n\tOnShow: function(roomId, playerAll, gameType, unionId = 0) {\n\t\tthis.gameType = this.ShareDefine.GametTypeID2PinYin[gameType];\n\t\tlet path = \"ui/uiGame/\" + this.gameType + \"/UIRecordAllResult_\" + this.gameType;\n\t\tthis.FormManager.ShowForm(\"UITop\", path);\n\t\tthis.HideDiPaiLayout();\n\t\tthis.playerAll = playerAll;\n\t\tthis.roomId = roomId;\n\t\tthis.unionId = unionId;\n\t\tthis.getWndNodePath = \"players\";\n\t\t//动态生成节点\n\t\tthis.LoadPrefabByGameType();\n\t},\n\tLoadPrefabByGameType: function() {\n\t\tlet prefabPath = \"ui/uiGame/\" + this.gameType + \"/\" + this.gameType + \"_winlost_child\";\n\t\tlet that = this;\n\t\tapp.ControlManager().CreateLoadPromise(prefabPath, cc.Prefab)\n\t\t\t.then(function(prefab) {\n\t\t\t\tif (!prefab) {\n\t\t\t\t\tthat.ErrLog(\"LoadPrefabByGameType(%s) load spriteFrame fail\", prefabPath);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthat.InitNode(prefab);\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tthat.ErrLog(\"LoadPrefabByGameType(%s) error:%s\", prefabPath, error.stack);\n\t\t\t});\n\t},\n\tInitNode: function(prefab) {\n\t\tlet Player1Node = cc.instantiate(prefab);\n\t\tthis.nowChildName = Player1Node.name;\n\t\tif (this.lastChildName != null && this.lastChildName == this.nowChildName &&\n\t\t\tthis.lastRoomId == this.roomId) {\n\t\t\t//子节点跟之前一样，无需重新创建，直接return\n\t\t\t//由于未结束的战绩会时时改变，所以不能return\n\t\t\t// return;\n\t\t}\n\t\t//清空之前的节点,生成新的节点\n\t\tthis.lastChildName = this.nowChildName;\n\t\tthis.lastRoomId = this.roomId;\n\t\tthis.DestroyAllChildren(this.players);\n\t\tPlayer1Node.name = 'player1';\n\t\tthis.players.addChild(Player1Node);\n\t\tthis.InitPlayers();\n\t\tthis.alldata = false;\n\t\tthis.page = 1;\n\t\tthis.maxpage = 0;\n\t\tthis.NetManager.SendPack(\"game.CPlayerSetRoomRecord\", {\n\t\t\t\"roomID\": this.roomId\n\t\t}, this.Event_GameRecord.bind(this));\n\t},\n\tInitPlayers: function() {\n\t\tlet AddNode = this.GetWndNode(this.getWndNodePath + '/player1');\n\t\tfor (let i = 2; i <= this.playerAll.length; i++) {\n\t\t\tlet PlayerSon = cc.instantiate(AddNode);\n\t\t\tPlayerSon.name = 'player' + i;\n\t\t\tPlayerSon.active = false;\n\t\t\tthis.players.addChild(PlayerSon);\n\t\t}\n\t},\n\tShowRoomInfo: function(roomEndResult) {\n\t\tlet setID = roomEndResult[\"setID\"];\n\t\tlet time = roomEndResult[\"endTime\"];\n\t\tif (setID > 0) {\n\t\t\tthis.jushu.active = true;\n\t\t\tthis.jushu.getComponent(cc.Label).string = \"第\" + setID + \"局\";\n\t\t} else {\n\t\t\tthis.jushu.active = false;\n\t\t}\n\n\t\tthis.endTime.getComponent(cc.Label).string = this.ComTool.GetDateYearMonthDayHourMinuteString(time);\n\t\tif (this.playBackCode > 0) {\n\t\t\tthis.node.getChildByName('btn_replay').active = true;\n\t\t\tthis.node.getChildByName('btn_share').active = true;\n\t\t\tthis.endTime.parent.getChildByName(\"backCode\").getComponent(cc.Label).string = \"回放码:\" + this.playBackCode;\n\t\t\tcc.find('btn_replay', this.node).actvie = true;\n\t\t} else {\n\t\t\tthis.node.getChildByName('btn_replay').active = false;\n\t\t\tthis.node.getChildByName('btn_share').active = false;\n\t\t\tthis.endTime.parent.getChildByName(\"backCode\").getComponent(cc.Label).string = \"\";\n\t\t\tcc.find('btn_replay', this.node).actvie = false;\n\t\t}\n\t},\n\tEvent_GameRecord: function(serverPack) {\n\t\tthis.alldata = serverPack.pSetRoomRecords;\n\t\tthis.maxpage = serverPack.pSetRoomRecords.length;\n\t\tthis.playBackCode = serverPack.pSetRoomRecords[0].playbackCode;\n\t\tthis.ShowData(this.page);\n\t},\n\tShowData: function() {\n\t\tthis.SetPageLabel();\n\t\tlet data = this.Str2Json(this.alldata[this.page - 1].dataJsonRes);\n\t\tthis.playBackCode = this.alldata[this.page - 1].playbackCode;\n\t\tthis.InitShowPlayerInfo(data);\n\t\tthis.ShowRoomInfo(this.alldata[this.page - 1]);\n\t\tthis.ShowDiPai(data);\n\t\tconsole.log(\"InitShowPlayerInfo\", data);\n\t},\n\tSetPageLabel: function() {\n\t\tthis.SetWndProperty(\"page/editbox_page\", \"text\", this.page + \"/\" + this.maxpage);\n\t\tthis.SetWndProperty(\"page2/editbox_page\", \"text\", this.page);\n\t},\n\tInitShowPlayerInfo: function(setEnd) {\n\t\tlet dPos = setEnd[\"dPos\"]\n\t\t//叫分 抓分\n\t\tthis.zhuafen.string = \"\";\n\t\tthis.jiaofen.string = \"打：\" + setEnd.zhuValue + \"级\";\n\n\t\tif (typeof(setEnd.sportsDouble) != \"undefined\") {\n\t\t\tthis.sportsDouble.string = \"比赛分倍数：\" + setEnd.sportsDouble;\n\t\t}else{\n\t\t\tthis.sportsDouble.string = \"\";\n\t\t}\n\n\t\tfor (let i = 0; i < this.playerAll.length; i++) {\n\t\t\tlet PlayerNode = this.GetWndNode(this.getWndNodePath + '/player' + (i + 1));\n\t\t\tif (PlayerNode) {\n\t\t\t\tPlayerNode.active = false;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tlet posResultList = setEnd.posResultList;\n\t\tlet count = 0;\n\t\tfor (let i = 0; i < posResultList.length; i++) {\n\t\t\tif (!posResultList[i].pid) continue;\n\t\t\tlet PlayerNode = this.GetWndNode(this.getWndNodePath + '/player' + (count + 1));\n\t\t\tPlayerNode.active = true;\n\t\t\tPlayerNode.getComponent(this.nowChildName).ShowPlayerData(setEnd, this.playerAll, i, dPos);\n\t\t\tcount++;\n\t\t}\n\t},\n\t//---------点击函数---------------------\n\tOnClick: function(btnName, btnNode) {\n\t\tif (btnName == \"btn_close\") {\n\t\t\tthis.CloseForm();\n\t\t} else if (btnName == \"btn_last\") {\n\t\t\tif (this.page == 1) {\n\t\t\t\tapp.SysNotifyManager().ShowSysMsg(\"NowFirstPage\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.page -= 1;\n\t\t\tthis.ShowData();\n\t\t} else if (btnName == \"btn_next\") {\n\t\t\tif (this.page == this.maxpage) {\n\t\t\t\tapp.SysNotifyManager().ShowSysMsg(\"NowLastPage\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.page += 1;\n\t\t\tthis.ShowData();\n\t\t} else if (btnName == \"btn_share\") {\n\t\t\tthis.Click_btn_Share();\n\t\t} else if (btnName == \"btn_replay\") {\n\t\t\tthis.NetManager.SendPack(\"game.CPlayerPlayBack\", {\n\t\t\t\t\"playBackCode\": this.playBackCode,\n\t\t\t\t\"chekcPlayBackCode\": true\n\t\t\t}, this.OnPack_VideoData.bind(this), this.OnVideoFailed.bind(this));\n\t\t\treturn;\n\t\t} else if (btnName == \"btn_search\") {\n\t\t\tif (isNaN(this.page_search.string) == true) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet page_search = parseInt(this.page_search.string);\n\t\t\tif (page_search < 1) {\n\t\t\t\tthis.page = 1;\n\t\t\t} else if (page_search >= this.maxpage) {\n\t\t\t\tthis.page = this.maxpage;\n\t\t\t} else {\n\t\t\t\tthis.page = page_search;\n\t\t\t}\n\t\t\tthis.ShowData();\n\t\t} else {\n\t\t\tthis.ErrLog(\"OnClick not find btnName\", btnName);\n\t\t}\n\t},\n\tOnPack_VideoData: function(serverPack) {\n\t\t// let gameName = app.ShareDefine().GametTypeID2PinYin[serverPack];\n\t\tapp.Client.VideoCheckSubGame(serverPack.Name.toLowerCase(), this.playBackCode);\n\t},\n\tOnVideoFailed: function(serverPack) {\n\t\tapp.SysNotifyManager().ShowSysMsg(\"MSG_REPLAY_ERROR\");\n\t},\n\tClick_btn_Share: function() {\n\t\tlet heroName = app.HeroManager().GetHeroProperty(\"name\");\n\t\tlet gameId = app.ShareDefine().GametTypeNameDict[this.gameType.toUpperCase()];\n\t\tlet gameName = app.ShareDefine().GametTypeID2Name[gameId];\n\t\tlet title = \"回放码为【\" + this.playBackCode + \"】\";\n\t\tlet desc = \"【\" + heroName + \"】邀请您观看【\" + gameName + \"】中牌局回放记录\";\n\n\t\tlet heroID = app.HeroManager().GetHeroProperty(\"pid\");\n\t\tlet cityId = app.HeroManager().GetHeroProperty(\"cityId\");\n\t\tlet weChatAppShareUrl = app.Client.GetClientConfigProperty(\"WeChatAppShareUrl\") + heroID + \"&cityid=\" + cityId;\n\n\t\tconsole.log(\"回放码==\" + this.playBackCode);\n\t\tthis.SDKManager.Share(title, desc, weChatAppShareUrl, \"0\");\n\t},\n\tStr2Json: function(jsondata) {\n\t\tif (jsondata === \"\") {\n\t\t\treturn false;\n\t\t}\n\t\tvar json = JSON.parse(jsondata);\n\t\treturn json;\n\t},\n\tHideDiPaiLayout: function () {\n\t\t// this.px6gtTip.active = false;\n\t\tfor (let i = 0; i < this.dipaiLayout.children.length; i++) {\n\t\t\tthis.dipaiLayout.children[i].active = false;\n\t\t}\n\t\tthis.dipaiLayout.active = false;\n\t},\n\tShowDiPai: function (setEnd) {\n\t\tfor (let i = 0; i < this.dipaiLayout.length; i++) {\n\t\t\tthis.dipaiLayout.children[i].active = false;\n\t\t}\n\t\tlet diPai = setEnd[\"diPaiList\"];\n\t\t// diPai = [2, 22, 25, 26, 28, 29, 30, 65];//测试用\n\t\tif (diPai.length > 0) {\n\t\t\tthis.dipaiLayout.active = true;\n\t\t\tlet nodeDemo = this.dipaiLayout.children[0];\n\t\t\tfor (let i = 0; i < diPai.length; i++) {\n\t\t\t\tlet card = diPai[i];\n\t\t\t\tlet cardNode = this.dipaiLayout.children[i];\n\t\t\t\tif (!cardNode) {\n\t\t\t\t\tcardNode = cc.instantiate(nodeDemo);\n\t\t\t\t\tthis.dipaiLayout.addChild(cardNode);\n\t\t\t\t}\n\t\t\t\tcardNode.active = true;\n\t\t\t\tthis.GetPokeCard(card, cardNode);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.error(\"没有底牌数据\", setEnd);\n\t\t}\n\t},\n\tGetPokeCard: function(poker, cardNode) {\n\t\tif (0 == poker) {\n\t\t\treturn;\n\t\t}\n\t\tlet type = \"\";\n\t\tlet type1 = \"\";\n\t\tlet type2 = \"\";\n\t\tlet num = \"\";\n\t\tlet cardColor = this.GetCardColor(poker);\n\t\tlet cardValue = this.GetCardValue(poker);\n\t\tlet numNode = cardNode.getChildByName(\"num\");\n\t\tnumNode.active = true;\n\t\tif (cardValue == 15) {\n\t\t\tcardValue = 2;\n\t\t}\n\t\tif (cardColor == 0) {\n\t\t\ttype = \"bg_diamond1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype2 = \"bg_red_\" + cardValue;\n\t\t\t\t// type1 = \"\";\n\t\t\t\t// type2 = \"bg_diamond_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"red_\" + cardValue;\n\t\t} else if (cardColor == 16) {\n\t\t\ttype = \"bg_club1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype2 = \"bg_blue_\" + cardValue;\n\t\t\t\t// type1 = \"\";\n\t\t\t\t// type2 = \"bg_club_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"black_\" + cardValue;\n\t\t} else if (cardColor == 32) {\n\t\t\ttype = \"bg_heart1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype2 = \"bg_red_\" + cardValue;\n\t\t\t\t// type1 = \"\";\n\t\t\t\t// type2 = \"bg_heart_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"red_\" + cardValue;\n\t\t} else if (cardColor == 48) {\n\t\t\ttype = \"bg_spade1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype2 = \"bg_blue_\" + cardValue;\n\t\t\t\t// type1 = \"\";\n\t\t\t\t// type2 = \"bg_spade_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"black_\" + cardValue;\n\t\t} else if (cardColor == 64) { //双数小鬼   0x42-0x4e\n\t\t\tnumNode.active = false; //2,3,4,5,6,7,8,9,a\n\t\t\tif (cardValue % 2 == 0) { //双数小鬼\n\t\t\t\ttype1 = \"icon_small_king_01\";\n\t\t\t\ttype2 = \"icon_small_king\";\n\t\t\t} else if (cardValue % 2 == 1) { //单数大鬼\n\t\t\t\ttype1 = \"icon_big_king_01\";\n\t\t\t\ttype2 = \"icon_big_king\";\n\t\t\t}\n\t\t}\n\t\tlet numSp = cardNode.getChildByName(\"num\").getComponent(cc.Sprite);\n\t\tlet iconSp = cardNode.getChildByName(\"icon\").getComponent(cc.Sprite);\n\t\tlet icon1_Sp = cardNode.getChildByName(\"icon_1\").getComponent(cc.Sprite);\n\t\tnumSp.spriteFrame = this.PokerCard.pokerDict[num];\n\t\ticonSp.spriteFrame = this.PokerCard.pokerDict[type1];\n\t\ticon1_Sp.spriteFrame = this.PokerCard.pokerDict[type2];\n\t},\n\t//获取牌值\n\tGetCardValue: function(poker) {\n\t\treturn poker & this.PokerCard.LOGIC_MASK_VALUE;\n\t},\n\n\t//获取花色\n\tGetCardColor: function(poker) {\n\t\twhile (poker >= 80) {\n\t\t\tpoker -= 80;\n\t\t}\n\t\tlet color = poker & this.PokerCard.LOGIC_MASK_COLOR;\n\t\treturn color;\n\t},\n});"]}