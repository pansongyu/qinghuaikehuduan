{"version":3,"sources":["pxphz_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ComTool","ShareDefine","IntegrateImagePath","ShowPlayerData","setEnd","playerAll","index","dPos","posResultList","node","active","getChildByName","PlayerInfo","WeChatManager","InitHeroHeadImage","weChatHeadImage","getComponent","ShowHeroHead","Label","string","name","pid","PlayerData","PlayerNode","result","pos","huType","layout_huinfo","demo_huinfo","huTypeMap","endPoint","huTypeDict","ZiMo","ChongFen","PaoHu","PingHu","removeAllChildren","huPoint","lb_huInfo","instantiate","addChild","point","sportsPoint","cardPublicMap","publicCardList","cardMap","shouCardList","huCard","handCard","layoutyou","demo_you","x","y","i","length","addYou","publicInfo","publicInfoList","publicInfoValue","getCardID","cardIDList","slice","opType","layoutpai","k","cardChild","cardID","ShowOutCardImage","child","j","lb_winpoint","lb_lostpoint","lb_sportsPoint","childNode","imageName","Math","floor","join","imageInfo","ErrLog","imagePath","childSprite","Sprite","SpriteShow","huaseSprite","huaImageName","huaImageInfo","huaImagePath","that","ControlManager","CreateLoadPromise","SpriteFrame","then","spriteFrame","catch","error","stack"],"mappings":"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","file":"pxphz_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\pxphz","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tthis.ComTool = app.ComTool();\n        this.ShareDefine=app.ShareDefine();\n\n        this.IntegrateImagePath={\n                  \"shuzi_fangxiao_10\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_14\",\n                  },\n                  \"shuzi_fangxiao_11\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_2\",\n                  },\n                  \"shuzi_fangxiao_12\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_3\",\n                  },\n                  \"shuzi_fangxiao_13\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_4\",\n                  },\n                  \"shuzi_fangxiao_14\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_5\",\n                  },\n                  \"shuzi_fangxiao_15\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_6\",\n                  },\n                  \"shuzi_fangxiao_16\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_7\",\n                  },\n                  \"shuzi_fangxiao_17\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_8\",\n                  },\n                  \"shuzi_fangxiao_18\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_9\",\n                  },\n                  \"shuzi_fangxiao_19\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/red_10\",\n                  },\n                  \"shuzi_fangxiao_20\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_14\",\n                  },\n                  \"shuzi_fangxiao_21\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_2\",\n                  },\n                  \"shuzi_fangxiao_22\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_3\",\n                  },\n                  \"shuzi_fangxiao_23\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_4\",\n                  },\n                  \"shuzi_fangxiao_24\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_5\",\n                  },\n                  \"shuzi_fangxiao_25\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_6\",\n                  },\n                  \"shuzi_fangxiao_26\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_7\",\n                  },\n                  \"shuzi_fangxiao_27\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_8\",\n                  },\n                  \"shuzi_fangxiao_28\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_9\",\n                  },\n                  \"shuzi_fangxiao_29\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/black_10\",\n                  },\n                  \"shuzi_fangxiao_bg\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/bg_poker\",\n                  },\n                  \"shuzi_fangxiao_spade\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/bg_spade1\",\n                  },\n                  \"shuzi_fangxiao_diamond\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/bg_diamond1\",\n                  },\n                  \"shuzi_fangxiao_club\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/bg_club1\",\n                  },\n                  \"shuzi_fangxiao_heart\": {\n                    \"FilePath\": \"ui/uiGame/xpphz/zi/card_small/bg_heart1\",\n                  }\n        };\n\t},\n    ShowPlayerData:function(setEnd,playerAll,index){\n        let dPos=setEnd.dPos;\n        let posResultList = setEnd[\"posResultList\"];\n        this.node.active=true;\n        if(dPos===index){\n            this.node.getChildByName(\"userinfo\").getChildByName(\"tip_zhuang\").active = true;\n        }else{\n            this.node.getChildByName(\"userinfo\").getChildByName(\"tip_zhuang\").active = false;\n        }\n        let PlayerInfo = playerAll[index];\n        //显示头像，如果头像UI\n        if(PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]){\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"],PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"userinfo\").getChildByName(\"touxiang\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n        //显示名字跟pid\n        this.node.getChildByName(\"userinfo\").getChildByName(\"lb_name\").getComponent(cc.Label).string=PlayerInfo.name;\n        this.node.getChildByName(\"userinfo\").getChildByName(\"lb_id\").getComponent(cc.Label).string=PlayerInfo.pid;\n        this.PlayerData(this.node,posResultList[index],index);\n    },\n    PlayerData:function(PlayerNode,result,pos){\n        PlayerNode.active=true;\n        let huType=result.huType;\n        if(huType!=0){\n            //显示胡牌分数\n            let layout_huinfo=PlayerNode.getChildByName(\"layout_huinfo\");\n            let demo_huinfo=this.node.getChildByName(\"demo_huinfo\");\n            let huTypeMap=result.endPoint.huTypeMap;\n            let huTypeDict = {\n                ZiMo: \"自摸\",\n                ChongFen: \"冲分\",\n                PaoHu: \"跑胡\",\n                PingHu: \"平胡\",\n            };\n            layout_huinfo.removeAllChildren();\n            for (let huType in huTypeMap) {\n                let huPoint = huTypeMap[huType];\n                let lb_huInfo=cc.instantiate(demo_huinfo);\n                lb_huInfo.getComponent(cc.Label).string=huTypeDict[huType]+\"：\" + huPoint;\n                lb_huInfo.active=true;\n                layout_huinfo.addChild(lb_huInfo);\n            }\n        }else{\n            PlayerNode.getChildByName(\"layout_huinfo\").removeAllChildren();\n        }\n        let point=result.point;\n        let sportsPoint=result[\"sportsPoint\"];\n        let cardPublicMap=result.endPoint.publicCardList;\n        let cardMap=result.endPoint.shouCardList;\n        let huCard=result.handCard;\n        let layoutyou=PlayerNode.getChildByName(\"layoutyou\");\n        layoutyou.removeAllChildren();\n        let demo_you=this.node.getChildByName(\"demo_you\");\n        demo_you.x=0;demo_you.y=0;\n        //碰吃的牌\n        for(let i=0;i<cardPublicMap.length;i++){\n            let addYou=cc.instantiate(demo_you);\n            layoutyou.addChild(addYou);\n            let publicInfo = cardPublicMap[i];\n            let publicInfoList=publicInfo[\"cardList\"];\n            let publicInfoValue=publicInfo[\"youNum\"];\n\n            let getCardID = publicInfoList[2];\n            let cardIDList = publicInfoList.slice(1, publicInfoList.length);\n\n            let opType = publicInfoList[0];\n            if (opType == 0) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"提\";\n            }else if (opType ==1) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"跑\";\n            }else if (opType == 2) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"偎\";\n            }else if (opType == 3) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"连\";\n            }else if (opType == 4) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"坎\";\n            }else if (opType == 5) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"碰\";\n            }else if (opType == 6) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"对\";\n            }else if (opType == 7) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"绞\";\n            }else if (opType == 8) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"手\";\n            }else{\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"\";\n            }\n            addYou.getChildByName(\"layoutpai\").getChildByName(\"lb_you\").getComponent(cc.Label).string=publicInfoValue;\n\n            let layoutpai=addYou.getChildByName(\"layoutpai\");\n\n            for(let k=1;k<=4;k++){\n                let cardChild=layoutpai.getChildByName(\"card\"+k);\n                if(typeof(cardIDList[k-1])==\"undefined\"){\n                    if(cardChild){\n                        cardChild.active=false;\n                    }\n                    continue;\n                }\n                cardChild.cardID=cardIDList[k-1];\n                /*if(opType==this.ShareDefine.OpType_Chi && cardChild.cardID==getCardID){\n                    cardChild.color=cc.color(180,180,180);\n                }else{\n                    cardChild.color=cc.color(255,255,255);\n                }*/\n                this.ShowOutCardImage(cardChild);\n            }\n\n            addYou.active=true;\n        }\n        //余下的牌\n        for(let i=0;i<cardMap.length;i++){\n            let addYou=cc.instantiate(demo_you);\n            let publicInfo = cardMap[i];\n            let opType = publicInfo[\"cardList\"][0];\n            let publicInfoList=publicInfo[\"cardList\"].slice(1,publicInfo[\"cardList\"].length);\n            let publicInfoValue=publicInfo[\"youNum\"];\n            let cardIDList = publicInfoList;\n            if (opType == 0) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"提\";\n            }else if (opType ==1) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"跑\";\n            }else if (opType == 2) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"偎\";\n            }else if (opType == 3) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"连\";\n            }else if (opType == 4) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"坎\";\n            }else if (opType == 5) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"碰\";\n            }else if (opType == 6) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"对\";\n            }else if (opType == 7) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"绞\";\n            }else if (opType == 8) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"手\";\n            }else{\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"\";\n            }\n            addYou.getChildByName(\"layoutpai\").getChildByName(\"lb_you\").getComponent(cc.Label).string=publicInfoValue;\n            let child=addYou.getChildByName(\"layoutpai\");\n            \n            for(let j=1;j<=4;j++){\n                let cardChild=child.getChildByName(\"card\"+j);\n                if(typeof(cardIDList[j-1])==\"undefined\"){\n                    if(cardChild){\n                        cardChild.active=false;\n                    }\n                    continue;\n                }\n                cardChild.cardID=cardIDList[j-1];\n                this.ShowOutCardImage(cardChild);\n                //如果是胡的牌。显示胡牌\n                if(huCard>0 && huCard==cardIDList[j-1]){\n                    cardChild.getChildByName(\"tip_hu\").active=true;\n                }else{\n                    cardChild.getChildByName(\"tip_hu\").active=false;\n                }\n            }\n            addYou.active=true;\n            layoutyou.addChild(addYou);\n        }\n\n        //显示总分\n        let lb_winpoint=PlayerNode.getChildByName(\"lb_winpoint\");\n        let lb_lostpoint=PlayerNode.getChildByName(\"lb_lostpoint\");\n        if(point>0){\n            lb_winpoint.active=true;\n            lb_lostpoint.active=false;\n            lb_winpoint.getComponent(cc.Label).string=\"+\"+point;\n        }else{\n            lb_winpoint.active=false;\n            lb_lostpoint.active=true;\n            lb_lostpoint.getComponent(cc.Label).string=point;\n        }\n\n\n        //比赛分\n        let lb_sportsPoint=PlayerNode.getChildByName(\"lb_sportsPoint\");\n        if(typeof(sportsPoint)!=\"undefined\"){\n            lb_sportsPoint.active=true;\n            lb_sportsPoint.getComponent(cc.Label).string=\"比赛分:\"+sportsPoint;\n        }else{\n            lb_sportsPoint.active=false;\n        }\n    },\n    ShowOutCardImage:function(childNode){\n        childNode.active=true;\n            let imageName = [\"shuzi_fangxiao_\", Math.floor(childNode.cardID/100)].join(\"\");\n            if(childNode.cardID==0){\n                imageName = [\"shuzi_fangxiao_bg\"].join(\"\");\n            }\n            let imageInfo = this.IntegrateImagePath[imageName];\n            if(!imageInfo){\n                this.ErrLog(\"ShowOutCardImage IntegrateImage.txt not find:%s\", imageName);\n                return\n            }\n            let imagePath = imageInfo[\"FilePath\"];\n            let childSprite = childNode.getChildByName(\"dian\").getComponent(cc.Sprite);\n            this.SpriteShow(childSprite,imagePath);\n            let huaseSprite = childNode.getChildByName(\"hua\").getComponent(cc.Sprite);\n            let huaImageName=\"\";\n            if(childNode.cardID<2000){\n                if (childNode.cardID%100 <= 2) {\n                    huaImageName=\"shuzi_fangxiao_diamond\";\n                }else{\n                    huaImageName=\"shuzi_fangxiao_heart\";\n                }\n            }else if(childNode.cardID>=2000){\n                if (childNode.cardID%100 <= 2) {\n                    huaImageName=\"shuzi_fangxiao_club\";\n                }else{\n                    huaImageName=\"shuzi_fangxiao_spade\";\n                }\n            }\n            let huaImageInfo = this.IntegrateImagePath[huaImageName];\n            if(!huaImageInfo){\n                this.ErrLog(\"ShowOutCardImage IntegrateImage.txt not find:%s\", huaImageName);\n                return\n            }\n            let huaImagePath = huaImageInfo[\"FilePath\"];\n            this.SpriteShow(huaseSprite,huaImagePath);\n       \n    },\n    SpriteShow:function(childSprite,imagePath){\n        let that = this;\n        app.ControlManager().CreateLoadPromise(imagePath, cc.SpriteFrame)\n            .then(function(spriteFrame){\n                        if(!spriteFrame){\n                            that.ErrLog(\"OpenPoker(%s) load spriteFrame fail\", imagePath);\n                            return\n                        }\n                        childSprite.spriteFrame = spriteFrame;\n            }).catch(function(error){\n                that.ErrLog(\"OpenPoker(%s) error:%s\", imagePath, error.stack);\n            }\n        );\n    },\n});\n"]}