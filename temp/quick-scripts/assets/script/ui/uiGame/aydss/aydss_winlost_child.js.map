{"version":3,"sources":["aydss_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","CPGPrefab","Node","NodeHuType","max_cardPrefab","Prefab","SpriteMale","SpriteFrame","SpriteFeMale","OnLoad","PokerCard","ComTool","ShareDefine","IntegrateImage","SysDataManager","GetTableDict","showGangNum","ShowPlayerData","setEnd","playerAll","index","jin1","jin","jin2","dPos","posResultList","posHuArray","Array","posCount","length","i","posInfo","pos","posHuType","HuTypeStringDict","PlayerInfo","node","active","UpdatePlayData","maPaiLst","getChildByName","WeChatManager","InitHeroHeadImage","weChatHeadImage","getComponent","ShowHeroHead","PlayerNode","HuList","jiesuan","GetWndNode","hutypelayout","removeAllChildren","Layout","spacingX","ShowPlayerRecord","ShowPlayerJieSuan","ShowPlayerHuType","ShowPlayerInfo","ShowPlayerShowCard","ShowPlayerCPGCard","ShowPlayerHuCard","ShowNode","huInfo","fanNum","string","Label","GetBeiZhuName","GetPid","HeroSex_Boy","Sprite","HeroSex_Girl","huInfoAll","children","huType","huTypeMap","huTypeMapStr","Hu","Zhuang","DDHu","LongQiDui","FullRed","FullBlack","TianHu","DiHu","QGH","Peng","Gui","Gang","JieGang","AnGang","CHZMJF","BaoJiao","Piao","key","huNode","instantiate","huTypeStr","huTypePoint","addChild","cardIDList","sortCard","SortShouCard","cardListNode","cardValue","cardNode","ShowCard","cardArr","cardList","slice","j","y","handCard","spriteFrame","cardType","isHu","GetPokeCard","poker","type","type1","type2","num","cardColor","GetCardColor","GetCardValue","numNode","numSp","iconSp","icon1_Sp","pokerDict","LOGIC_MASK_VALUE","color","LOGIC_MASK_COLOR","wndPath","wndNode","find","ErrLog","GuiPai","NewPai","DanPai","_t","countList","push","sort","a","b","Sortpokers","avalue","bvalue","aColor","bColor","cardNum","k","NewPaiVal","countVal","result","allResult","allResultCount","copyDanPai","DeepCopy","l","value","target","indexOf","console","log","m","n","o"],"mappings":"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","file":"aydss_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\aydss","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n\t\tCPGPrefab: cc.Node,\n\t\tNodeHuType: cc.Node,\n\t\tmax_cardPrefab: cc.Prefab,\n\t\tSpriteMale: cc.SpriteFrame,\n\t\tSpriteFeMale: cc.SpriteFrame,\n\t},\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tthis.PokerCard = app.PokerCard();\n\t\tthis.ComTool = app.ComTool();\n\t\tthis.ShareDefine = app.ShareDefine();\n\t\tthis.IntegrateImage = app.SysDataManager().GetTableDict(\"IntegrateImage\");\n\t\tthis.showGangNum = 1;\n\t},\n\tShowPlayerData: function (setEnd, playerAll, index) {\n\t\tlet jin1 = setEnd.jin;\n\t\tlet jin2 = 0;\n\t\tif (setEnd.jin2 > 0) {\n\t\t\tjin2 = setEnd.jin2;\n\t\t}\n\t\tlet dPos = setEnd.dPos;\n\t\tlet posResultList = setEnd[\"posResultList\"];\n\t\tlet posHuArray = new Array();\n\t\tlet posCount = posResultList.length;\n\t\tfor (let i = 0; i < posCount; i++) {\n\t\t\tlet posInfo = posResultList[i];\n\t\t\tlet pos = posInfo[\"pos\"];\n\t\t\tlet posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n\t\t\tposHuArray[pos] = posHuType;\n\t\t}\n\t\tlet PlayerInfo = playerAll[index];\n\t\tthis.node.active = true;\n\t\tthis.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2, setEnd.maPaiLst);\n\n\t\tif (dPos === index) {\n\t\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n\t\t}\n\t\t//显示头像，如果头像UI\n\t\tif (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n\t\t\tapp.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n\t\t}\n\t\tlet weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n\t\tweChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n\t},\n\tUpdatePlayData: function (PlayerNode, HuList, PlayerInfo) {\n\t\tthis.jiesuan = this.GetWndNode(\"layoutall/layoutlist/jiesuan\");\n\t\tthis.hutypelayout = this.GetWndNode(\"layoutall/layoutlist/hutypelayout\");\n\t\tthis.node.getChildByName(\"showcard\").getChildByName(\"cardlist\").removeAllChildren();\n\t\tthis.hutypelayout.removeAllChildren();\n\t\tthis.CPGPrefab.getChildByName(\"layout\").getComponent(cc.Layout).spacingX = -90;\n\t\tthis.ShowPlayerRecord(PlayerNode.getChildByName(\"record\"), HuList);\n\t\tthis.ShowPlayerJieSuan(HuList);\n\t\tthis.ShowPlayerHuType(HuList);\n\t\tthis.ShowPlayerInfo(PlayerNode.getChildByName(\"user_info\"), PlayerInfo);\n\t\tthis.ShowPlayerShowCard(PlayerNode.getChildByName(\"showcard\"), HuList[\"shouCard\"]);\n\t\tthis.ShowPlayerCPGCard(PlayerNode.getChildByName(\"showcard\"), HuList[\"publicCardList\"]);\n\t\tthis.ShowPlayerHuCard(PlayerNode.getChildByName(\"showcard\"), HuList[\"handCard\"]);\n\t},\n\tShowPlayerRecord: function (ShowNode, huInfo) {\n\t\tlet fanNum = huInfo[\"endPoint\"][\"fanNum\"];\n\t\tShowNode.active = true;\n\t\tif (huInfo[\"point\"] > 0) {\n\t\t\tShowNode.getComponent(\"cc.Label\").string = fanNum + \"番  \" + \"+\" + huInfo[\"point\"];\n\t\t} else {\n\t\t\tShowNode.getComponent(\"cc.Label\").string = fanNum + \"番  \" + huInfo[\"point\"];\n\t\t}\n\t\t//显示竞技点\n\t\tif (typeof(huInfo[\"sportsPoint\"]) != \"undefined\") {\n\t\t\tif (huInfo[\"sportsPoint\"] > 0) {\n\t\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").getComponent(cc.Label).string = \"比赛分：+\" + huInfo[\"sportsPoint\"];\n\t\t\t} else {\n\t\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").getComponent(cc.Label).string = \"比赛分：\" + huInfo[\"sportsPoint\"];\n\t\t\t}\n\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").active = true;\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").getComponent(cc.Label).string = \"\";\n\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").active = false;\n\t\t}\n\t},\n\tShowPlayerInfo: function (ShowNode, PlayerInfo) {\n\t\tShowNode.getChildByName(\"lable_name\").getComponent(\"cc.Label\").string = this.ComTool.GetBeiZhuName(PlayerInfo[\"pid\"],PlayerInfo[\"name\"]);\n\t\tShowNode.getChildByName(\"label_id\").getComponent(\"cc.Label\").string = this.ComTool.GetPid(PlayerInfo[\"pid\"]);\n\n\t\tif (PlayerInfo[\"sex\"] == this.ShareDefine.HeroSex_Boy) {\n\t\t\tShowNode.getChildByName(\"sex\").getComponent(cc.Sprite).SpriteFrame = this.SpriteMale;\n\t\t} else if (PlayerInfo[\"sex\"] == this.ShareDefine.HeroSex_Girl) {\n\t\t\tShowNode.getChildByName(\"sex\").getComponent(cc.Sprite).SpriteFrame = this.SpriteFeMale;\n\t\t}\n\t},\n\tShowPlayerJieSuan: function (huInfoAll) {\n\t\tfor (let i = 0; i < this.jiesuan.children.length; i++) {\n\t\t\tthis.jiesuan.children[i].active = false;\n\t\t}\n\t\tlet huType = huInfoAll[\"huType\"];\n\t\tif (\"QGH\" == huType) {\n\t\t\thuType = \"JiePao\"\n\t\t}\n\t\tif (huType != \"NotHu\") {\n\t\t\tthis.jiesuan.getChildByName(huType).active = true;\n\t\t}\n\t},\n\tShowPlayerHuType: function (huInfoAll) {\n\t\tlet huTypeMap = huInfoAll[\"endPoint\"][\"huTypeMap\"];\n\t\tlet huTypeMapStr = {\n\t\t\tHu: \"平胡\",\n\t\t\tZhuang: \"庄番\",\n\t\t\tDDHu: \"对对胡\",\n\t\t\tLongQiDui: \"龙七对\",\n\t\t\tFullRed: \"全红\",\n\t\t\tFullBlack: \"全黑\",\n\t\t\tTianHu: \"天胡\",\n\t\t\tDiHu: \"地胡\",\n\t\t\tQGH: \"抢杠胡\",\n\t\t\tPeng: \"碰番\",\n\t\t\tGui: \"鬼番\",\n\t\t\tGang: \"杠番\",\n\t\t\tJieGang: \"接杠番\",\n\t\t\tAnGang: \"暗杠番\",\n\t\t\tCHZMJF: \"扯后自摸加番\",\n\t\t\tBaoJiao: \"爆叫\",\n\t\t\tPiao: \"飘\",\n\t\t};\n\t\tfor (let key in huTypeMap) {\n\t\t\tlet huNode = cc.instantiate(this.NodeHuType);\n\t\t\tlet huTypeStr = huTypeMapStr[key];\n\t\t\tlet huTypePoint = huTypeMap[key];\n\t\t\thuNode.children[0].getComponent(cc.Label).string = huTypeStr/* + huTypePoint*/;\n\t\t\tthis.hutypelayout.addChild(huNode);\n\t\t}\n\t},\n\tShowPlayerShowCard: function (ShowNode, cardIDList) {\n\t\tlet sortCard = this.SortShouCard(cardIDList);\n\t\tlet cardListNode = ShowNode.getChildByName(\"cardlist\");\n\t\tcardListNode.removeAllChildren();\n\t\tfor (let i = 0; i < sortCard.length; i++) {\n\t\t\tlet cardValue = sortCard[i];\n\t\t\tlet CPGPrefab = cc.instantiate(this.CPGPrefab);\n\t\t\tlet cardNode = cc.instantiate(this.max_cardPrefab);\n\t\t\tCPGPrefab.getChildByName(\"layout\").addChild(cardNode);\n\t\t\tthis.ShowCard(cardValue, cardNode);\n\t\t\tcardListNode.addChild(CPGPrefab);\n\t\t}\n\t},\n\tShowPlayerCPGCard: function (ShowNode, cardIDList) {\n\t\tlet cardListNode = ShowNode.getChildByName(\"cardlist\");\n\t\tfor (let i = 0; i < cardIDList.length; i++) {//[[1,2],[4,5]]\n\t\t\tlet CPGPrefab = cc.instantiate(this.CPGPrefab);\n\t\t\tlet cardArr = cardIDList[i];\n\t\t\tlet cardList = cardArr.slice(3, cardArr.length);\n\t\t\tfor (let j = 0; j < cardList.length; j++) {\n\t\t\t\tlet cardNode = cc.instantiate(this.max_cardPrefab);\n\t\t\t\tlet cardValue = cardList[j];\n\t\t\t\tCPGPrefab.getChildByName(\"layout\").addChild(cardNode);\n\t\t\t\tif (cardList.length - 1 >= j) {\n\t\t\t\t\tif (j == 0) {\n\t\t\t\t\t\tcardNode.y = 20;\n\t\t\t\t\t} else if (j == 2) {\n\t\t\t\t\t\tcardNode.y = -20;\n\t\t\t\t\t} else if (j == 3) {\n\t\t\t\t\t\tcardNode.y = -40;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (cardList.length == 1) {\n\t\t\t\t\tcardNode.y = 0;\n\t\t\t\t}\n\t\t\t\tthis.ShowCard(cardValue, cardNode);\n\t\t\t}\n\t\t\tcardListNode.addChild(CPGPrefab);\n\t\t}\n\t},\n\tShowPlayerHuCard: function (ShowNode, handCard) {\n\t\tif (handCard == 0) {\n\t\t\tthis.node.getComponent(cc.Sprite).spriteFrame = \"\";\n\t\t\treturn;\n\t\t}\n\t\tlet cardListNode = ShowNode.getChildByName(\"cardlist\");\n\t\tlet CPGPrefab = cc.instantiate(this.CPGPrefab);\n\t\tlet cardNode = cc.instantiate(this.max_cardPrefab);\n\t\tCPGPrefab.getChildByName(\"layout\").addChild(cardNode);\n\t\tthis.ShowCard(handCard, cardNode, true);\n\t\tcardListNode.addChild(CPGPrefab);\n\t\tthis.jiesuan.getChildByName(\"Hu\").active = true;\n\t},\n\t//显示poker牌\n\tShowCard: function (cardType, cardNode, isHu = false) {\n\t\tthis.GetPokeCard(cardType, cardNode, isHu);\n\t\tcardNode.active = true;\n\t\tcardNode.getChildByName(\"poker_back\").active = false;\n\t},\n\tGetPokeCard: function (poker, cardNode, isHu) {\n\t\tif (0 == poker) {\n\t\t\treturn;\n\t\t}\n\t\tlet type = \"\";\n\t\tlet type1 = \"\";\n\t\tlet type2 = \"\";\n\t\tlet num = \"\";\n\t\tlet cardColor = this.GetCardColor(poker);\n\t\tlet cardValue = this.GetCardValue(poker);\n\t\tlet numNode = cardNode.getChildByName(\"num\");\n\t\tnumNode.active = true;\n\t\tif (cardValue == 1) {\n\t\t\tcardValue = 14;\n\t\t}\n\t\tif (cardColor == 0) {//方块\n\t\t\ttype = \"bg_diamond1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype1 = \"\";\n\t\t\t\ttype2 = \"bg_diamond_\" + cardValue;\n\t\t\t\t// type2 = \"bg_red_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"red_\" + cardValue;\n\t\t} else if (cardColor == 16) {//桃花\n\t\t\ttype = \"bg_club1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype1 = \"\";\n\t\t\t\ttype2 = \"bg_club_\" + cardValue;\n\t\t\t\t// type2 = \"bg_blue_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"black_\" + cardValue;\n\t\t} else if (cardColor == 32) {//红心\n\t\t\ttype = \"bg_heart1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype1 = \"\";\n\t\t\t\ttype2 = \"bg_heart_\" + cardValue;\n\t\t\t\t// type2 = \"bg_red_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"red_\" + cardValue;\n\t\t} else if (cardColor == 48) {//桃心\n\t\t\ttype = \"bg_spade1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype1 = \"\";\n\t\t\t\ttype2 = \"bg_spade_\" + cardValue;\n\t\t\t\t// type2 = \"bg_blue_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"black_\" + cardValue;\n\t\t} else if (cardColor == 64) {\n\t\t\tnumNode.active = false;\n\t\t\tif (cardValue % 2 == 1) {\n\t\t\t\ttype1 = \"icon_small_king_01\";\n\t\t\t\ttype2 = \"icon_small_king\";\n\t\t\t} else if (cardValue % 2 == 0) {\n\t\t\t\ttype1 = \"icon_big_king_01\";\n\t\t\t\ttype2 = \"icon_big_king\";\n\t\t\t}\n\t\t}\n\t\tlet numSp = cardNode.getChildByName(\"num\").getComponent(cc.Sprite);\n\t\tlet iconSp = cardNode.getChildByName(\"icon\").getComponent(cc.Sprite);\n\t\tlet icon1_Sp = cardNode.getChildByName(\"icon_1\").getComponent(cc.Sprite);\n\t\tcardNode.getChildByName(\"img_hupai\").active = isHu;\n\t\tnumSp.spriteFrame = this.PokerCard.pokerDict[num];\n\t\ticonSp.spriteFrame = this.PokerCard.pokerDict[type1];\n\t\ticon1_Sp.spriteFrame = this.PokerCard.pokerDict[type2];\n\t},\n\t//获取牌值\n\tGetCardValue: function (poker) {\n\t\treturn poker & this.PokerCard.LOGIC_MASK_VALUE;\n\t},\n\n\t//获取花色\n\tGetCardColor: function (poker) {\n\t\twhile (poker >= 256) {\n\t\t\tpoker -= 256;\n\t\t}\n\t\tlet color = poker & this.PokerCard.LOGIC_MASK_COLOR;\n\t\treturn color;\n\t},\n\tGetWndNode: function (wndPath) {\n\t\tlet wndNode = cc.find(wndPath, this.node);\n\t\tif (!wndNode) {\n\t\t\tthis.ErrLog(\"GetWndNode(%s) not find\", wndPath);\n\t\t\treturn;\n\t\t}\n\t\treturn wndNode;\n\t},\n\t/*\n\t鬼牌排序在最左侧；\n\t有多张相同点数的牌，按照张数排序，张数多的排序在左；\n\t单牌可以组成十四点的放置在一起；\n\t多个组成十四点的牌，则按组成十四点的牌中点数大的牌在左侧；\n\t无法组成十四点的单牌，按照牌的点数从大到小排序；\n\t同点数的牌按花色排序：黑桃、红桃、梅花、方块；*/\n\tSortShouCard: function (cardIDList) {\n\t\tlet GuiPai = [];\n\t\tlet NewPai = [];\n\t\tlet DanPai = [];\n\t\tlet _t = this;\n\t\tlet countList = [];\n\t\tif (cardIDList[0] == 0) {\n\t\t\treturn cardIDList;\n\t\t}\n\t\tfor (let i = 0; i < cardIDList.length; i++) {\n\t\t\tlet cardColor = this.GetCardColor(cardIDList[i]);\n\t\t\tlet cardValue = this.GetCardValue(cardIDList[i]);\n\t\t\tif (\"64\" == cardColor) {\n\t\t\t\tGuiPai.push(cardIDList[i]);\n\t\t\t} else {\n\t\t\t\tNewPai.push(cardIDList[i]);\n\t\t\t\tif (countList[cardValue]) {\n\t\t\t\t\tcountList[cardValue][\"num\"]++;\n\t\t\t\t} else {\n\t\t\t\t\tcountList[cardValue] = [];\n\t\t\t\t\tcountList[cardValue][\"num\"] = 1;\n\t\t\t\t\tcountList[cardValue][\"cardValue\"] = cardValue;\n\t\t\t\t\tcountList[cardValue][\"poker\"] = cardIDList[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//先添加鬼牌在最左边start\n\t\tGuiPai.sort(function (a, b) {\n\t\t\treturn (b & 0x0F) - (a & 0x0F);\n\t\t});\n\t\tlet Sortpokers = [];\n\t\tfor (let i = 0; i < GuiPai.length; i++) {\n\t\t\tSortpokers.push(GuiPai[i]);\n\t\t}\n\t\t//先添加鬼牌在最左边finish\n\t\tcountList.sort(function (a, b) {\n\t\t\tif (b.num == a.num) {\n\t\t\t\treturn b.cardValue - a.cardValue;\n\t\t\t}\n\t\t\treturn b.num - a.num;\n\t\t});\n\n\t\tNewPai.sort(function (a, b) {\n\t\t\tlet avalue = _t.PokerCard.GetCardValue(a);\n\t\t\tlet bvalue = _t.PokerCard.GetCardValue(b);\n\t\t\tif (avalue == bvalue) {\n\t\t\t\tlet aColor = _t.PokerCard.GetCardColor(a);\n\t\t\t\tlet bColor = _t.PokerCard.GetCardColor(b);\n\t\t\t\treturn bColor - aColor;\n\t\t\t} else {\n\t\t\t\treturn (b & 0x0F) - (a & 0x0F);\n\t\t\t}\n\n\t\t});\n\t\tfor (let j = 0; j < countList.length; j++) {\n\t\t\tif (countList[j]) {\n\t\t\t\tlet cardNum = countList[j][\"num\"]; // 0,3 1,1\n\t\t\t\tif (cardNum > 1) {\n\t\t\t\t\tfor (let k = 0; k < NewPai.length; k++) {\n\t\t\t\t\t\tlet NewPaiVal = this.GetCardValue(NewPai[k]);\n\t\t\t\t\t\tlet countVal = countList[j][\"cardValue\"];\n\t\t\t\t\t\tif (NewPaiVal == countVal) {\n\t\t\t\t\t\t\tSortpokers.push(NewPai[k]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (cardNum == 1) {\n\t\t\t\t\tDanPai.push(countList[j][\"poker\"]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet result = [];\n\t\tlet allResult = [];\n\t\tlet allResultCount = [];\n\t\tDanPai.sort((a, b) => {\n\t\t\treturn (b.cardValue) - (a.cardValue);\n\t\t});\n\t\tlet copyDanPai = this.ComTool.DeepCopy(DanPai);\n\t\tfor (let l = 0; l < copyDanPai.length; l++) {\n\t\t\tfor (let i = l + 1; i < copyDanPai.length; i++) {\n\t\t\t\tlet value = this.GetCardValue(copyDanPai[l]);\n\t\t\t\tlet target = this.GetCardValue(copyDanPai[i]);\n\t\t\t\tif (value + target == 14) {\n\t\t\t\t\tallResult.push([copyDanPai[l], copyDanPai[i]]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (let i = 0; i < allResult.length; i++) {\n\t\t\tfor (let j = 0; j < allResult[i].length; j++) {\n\t\t\t\tallResultCount.push(allResult[i][j]);\n\t\t\t}\n\t\t}\n\t\tfor (let i = 0; i < copyDanPai.length; i++) {\n\t\t\tif (allResultCount.indexOf(copyDanPai[i]) < 0) {\n\t\t\t\tresult.push(copyDanPai[i]);\n\t\t\t}\n\t\t}\n\n\t\tconsole.log(\"forEach\", result, allResult, allResultCount);\n\t\tfor (let m = 0; m < allResult.length; m++) {\n\t\t\tfor (let n = 0; n < allResult[m].length; n++) {\n\t\t\t\tlet poker = allResult[m][n];\n\t\t\t\tSortpokers.push(poker);\n\t\t\t}\n\t\t}\n\t\tfor (let o = 0; o < result.length; o++) {\n\t\t\tSortpokers.push(result[o]);\n\t\t}\n\t\treturn Sortpokers;\n\t},\n});"]}