{"version":3,"sources":["pbyhmj_detail_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ShowPlayerData","resultsList","playerAll","idx","data","userInfo","node","getChildByName","getComponent","ShowHeroHead","pid","Label","string","ComTool","GetPid","index","player","name","jiesuan","show","showLabel","huTypesShow","point","active","sportsPoint","maxPoint","maxDianPao","i","length","dianPaoPoint","huData","addNodeDemo","arr","Object","keys","setPointMap","layout","DestroyAllChildren","addNode","instantiate","addChild"],"mappings":"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","file":"pbyhmj_detail_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\pbyhmj","sourcesContent":["/*\n\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseComponent\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\n\t},\n\tShowPlayerData:function(resultsList, playerAll,idx){\n        let data = resultsList[idx];\n        let userInfo = this.node.getChildByName(\"user_info\");\n        if(userInfo){\n            userInfo.getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\").ShowHeroHead(data.pid);\n            userInfo.getChildByName(\"label_id\").getComponent(cc.Label).string = \"ID:\" + app.ComTool().GetPid(data.pid);\n            for(let index in playerAll){\n                let player = playerAll[index];\n                if(player.pid == data.pid){\n                    userInfo.getChildByName(\"lable_name\").getComponent(cc.Label).string = player.name;\n                    // if(player.sex==app.ShareDefine().HeroSex_Boy){\n                    //     userInfo.getChildByName(\"sex\").getComponent(cc.Sprite).SpriteFrame=this.SpriteMale;\n                    // }else if(player.sex==app.ShareDefine().HeroSex_Girl){\n                    //     userInfo.getChildByName(\"sex\").getComponent(cc.Sprite).SpriteFrame=this.SpriteFeMale;\n                    // }\n                    break;\n                }\n            }\n        }\n\n        let jiesuan = this.node.getChildByName(\"jiesuan\");\n        let show=1;\n        let showLabel=false;\n        if(jiesuan){\n            this.huTypesShow(jiesuan,data);\n            if(data.point>=0){\n                jiesuan.getChildByName(\"lb_win\").active=true;\n                jiesuan.getChildByName(\"lb_lost\").active=false;\n                jiesuan.getChildByName(\"lb_win\").getComponent(cc.Label).string = '+'+data.point;\n            }else{\n                jiesuan.getChildByName(\"lb_win\").active=false;\n                jiesuan.getChildByName(\"lb_lost\").active=true;\n                jiesuan.getChildByName(\"lb_lost\").getComponent(cc.Label).string = data.point;\n            }\n            //比赛分\n            if (typeof(data.sportsPoint)!=\"undefined\") {\n                jiesuan.getChildByName(\"lb_sportsPoint\").active = true;\n                if (data.sportsPoint > 0) {\n                    jiesuan.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"比赛分：+\" + data.sportsPoint;\n                }else{\n                    jiesuan.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"比赛分：\" + data.sportsPoint;\n                }\n            }else{\n                jiesuan.getChildByName(\"lb_sportsPoint\").active = false;\n            }\n        }\n        let maxPoint=0;\n        let maxDianPao=0;\n        for(let i = 0; i < resultsList.length; i++){\n            let data = resultsList[i];\n            if(data.point>maxPoint){\n                maxPoint=data.point;\n            }\n            if(data.dianPaoPoint>maxDianPao){\n                maxDianPao=data.dianPaoPoint;\n            }\n        }\n        //显示大赢家图标\n        if(data.dianPaoPoint>=maxDianPao && maxDianPao>0){\n            this.node.getChildByName('icon_paoshou').active=true;\n        }else{\n            this.node.getChildByName('icon_paoshou').active=false;\n        }\n        if(data.point>=maxPoint){\n            this.node.getChildByName('icon_win').active=true;\n            this.node.getChildByName('icon_paoshou').active=false;\n        }else{\n            this.node.getChildByName('icon_win').active=false;\n        }\n\t},\n\n    huTypesShow:function(jiesuan,huData){\n        let addNodeDemo=null;\n        var arr = Object.keys(huData.setPointMap); \n        if(arr.length<=8){\n            addNodeDemo=jiesuan.getChildByName('8ju');\n        }else{\n            addNodeDemo=jiesuan.getChildByName('16ju');\n        }\n        let layout=jiesuan.getChildByName('layout');\n        //layout.removeAllChildren();\n        this.DestroyAllChildren(layout);\n        for(let i in huData.setPointMap){\n            let addNode = cc.instantiate(addNodeDemo);\n            addNode.active=true;\n            addNode.getChildByName(\"tip\").getComponent(cc.Label).string=\"第\"+i+\"局\";\n            addNode.getChildByName(\"lb_num\").getComponent(cc.Label).string=huData.setPointMap[i];\n            layout.addChild(addNode);\n        }\n    },\n});\n"]}