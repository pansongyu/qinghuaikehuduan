{"version":3,"sources":["hnzzmjChildCreateRoom.js"],"names":["app","require","hnzzmjChildCreateRoom","cc","Class","extends","properties","CreateSendPack","renshu","setCount","isSpiltRoomCard","sendPack","xianShi","GetIdxByKey","jiesan","hufa","pao","gudingpao","fangjian","fengDing","huPai","kexuanwanfa","gaoji","i","Toggles","length","getChildByName","active","push","OnToggleClick","event","FormManager","CloseForm","subGameName","toggles","target","parent","toggle","key","name","substring","toggleIndex","parseInt","needClearList","needShowIndexList","ClearToggleCheck","UpdateLabelColor","UpdateTogglesLabel","SysNotifyManager","ShowSysMsg","getComponent","Toggle","mark","module","exports"],"mappings":"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","file":"hnzzmjChildCreateRoom.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\hnzzmj","sourcesContent":["/*\n创建房间子界面\n */\nvar app = require(\"app\");\n\nvar hnzzmjChildCreateRoom = cc.Class({\n    extends: require(\"BaseChildCreateRoom\"),\n\n    properties: {\n\n    },\n    //需要自己重写\n    CreateSendPack:function(renshu, setCount, isSpiltRoomCard){\n        let sendPack = {};\n            let xianShi = this.GetIdxByKey('xianShi');\n            let jiesan = this.GetIdxByKey('jiesan');\n            let hufa = this.GetIdxByKey('hufa');\n            let pao = this.GetIdxByKey(\"pao\");\n            let gudingpao = this.GetIdxByKey(\"gudingpao\");\n            let fangjian=[];\n            let fengDing = this.GetIdxByKey('fengDing');\n            let huPai = this.GetIdxByKey('huPai');\n            let kexuanwanfa=[];\n            let gaoji=[];\n            for(let i=0;i<this.Toggles['fangjian'].length;i++){\n                if(this.Toggles['fangjian'][i].getChildByName('checkmark').active){\n                    fangjian.push(i);\n                }\n            }\n            for(let i=0;i<this.Toggles['kexuanwanfa'].length;i++){\n                if(this.Toggles['kexuanwanfa'][i].getChildByName('checkmark').active){\n                    kexuanwanfa.push(i);\n                }\n            }\n            for(let i=0;i<this.Toggles['gaoji'].length;i++){\n                if(this.Toggles['gaoji'][i].getChildByName('checkmark').active){\n                    gaoji.push(i);\n                }\n            }\n            sendPack = {\n                        \"xianShi\":xianShi,\n                        \"jiesan\":jiesan,\n                        \"hufa\":hufa,\n                        \"pao\":pao,\n                        \"gudingpao\":gudingpao,\n                        \"fangjian\":fangjian,\n                        \"fengDing\": fengDing,\n                        \"huPai\": huPai,\n                        //房间默认配置（人数局数支付）\n                        \"playerMinNum\":renshu[0],\n                        \"playerNum\":renshu[1],\n                        \"setCount\":setCount,\n                        \"paymentRoomCardType\":isSpiltRoomCard,\n                        \"gaoji\":gaoji,\n                        \"kexuanwanfa\":kexuanwanfa,\n                        \n            };\n        return sendPack;\n    },\n    OnToggleClick:function(event){\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\n        let toggles = event.target.parent;\n        let toggle = event.target;\n        let key = toggles.name.substring(('Toggles_').length,toggles.name.length);\n        let toggleIndex = parseInt(toggle.name.substring(('Toggle').length,toggle.name.length)) - 1;\n        let needClearList = [];\n        let needShowIndexList = [];\n        needClearList = this.Toggles[key];\n        needShowIndexList.push(toggleIndex);\n        if('jushu' == key || 'renshu' == key || 'fangfei' == key){      \n            this.ClearToggleCheck(needClearList,needShowIndexList);\n            this.UpdateLabelColor(toggles);\n            this.UpdateTogglesLabel(toggles);\n            return;\n        }\n        else if('pao' == key){\n            if(toggleIndex <2){\n                this.ClearToggleCheck(this.Toggles['gudingpao'],[]);\n                this.UpdateLabelColor(this.Toggles['gudingpao'][0].parent);\n            }else{\n                this.ClearToggleCheck(this.Toggles['gudingpao'],[1]);\n                this.UpdateLabelColor(this.Toggles['gudingpao'][1].parent);\n            }\n\n        }\n        else if('gudingpao' == key){\n            if(this.Toggles['pao'][2].getChildByName('checkmark').active==false){\n                app.SysNotifyManager().ShowSysMsg(\"固定跑玩法才能选\", [], 3);\n                return;\n            }\n\n        }\n        else if('kexuanwanfa' == key){\n            // if(toggleIndex <2){\n            //    this.ClearToggleCheck(this.Toggles['fengding'],[1]);\n            //    this.UpdateLabelColor(this.Toggles['fengding'][1].parent);\n            // }\n        }else if('fengding' == key){\n            // if(toggleIndex==0){\n            //    if(this.Toggles['kexuanwanfa'][2].getChildByName('checkmark').active ==false){\n            //         this.ShowSysMsg('梓埠清混才能选择封顶');\n            //         return;\n            //    }\n            // }\n        }\n        else{\n\n        }\n        if(toggles.getComponent(cc.Toggle)){//复选框\n            needShowIndexList = [];\n            for(let i=0;i<needClearList.length;i++){\n                let mark = needClearList[i].getChildByName('checkmark').active;\n                //如果复选框为勾选状态并且点击的复选框不是该复选框，则继续保持勾选状态\n                if(mark && i != toggleIndex){\n                    needShowIndexList.push(i);\n                }\n                //如果复选框为未勾选状态并且点击的复选框是该复选框，则切换为勾选状态\n                else if(!mark && i == toggleIndex){\n                    needShowIndexList.push(i);\n                }\n            }\n        }\n        this.ClearToggleCheck(needClearList,needShowIndexList);\n        this.UpdateLabelColor(toggles,'fangfei' == key ? true : false);\n    },\n});\n\nmodule.exports = hnzzmjChildCreateRoom;"]}