{"version":3,"sources":["pysft_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","prefab_zhadan","Prefab","prefab_card","lb1","Label","lbSportsPoint","OnLoad","ComTool","ShareDefine","PokerCard","GetModel","LOGIC_MASK_COLOR","LOGIC_MASK_VALUE","ShowPlayerJieSuan","ShowPlayerHuaCard","ShowPlayerHuImg","huNode","huTypeName","huType","HuTypeStringDict","getComponent","string","HuType_DianPao","HuType_JiePao","HuType_ZiMo","HuType_QGH","onPlusScore","s","ShowPlayerData","setEnd","playerAll","index","jin1","jin2","dPos","posResultList","posHuArray","Array","posCount","length","i","posInfo","pos","posHuType","PlayerInfo","node","active","UpdatePlayData","getChildByName","WeChatManager","InitHeroHeadImage","weChatHeadImage","ShowHeroHead","posEndList","str","sportsPoint","ShowCardList","parent","allCardList","cardPrefabNode","removeAllChildren","pokerValue","cardNode","instantiate","addChild","tags","name","ShowCard","SortCardKeysFromBigToSmaleByZhangCount","pokers","sameValueObj","GetSameValueObj2","cardValues","Object","keys","idx","Number","SortZhangCountBigToSmale","cards","cardValue","cardList","concat","push","sort","a","b","sameValueList","poker","GetCardValue","allCard","IsSmallPoker","IsBigPoker","IsHuaWang","GetRenderCardValue","GetWanCardPoker","console","error","wanCards","huaWans","isFind","indexOf","HaveBigWang","HaveSmallWang","HaveHuaWang","cardType","sameCardNum","isLastCard","isShowLandowner","hideBg","isRazz","GetPokeCard","createCardNode","paiNode","num","layOutNode","card","createZhaDanNode","zhaDanLayOut","LabelName","huTypeDict","QDHu"],"mappings":"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","file":"pysft_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\pysft","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseMJ_winlost_child\"),\n\n    properties: {\n        prefab_zhadan: cc.Prefab,\n        prefab_card: cc.Prefab,\n        lb1: cc.Label,\n        lbSportsPoint: cc.Label\n    },\n\n    // use this for initialization\n    OnLoad: function () {\n        this.ComTool = app.ComTool();\n        this.ShareDefine = app.ShareDefine();\n        this.PokerCard = require(\"jayxddz_PokerCard\").GetModel();\n        this.LOGIC_MASK_COLOR = 0xF0;\n        this.LOGIC_MASK_VALUE = 0x0F;\n    },\n    ShowPlayerJieSuan() {\n\n    },\n    ShowPlayerHuaCard() {\n\n    },\n    ShowPlayerHuImg: function (huNode, huTypeName) {\n        /*huLbIcon\n         *  0:单吊，1：点炮，2：单游，3：胡，4：六金，5：平胡，6:抢杠胡 7:抢金，8：三游，9：四金倒，10：三金倒，11：三金游，12：十三幺\n         *  13：双游，14：天胡，15：五金，16：自摸 17:接炮\n         */\n        let huType = this.ShareDefine.HuTypeStringDict[huTypeName];\n        if (typeof (huType) == \"undefined\") {\n            huNode.getComponent(cc.Label).string = '';\n        } else if (huType == this.ShareDefine.HuType_DianPao) {\n            huNode.getComponent(cc.Label).string = '点泡';\n        } else if (huType == this.ShareDefine.HuType_JiePao) {\n            huNode.getComponent(cc.Label).string = '接炮';\n        } else if (huType == this.ShareDefine.HuType_ZiMo) {\n            huNode.getComponent(cc.Label).string = '自摸';\n        } else if (huType == this.ShareDefine.HuType_QGH) {\n            huNode.getComponent(cc.Label).string = '抢杠胡';\n        } else {\n            huNode.getComponent(cc.Label).string = '';\n        }\n    },\n\n    onPlusScore(s) {\n        if (s > 0) {\n            return '+' + s;\n        }\n        return s;\n    },\n\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        let jin1 = setEnd.jin1;\n        let jin2 = setEnd.jin2;\n        let dPos = setEnd.dPos;\n        let posResultList = setEnd[\"posResultList\"];\n        // console.error(\"posResultList\", posResultList);\n        let posHuArray = new Array();\n        let posCount = posResultList.length;\n        for (let i = 0; i < posCount; i++) {\n            let posInfo = posResultList[i];\n            let pos = posInfo[\"pos\"];\n            let posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n            posHuArray[pos] = posHuType;\n        }\n        let PlayerInfo = playerAll[index];\n        this.node.active = true;\n        this.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2);\n        let huNode = this.node.getChildByName('jiesuan').getChildByName('hutype');\n        this.ShowPlayerHuImg(huNode, posResultList[index]['huType']);\n\n        if (dPos === index) {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n        }\n        //显示头像，如果头像UI\n        if (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n\n\n        //\n        let posEndList = posResultList[index];\n\n        //显示头游\n        let str = '';\n        //输赢分\n        // str += '捡分:';\n        // str += this.onPlusScore(posEndList[\"count510KPoint\"]) + '  ';\n\n        // //赏数\n        // str += '墩分:';\n        // str += this.onPlusScore(posEndList[\"dunPoint\"]) + '  ';\n\n        // //赏数\n        // str += '墩数:';\n        // let boomRewardTotal = posEndList[\"boomRewardTotal\"];\n        // // let minBoomRewardTotal = posEndList[\"minBoomRewardTotal\"];\n        // // let subOne = posEndList[\"subOne\"];\n        // // let subTwo = posEndList[\"subTwo\"];\n        // // str += boomRewardTotal + \"(\" + subOne + \"-\" + subTwo + \")\" + '  ';\n        // str += boomRewardTotal + '  ';\n\n        // str += '总分:';\n        // str += this.onPlusScore(posEndList.point) + '  ';\n\n        this.lb1.string = str;\n\n        if (typeof (posEndList.sportsPoint) != \"undefined\") {\n            this.lbSportsPoint.string = '比赛分:' + posEndList.sportsPoint;\n        } else {\n            this.lbSportsPoint.string = '';\n        }\n        // posEndList.dunCardList = [\n        //     403\n        // 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E,   //方块 2-A\n        // 0x13, 0x14, 0x32, 0x16, 0x17, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E,   //梅花 2-A\n        // 0x13, 0x14, 0x32, 0x16, 0x17, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E,   //梅花 2-A\n        // 0x43,\n        // 0x02,\n\n        // 0x15, 0x15, 0x15, 0x15, 0x15, 0x15,\n        // 0x041,\n        // 146,\n        // 0x042,\n        // 0x02,\n        // 0x12,\n        // 0x22,\n        // 0x32,\n        // 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n        // 0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1F,\n        // 0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x2B, 0x2C, 0x2D, 0x2E, 0x2F,\n        // 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A, 0x3B, 0x3C, 0x3D, 0x3E, 0x3F,\n        // 0x0E,\n        // 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E,   //方块 2-A\n        // 0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E,   //梅花 2-A\n        // 0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x2B, 0x2C, 0x2D, 0x2E,   //红桃 2-A\n        // 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A,\n        // 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A,\n        // 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A,\n        // 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A,\n        // // 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A, 0x3B, 0x3C, 0x3D, 0x3E,\n\n        // 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E,   //方块 2-A\n        // 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E,   //梅花 2-A\n        // 0x23, 0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x2B, 0x2C, 0x2D, 0x2E,   //红桃 2-A\n        // 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A,\n        // 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A,\n        // 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A,\n        // 67,\n        // 0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4A, 0x4B, 0x4C, 0x4D, 0x4E, 0x4F, //花王\n        // 0x93, 0x94, 0x95, 0x96, 0x97, 0x98, 0x99, 0x9A, 0x9B, 0x9C, 0x9D, 0x9E, 0x9F //花王\n        // ];\n        // this.ShowCardList(this.node.getChildByName(\"cardList\"), posEndList.dunCardList);\n        // this.ShowCardList(this.node.getChildByName(\"cardList\"), posEndList.shouCard);\n\n\n        //\n        // if (posEndList.totalPoint > 0) {\n        //     PlayerNode.getChildByName('lb_zdf').getComponent(cc.Label).string = \"+\" + posEndList.totalPoint;\n        // } else {\n        //     PlayerNode.getChildByName('lb_zdf').getComponent(cc.Label).string = posEndList.totalPoint;\n        // }\n\n        //显示牌\n        /*let prizeCardList = [];\n         let zhaDanLayOut = this.node.getChildByName('zhadan');\n         zhaDanLayOut.removeAllChildren();\n         console.log('当前显示的玩家是', posEndList);\n         let prizeCard = posEndList.prizeCardList;//[cardList:{}]\n         for (let l = 0; l < prizeCard.length; l++) {\n         prizeCardList.push(prizeCard[l]);\n         this.createZhaDanNode(zhaDanLayOut, l);\n         }\n\n         for (let j = 0; j < zhaDanLayOut.children.length; j++) {\n         let paiNode = zhaDanLayOut.getChildByName('zhadan' + j);\n         if (prizeCardList[j]) {\n         let pailist = prizeCardList[j].slice(2,prizeCardList[j].length);\n         let zhashu = pailist.length;\n         paiNode.getChildByName('lb_num').getComponent(cc.Label).string = 'x' + zhashu;\n         let num = zhashu;\n         this.createCardNode(paiNode, num);\n         for (let k = 0; k < num; k++) {\n         let cardNode = paiNode.getChildByName('layout').getChildByName('handCard' + (k + 1));\n         let cardValue = pailist[k];\n         if (cardValue) {\n         let cardRealValue = this.PokerCard.GetCardValue(cardValue);\n         let isRazz=false;\n         if(cardRealValue==19){\n         isRazz=true;\n         cardValue=pailist[0];  //换成癞子显示\n         }\n         if (k + 1 == pailist.length) {\n         this.ShowCard(cardValue, cardNode,num, true, false, false, isRazz);\n         } else {\n         this.ShowCard(cardValue, cardNode,0, false, false, false, isRazz);\n         }\n         cardNode.active = true;\n         } else {\n         cardNode.active = false;\n         }\n\n         }\n         paiNode.active = true;\n         } else {\n         paiNode.active = false;\n         }\n\n         }*/\n    },\n\n\n    // ShowCardList: function (parent, allCardList) {\n    //     let cardPrefabNode = this.node.getChildByName(\"cardPrefab\");\n    //     let shouCard = this.SortCardKeysFromBigToSmaleByZhangCount(allCardList);\n    //     let sameValueObj = this.GetSameValueObj2(allCardList);\n    //     console.error(\"shouCard: \", shouCard);\n    //     console.error(\"sameValueObj: \", sameValueObj);\n    //     parent.removeAllChildren();\n    //     for (let i = 0; i < shouCard.length; i++) {\n    //         let pokerValue = shouCard[i];\n    //         let cardNode = cc.instantiate(cardPrefabNode);\n    //         parent.addChild(cardNode);\n    //         cardNode.pokerValue = pokerValue;\n    //         cardNode.tags = pokerValue;\n    //         cardNode.name = \"handCard\" + (i + 1);\n    //         cardNode.active = true;\n    //         let cardValue = this.GetCardValue(pokerValue, shouCard);\n    //         let cardList = sameValueObj[cardValue];\n    //         if (!cardList) {\n    //             console.error(\"cardValue 不存在===========: \", cardValue, pokerValue);\n    //             cardList = [];\n    //         } else {\n    //             console.error(\"cardValue ===========: \", cardValue, cardList);\n    //         }\n    //         let pokerNum = cardList.length > 3 ? cardList.length : 0;\n    //         // 有花王牌面则显示花王\n    //         // 有大王牌面则显示大王\n    //         // 有小王牌面则显示大王\n    //         if (cardValue == 17 && cardList.length >= 4) {\n    //             if (this.HaveHuaWang(cardList)) {\n    //                 pokerValue = 0x43;\n    //             } else if (this.HaveBigWang(cardList)) {\n    //                 pokerValue = 0x42;\n    //             } else {\n    //                 pokerValue = 0x41;\n    //             }\n    //         }\n\n    //         if (i + 1 == shouCard.length) {\n    //             this.ShowCard(pokerValue, cardNode, pokerNum, true, false, false, false, cardValue);\n    //         } else {\n    //             this.ShowCard(pokerValue, cardNode, pokerNum, false, false, false, false, cardValue);\n    //         }\n    //     }\n    // },\n\n\n\n    ShowCardList: function (parent, allCardList) {\n        let cardPrefabNode = this.node.getChildByName(\"cardPrefab\");\n        parent.removeAllChildren();\n        for (let i = 0; i < allCardList.length; i++) {\n            let pokerValue = allCardList[i];\n            let cardNode = cc.instantiate(cardPrefabNode);\n            parent.addChild(cardNode);\n            cardNode.pokerValue = pokerValue;\n            cardNode.tags = pokerValue;\n            cardNode.name = \"handCard\" + (i + 1);\n            cardNode.active = true;\n            if (i + 1 == allCardList.length) {\n                this.ShowCard(pokerValue, cardNode, 0, true, false, false, false);\n            } else {\n                this.ShowCard(pokerValue, cardNode, 0, false, false, false, false);\n            }\n        }\n    },\n\n    SortCardKeysFromBigToSmaleByZhangCount: function (pokers) {\n        let sameValueObj = this.GetSameValueObj2(pokers);\n        let cardValues = Object.keys(sameValueObj);\n\n        for (let idx = 0; idx < cardValues.length; idx++) {\n            cardValues[idx] = Number(cardValues[idx]);\n        }\n        // this.SortCardByMax(cardValues);// 大到小\n        this.SortZhangCountBigToSmale(cardValues, sameValueObj);\n\n        let cards = [];\n        for (let i = 0; i < cardValues.length; i++) {\n            let cardValue = cardValues[i];\n            let cardList = sameValueObj[cardValue];\n            if (cardList.length < 4) {\n                cards = cards.concat(cardList);\n            } else {\n                cards.push(cardList[0]);\n            }\n        }\n        return cards;\n    },\n\n    SortZhangCountBigToSmale: function (cardValues, sameValueObj) {\n        cardValues.sort(function (a, b) {\n            return sameValueObj[b].length - sameValueObj[a].length;\n        });\n    },\n\n    GetSameValueObj2: function (pokers) {\n        let sameValueList = {};\n        for (let i = 0; i < pokers.length; i++) {\n            let poker = pokers[i];\n            let pokerValue = this.GetCardValue(poker, pokers);\n            // if (this.IsLaiZiCard(poker)) {\n            //     // 除癞子牌和大小王\n            //     continue;\n            // }\n\n            sameValueList[pokerValue] = sameValueList[pokerValue] || [];\n            sameValueList[pokerValue].push(poker);\n        }\n        return sameValueList;\n    },\n\n    //获取牌值\n    GetCardValue: function (poker, allCard) {\n        // this.wanCards = this.GetWanCardPoker(allCard);\n        // if (this.wanCards.length >= 4) {\n        //     if (this.IsSmallPoker(poker) ||\n        //         this.IsBigPoker(poker) ||\n        //         this.IsHuaWang(poker)) {\n        //         return 17;\n        //     }\n        // } else {\n        //     if (this.IsSmallPoker(poker)) {\n        //         return 17;\n        //     }\n\n        //     if (this.IsBigPoker(poker)) {\n        //         return 18;\n        //     }\n\n        //     if (this.IsHuaWang(poker)) {\n        //         return 18;\n        //     }\n        // }\n        if (this.IsSmallPoker(poker)) {\n            return 17;\n        }\n\n        if (this.IsBigPoker(poker)) {\n            return 18;\n        }\n\n        if (this.IsHuaWang(poker)) {\n            return 18;\n        }\n\n        poker = poker & this.LOGIC_MASK_VALUE;\n\n        if (poker == 2) {\n            return 15;\n        }\n\n        return poker;\n    },\n\n    GetRenderCardValue: function (poker) {\n        if (this.IsSmallPoker(poker)) {\n            return 17;\n        }\n\n        if (this.IsBigPoker(poker)) {\n            return 18;\n        }\n\n        if (this.IsHuaWang(poker)) {\n            return 19;\n        }\n\n        // if (this.IsSmallPoker(poker) ||\n        //     this.IsBigPoker(poker) ||\n        //     this.IsHuaWang(poker)) {\n        //     return 17;\n        // }\n\n        poker = poker & this.LOGIC_MASK_VALUE;\n\n        if (poker == 2) {\n            return 15;\n        }\n\n        return poker;\n    },\n\n    GetWanCardPoker: function (pokers) {\n        if (!pokers) {\n            console.error(\"pokers: \", pokers);\n        }\n        let wanCards = [];\n        for (let i = 0; i < pokers.length; i++) {\n            let poker = pokers[i];\n            if (this.IsSmallPoker(poker) ||\n                this.IsBigPoker(poker) ||\n                this.IsHuaWang(poker)) {\n                wanCards.push(poker);\n            }\n        }\n        return wanCards;\n    },\n\n    IsBigPoker: function (poker) {\n        poker = poker % 80;\n        if (poker == 66) {\n            return true;\n        }\n        return false;\n    },\n\n    IsSmallPoker: function (poker) {\n        poker = poker % 80;\n        if (poker == 65) {\n            return true;\n        }\n        return false;\n    },\n\n    IsHuaWang: function (poker) {\n        let huaWans = [\n            0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4A, 0x4B, 0x4C, 0x4D, 0x4E, 0x4F, //花王\n            0x93, 0x94, 0x95, 0x96, 0x97, 0x98, 0x99, 0x9A, 0x9B, 0x9C, 0x9D, 0x9E, 0x9F\n        ];\n        let isFind = huaWans.indexOf(poker) > -1;\n        return isFind;\n    },\n\n    HaveBigWang: function (pokers) {\n        for (let i = 0; i < pokers.length; i++) {\n            let poker = pokers[i];\n            if (this.IsBigPoker(poker)) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n    HaveSmallWang: function (pokers) {\n        for (let i = 0; i < pokers.length; i++) {\n            let poker = pokers[i];\n            if (this.IsSmallPoker(poker)) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n    HaveHuaWang: function (pokers) {\n        for (let i = 0; i < pokers.length; i++) {\n            let poker = pokers[i];\n            if (this.IsHuaWang(poker)) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n    ShowCard: function (cardType, cardNode, sameCardNum, isLastCard, isShowLandowner = false, hideBg = false, isRazz = false, cardValue) {\n        cardNode.active = true;\n        if (cardType == 0) {\n            cardNode.getChildByName(\"poker_back\").active = true;\n            return;\n        } else {\n            cardNode.getChildByName(\"poker_back\").active = false;\n        }\n        this.PokerCard.GetPokeCard(cardType, cardNode, sameCardNum, isLastCard, isShowLandowner, hideBg, isRazz, cardValue);\n    },\n\n    createCardNode: function (paiNode, num) {\n        let layOutNode = paiNode.getChildByName('layout');\n        layOutNode.removeAllChildren();\n        for (let i = 1; i < num + 1; i++) {\n            let card = cc.instantiate(this.prefab_card);//this# two\n            card.name = \"handCard\" + i;\n            layOutNode.addChild(card);\n        }\n    },\n\n    createZhaDanNode: function (zhaDanLayOut, num) {\n        //\n        let card = cc.instantiate(this.prefab_zhadan);//this# one\n        card.name = \"zhadan\" + num;\n        zhaDanLayOut.addChild(card);\n    },\n\n    LabelName: function (huType) {\n        let huTypeDict = {\n            QDHu: \"七对胡\",\n        };\n        return huTypeDict[huType];\n    },\n});\n"]}