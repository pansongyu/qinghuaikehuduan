{"version":3,"sources":["UIRecordAllResult_glwsk.js"],"names":["app","require","cc","Class","extends","properties","roomID","Node","jushu","endTime","players","page_search","EditBox","cardPrefab","Prefab","icon_you","SpriteFrame","icon_rank","GetProperty","rankscore1","node","getChildByName","rankscore2","OnCreateInit","FormManager","ComTool","ShareDefine","SDKManager","NetManager","WeChatManager","PokerCard","gametypeConfig","SysDataManager","GetTableDict","RegEvent","Event_GameRecord","lastChildName","lastRoomId","OnShow","roomId","playerAll","gameType","unionId","GametTypeID2PinYin","path","ShowForm","getWndNodePath","active","InitNode","LoadPrefabByGameType","prefabPath","that","ControlManager","CreateLoadPromise","then","prefab","ErrLog","catch","error","stack","nowChildName","alldata","page","maxpage","SendPack","bind","InitPlayers","AddNode","GetWndNode","i","length","PlayerSon","instantiate","name","addChild","ShowRoomInfo","roomEndResult","setID","time","getComponent","Label","string","GetDateYearMonthDayHourMinuteString","playBackCode","parent","find","actvie","serverPack","pSetRoomRecords","playbackCode","ShowData","SetPageLabel","data","Str2Json","dataJsonRes","posEndList","dPos","winLostList","SortGroups","InitShowPlayerInfo","console","log","posResultList","allPosResultList","CheckIsFenZu","yiYouList","erYouList","sanYouList","siYouList","noList","endType","push","concat","AList","BList","ranksType","zongPoint","setAllPoint","sportsPoint","SetWndProperty","children","PlayerNode","pos","playerInfo","substring","WeChatHeadImage","onLoad","ShowHeroHead","Sprite","spriteFrame","shouCard","layout","removeAllChildren","AddShouCard","finishOrder","record","tip6","GetPointValues","paiMianPoint","jiangFaPoint","point","cardList","SortCardByMax","cardValue","cardNode","GetPokeCard","pokers","self","sort","a","b","GetCardValue","OnClick","btnName","btnNode","CloseForm","SysNotifyManager","ShowSysMsg","Click_btn_Share","OnPack_VideoData","OnVideoFailed","isNaN","parseInt","Client","VideoCheckSubGame","Name","toLowerCase","heroName","HeroManager","GetHeroProperty","gameId","GametTypeNameDict","toUpperCase","gameName","GametTypeID2Name","title","desc","heroID","cityId","weChatAppShareUrl","GetClientConfigProperty","Share","jsondata","json","JSON","parse","poker","type","type1","type2","num","cardColor","GetCardColor","numNode","numSp","iconSp","icon1_Sp","pokerDict","LOGIC_MASK_VALUE","color","LOGIC_MASK_COLOR"],"mappings":"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","file":"UIRecordAllResult_glwsk.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\glwsk","sourcesContent":["var app = require(\"app\");\ncc.Class({\n\textends: require(\"BaseForm\"),\n\n\tproperties: {\n\t\troomID: cc.Node,\n\t\tjushu: cc.Node,\n\t\tendTime: cc.Node,\n\t\tplayers: cc.Node,\n\t\tpage_search: cc.EditBox,\n\t\tcardPrefab:cc.Prefab,\n\t\ticon_you: [cc.SpriteFrame],\n\t\ticon_rank: [cc.SpriteFrame],\n\t},\n\t //获取控件节点\n    GetProperty: function() {\n    \tthis.rankscore1 = this.node.getChildByName(\"rankscore1\");\n    \tthis.rankscore2 = this.node.getChildByName(\"rankscore2\");\n    },\n\tOnCreateInit: function() {\n\t\tthis.FormManager = app.FormManager();\n\t\tthis.ComTool = app.ComTool();\n\t\tthis.ShareDefine = app.ShareDefine();\n\t\tthis.SDKManager = app.SDKManager();\n\t\tthis.NetManager = app.NetManager();\n\t\tthis.WeChatManager = app.WeChatManager();\n\t\tthis.PokerCard = app.PokerCard();\n\t\tthis.gametypeConfig = app.SysDataManager().GetTableDict(\"gametype\");\n\t\tthis.RegEvent(\"GameRecord\", this.Event_GameRecord, this);\n\t\tthis.lastChildName = null;\n\t\tthis.lastRoomId = 0;\n\t\tthis.GetProperty();\n\t},\n\tOnShow: function(roomId, playerAll, gameType, unionId = 0) {\n\t\tthis.gameType = this.ShareDefine.GametTypeID2PinYin[gameType];\n\t\tlet path = \"ui/uiGame/\" + this.gameType + \"/UIRecordAllResult_\" + this.gameType;\n\t\tthis.FormManager.ShowForm(\"UITop\", path);\n\t\tthis.playerAll = playerAll;\n\t\tthis.roomId = roomId;\n\t\tthis.unionId = unionId;\n\t\tthis.getWndNodePath = \"players\";\n\t\tthis.rankscore1.active = false;\n\t\tthis.rankscore2.active = false;\n\t\t//动态生成节点\n\t\t// this.LoadPrefabByGameType();\n\t\tthis.InitNode();\n\t},\n\tLoadPrefabByGameType: function() {\n\t\tlet prefabPath = \"ui/uiGame/\" + this.gameType + \"/\" + this.gameType + \"_winlost_child\";\n\t\tlet that = this;\n\t\tapp.ControlManager().CreateLoadPromise(prefabPath, cc.Prefab)\n\t\t\t.then(function(prefab) {\n\t\t\t\tif (!prefab) {\n\t\t\t\t\tthat.ErrLog(\"LoadPrefabByGameType(%s) load spriteFrame fail\", prefabPath);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthat.InitNode(prefab);\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tthat.ErrLog(\"LoadPrefabByGameType(%s) error:%s\", prefabPath, error.stack);\n\t\t\t});\n\t},\n\tInitNode: function(prefab) {\n\t\t// let Player1Node = cc.instantiate(prefab);\n\t\t// this.nowChildName = Player1Node.name;\n\t\t// if (this.lastChildName != null && this.lastChildName == this.nowChildName &&\n\t\t// \tthis.lastRoomId == this.roomId) {\n\t\t// \t//子节点跟之前一样，无需重新创建，直接return\n\t\t// \t//由于未结束的战绩会时时改变，所以不能return\n\t\t// \t// return;\n\t\t// }\n\t\t//清空之前的节点,生成新的节点\n\t\tthis.lastChildName = this.nowChildName;\n\t\tthis.lastRoomId = this.roomId;\n\t\t// this.DestroyAllChildren(this.players);\n\t\t// Player1Node.name = 'player1';\n\t\t// this.players.addChild(Player1Node);\n\t\t// this.InitPlayers();\n\t\tthis.alldata = false;\n\t\tthis.page = 1;\n\t\tthis.maxpage = 0;\n\t\tthis.NetManager.SendPack(\"game.CPlayerSetRoomRecord\", {\n\t\t\t\"roomID\": this.roomId\n\t\t}, this.Event_GameRecord.bind(this));\n\t},\n\tInitPlayers: function() {\n\t\tlet AddNode = this.GetWndNode(this.getWndNodePath + '/player1');\n\t\tfor (let i = 2; i <= this.playerAll.length; i++) {\n\t\t\tlet PlayerSon = cc.instantiate(AddNode);\n\t\t\tPlayerSon.name = 'player' + i;\n\t\t\tPlayerSon.active = false;\n\t\t\tthis.players.addChild(PlayerSon);\n\t\t}\n\t},\n\tShowRoomInfo: function(roomEndResult) {\n\t\tlet setID = roomEndResult[\"setID\"];\n\t\tlet time = roomEndResult[\"endTime\"];\n\t\tif (setID > 0) {\n\t\t\tthis.jushu.active = true;\n\t\t\tthis.jushu.getComponent(cc.Label).string = \"第\" + setID + \"局\";\n\t\t} else {\n\t\t\tthis.jushu.active = false;\n\t\t}\n\n\t\tthis.endTime.getComponent(cc.Label).string = this.ComTool.GetDateYearMonthDayHourMinuteString(time);\n\t\tif (this.playBackCode > 0) {\n\t\t\tthis.node.getChildByName('btn_replay').active = true;\n\t\t\tthis.node.getChildByName('btn_share').active = true;\n\t\t\tthis.endTime.parent.getChildByName(\"backCode\").getComponent(cc.Label).string = \"回放码:\" + this.playBackCode;\n\t\t\tcc.find('btn_replay', this.node).actvie = true;\n\t\t} else {\n\t\t\tthis.node.getChildByName('btn_replay').active = false;\n\t\t\tthis.node.getChildByName('btn_share').active = false;\n\t\t\tthis.endTime.parent.getChildByName(\"backCode\").getComponent(cc.Label).string = \"\";\n\t\t\tcc.find('btn_replay', this.node).actvie = false;\n\t\t}\n\t},\n\tEvent_GameRecord: function(serverPack) {\n\t\tthis.alldata = serverPack.pSetRoomRecords;\n\t\tthis.maxpage = serverPack.pSetRoomRecords.length;\n\t\tthis.playBackCode = serverPack.pSetRoomRecords[0].playbackCode;\n\t\tthis.ShowData(this.page);\n\t},\n\tShowData: function() {\n\t\tthis.SetPageLabel();\n\t\tlet data = this.Str2Json(this.alldata[this.page - 1].dataJsonRes);\n\t\tthis.playBackCode = this.alldata[this.page - 1].playbackCode;\n\t\tlet posEndList = data[\"posResultList\"];\n\t\tthis.dPos = data[\"dPos\"]\n\t\tlet winLostList = this.SortGroups(posEndList);\n\t\tthis.InitShowPlayerInfo(winLostList);\n\t\tthis.ShowRoomInfo(this.alldata[this.page - 1]);\n\t\tconsole.log(\"InitShowPlayerInfo\", data);\n\t},\n\t//分组\n\tSortGroups: function (posResultList) {\n\t\tlet allPosResultList = [];\n\t\t//按游数排序\n\t\tif(!this.CheckIsFenZu(posResultList)){\n\t\t\tlet yiYouList = [];\n\t\t\tlet erYouList = [];\n\t\t\tlet sanYouList = [];\n\t\t\tlet siYouList = [];\n\t\t\tlet noList = [];\n\t\t\tfor (let i = 0; i < posResultList.length; i++) {\n\t\t\t\tlet endType = posResultList[i][\"endType\"];\n\t\t\t\tif (endType == \"ONE\") {\n\t\t\t\t\tyiYouList.push(posResultList[i]);\n\t\t\t\t} else if (endType == \"TWO\") {\n\t\t\t\t\terYouList.push(posResultList[i]);\n\t\t\t\t} else if (endType == \"THREE\") {\n\t\t\t\t\tsanYouList.push(posResultList[i]);\n\t\t\t\t} else if (endType == \"FOUR\") {\n\t\t\t\t\tsiYouList.push(posResultList[i]);\n\t\t\t\t} else{\n\t\t\t\t\tnoList.push(posResultList[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tallPosResultList = yiYouList.concat(erYouList, sanYouList, siYouList, noList);\n\t\t\treturn allPosResultList;\n\t\t}\n\n\t\t\n\t\t//按分组排序\n\t\tlet AList = [];\n\t\tlet BList = [];\n\t\tfor (let i = 0; i < posResultList.length; i++) {\n\t\t\tlet ranksType = posResultList[i][\"ranksType\"];\n\t\t\tif (ranksType == 1) {\n\t\t\t\tAList.push(posResultList[i]);\n\t\t\t} else {\n\t\t\t\tBList.push(posResultList[i]);\n\t\t\t}\n\t\t}\n\t\tthis.rankscore1.active = true;\n\t\tthis.rankscore1.getChildByName(\"jifen\").getComponent(cc.Label).string = AList[0].zongPoint;\n\t\tthis.rankscore1.getChildByName(\"point\").getComponent(cc.Label).string = AList[0].setAllPoint;\n\t\tif(typeof(AList[0].sportsPoint) != \"undefined\"){\n\t\t\tthis.rankscore1.getChildByName(\"sportspoint\").getComponent(cc.Label).string = AList[0].sportsPoint;\n\t\t}else{\n\t\t\tthis.rankscore1.getChildByName(\"sportspoint\").getComponent(cc.Label).string = \"\";\n\t\t}\n\n\t\tthis.rankscore2.active = true;\n\t\tthis.rankscore2.getChildByName(\"jifen\").getComponent(cc.Label).string = BList[0].zongPoint;\n\t\tthis.rankscore2.getChildByName(\"point\").getComponent(cc.Label).string = BList[0].setAllPoint;\n\t\tif(typeof(BList[0].sportsPoint) != \"undefined\"){\n\t\t\tthis.rankscore2.getChildByName(\"sportspoint\").getComponent(cc.Label).string = BList[0].sportsPoint;\n\t\t}else{\n\t\t\tthis.rankscore2.getChildByName(\"sportspoint\").getComponent(cc.Label).string = \"\";\n\t\t}\n\n\t\tallPosResultList = AList.concat(BList);\n\t\treturn allPosResultList;\n\t},\n\tSetPageLabel: function() {\n\t\tthis.SetWndProperty(\"page/editbox_page\", \"text\", this.page + \"/\" + this.maxpage);\n\t\tthis.SetWndProperty(\"page2/editbox_page\", \"text\", this.page);\n\t},\n\tInitShowPlayerInfo: function(posEndList) {\n\t\t//隐藏节点\n\t\tfor (let i = 0; i < this.players.children.length; i++) {\n\t\t\tthis.players.children[i].active = false;\n\t\t}\n\n\t\tfor (let i = 0; i < posEndList.length; i++) {\n\t\t\tlet PlayerNode = this.players.children[i];\n\t\t\tlet pos = posEndList[i].pos;\n\t\t\tlet playerInfo = this.playerAll[pos];\n\t\t\t//显示玩家姓名\n\t\t\tPlayerNode.getChildByName(\"userInfo\").getChildByName('lb_name').getComponent(cc.Label).string = playerInfo[\"name\"].substring(0,5) + \"...\";\n\t\t\tlet WeChatHeadImage = PlayerNode.getChildByName(\"userInfo\").getChildByName('head').getComponent(\"WeChatHeadImage\");\n\t\t\tWeChatHeadImage.onLoad();\n\t\t\tWeChatHeadImage.ShowHeroHead(playerInfo[\"pid\"]);\n\t\t\t//显示分组\n\t\t\tif(!this.CheckIsFenZu(posEndList)){\n\t\t\t\tPlayerNode.getChildByName(\"userInfo\").getChildByName('rankstype').getComponent(cc.Sprite).spriteFrame = \"\";\n\t\t\t}else{\n\t\t\t\tlet ranksType = posEndList[i].ranksType; //游数  0为默认值\n\t\t\t\tif(ranksType == 0){\n\t\t\t\t\tPlayerNode.getChildByName(\"userInfo\").getChildByName('rankstype').getComponent(cc.Sprite).spriteFrame = \"\";\n\t\t\t\t}else{\n\t\t\t\t\tPlayerNode.getChildByName(\"userInfo\").getChildByName('rankstype').getComponent(cc.Sprite).spriteFrame = this.icon_rank[ranksType - 1];\n\t\t\t\t}\n\t\t\t}\n\t\t\tPlayerNode.getChildByName(\"userInfo\").getChildByName('zhuang').active = (this.dPos == pos);\n\n\t\t\t//显示剩余手牌\n\t\t\tlet shouCard = posEndList[i].shouCard;\n\t\t\tlet layout = PlayerNode.getChildByName(\"shoucard\").getChildByName(\"layout\");\n\t\t\tlayout.removeAllChildren();\n\t\t\tthis.AddShouCard(layout, shouCard);\n\t\t\t\n\t\t\tif(shouCard.length > 0){\n\t\t\t\tPlayerNode.getChildByName(\"userInfo\").getChildByName('you').getComponent(cc.Sprite).spriteFrame = this.icon_you[3];\n\t\t\t}else{\n\t\t\t\t//显示头游\n\t\t\t\tlet endType = posEndList[i].endType; //游数  0为默认值\n\t\t\t\tlet finishOrder = 0;\n\t\t\t\tif (endType == \"ONE\") {\n\t\t\t\t\tfinishOrder = 1;\n\t\t\t\t} else if (endType == \"TWO\") {\n\t\t\t\t\tfinishOrder = 2;\n\t\t\t\t} else if (endType == \"THREE\") {\n\t\t\t\t\tfinishOrder = 3;\n\t\t\t\t} else if (endType == \"FOUR\") {\n\t\t\t\t\tfinishOrder = 4;\n\t\t\t\t} else {\n\t\t\t\t\tfinishOrder = -1;\n\t\t\t\t}\n\t\t\t\tif (finishOrder > 0) {\n\t\t\t\t\tPlayerNode.getChildByName(\"userInfo\").getChildByName('you').getComponent(cc.Sprite).spriteFrame = this.icon_you[finishOrder - 1];\n\t\t\t\t} else {\n\t\t\t\t\tPlayerNode.getChildByName(\"userInfo\").getChildByName('you').getComponent(cc.Sprite).spriteFrame = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\t//分数\n\t\t\tlet record = PlayerNode.getChildByName('record');\n\t\t\tlet tip6 = this.node.getChildByName(\"tipNode\").getChildByName(\"tip6\");\n\t\t\t//根据分组判断是否显示总积分\n\t\t\trecord.getChildByName(\"jifen\").active = !this.CheckIsFenZu(posEndList);\n\t\t\trecord.getChildByName(\"jifen\").getComponent(cc.Label).string = this.GetPointValues(posEndList[i].zongPoint);\n\t\t\trecord.getChildByName(\"paimianfen\").getComponent(cc.Label).string = this.GetPointValues(posEndList[i].paiMianPoint);\n\t\t\trecord.getChildByName(\"jiangfafen\").getComponent(cc.Label).string = this.GetPointValues(posEndList[i].jiangFaPoint);\n\n\t\t\trecord.getChildByName(\"point\").active = !this.CheckIsFenZu(posEndList);\n\t\t\trecord.getChildByName(\"point\").getComponent(cc.Label).string = this.GetPointValues(posEndList[i].setAllPoint);\n\n\t\t\trecord.getChildByName(\"sportspoint\").active = !this.CheckIsFenZu(posEndList);\n\t\t\tif(typeof(posEndList[i].sportsPoint) != \"undefined\"){\n\t\t\t\ttip6.active = true;\n\t\t\t\trecord.getChildByName(\"sportspoint\").getComponent(cc.Label).string = this.GetPointValues(posEndList[i].sportsPoint);\n\t\t\t}else{\n\t\t\t\ttip6.active = false;\n\t\t\t\trecord.getChildByName(\"sportspoint\").getComponent(cc.Label).string = \"\";\n\t\t\t}\n\n\t\t\t// if (posEndList[i].pos == clientPos) {\n\t\t\t// \tif (posEndList[i].point > 0) {\n\t\t\t// \t\tthis.PlayGameSound(\"win\");\n\t\t\t// \t} else if (posEndList[i].point < 0) {\n\t\t\t// \t\tthis.PlayGameSound(\"lost\");\n\t\t\t// \t}\n\n\t\t\t// }\n\t\t\tPlayerNode.active = true;\n\t\t}\n\t},\n\tGetPointValues:function(point){\n\t\tif(point > 0){\n\t\t\treturn \"+\" + point;\n\t\t}\n\t\treturn point;\n\t},\n\tCheckIsFenZu: function(posEndList){\n\t\tif(posEndList[0].ranksType == 0){\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\tAddShouCard:function(node, cardList){\n\t\tthis.SortCardByMax(cardList);\n\t\tfor (let i = 0; i < cardList.length; i++) {\n\t\t\tlet cardValue = cardList[i];\n\t\t\tlet cardNode = cc.instantiate(this.cardPrefab);\n\t\t\tcardNode.active = true;\n\t\t\tthis.GetPokeCard(cardValue, cardNode);\n\t\t\tnode.addChild(cardNode);\n\t\t}\n\t},\n\tSortCardByMax: function (pokers) {\n\t\tlet self = this;\n\t\tpokers.sort(function (a, b) {\n\t\t\t//return (b&0x0F) - (a&0x0F);\n\t\t\treturn self.GetCardValue(b) - self.GetCardValue(a);\n\t\t});\n\t},\n\t//---------点击函数---------------------\n\tOnClick: function(btnName, btnNode) {\n\t\tif (btnName == \"btn_close\") {\n\t\t\tthis.CloseForm();\n\t\t} else if (btnName == \"btn_last\") {\n\t\t\tif (this.page == 1) {\n\t\t\t\tapp.SysNotifyManager().ShowSysMsg(\"NowFirstPage\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.page -= 1;\n\t\t\tthis.ShowData();\n\t\t} else if (btnName == \"btn_next\") {\n\t\t\tif (this.page == this.maxpage) {\n\t\t\t\tapp.SysNotifyManager().ShowSysMsg(\"NowLastPage\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.page += 1;\n\t\t\tthis.ShowData();\n\t\t} else if (btnName == \"btn_share\") {\n\t\t\tthis.Click_btn_Share();\n\t\t} else if (btnName == \"btn_replay\") {\n\t\t\tthis.NetManager.SendPack(\"game.CPlayerPlayBack\", {\n\t\t\t\t\"playBackCode\": this.playBackCode,\n\t\t\t\t\"chekcPlayBackCode\": true\n\t\t\t}, this.OnPack_VideoData.bind(this), this.OnVideoFailed.bind(this));\n\t\t\treturn;\n\t\t} else if (btnName == \"btn_search\") {\n\t\t\tif (isNaN(this.page_search.string) == true) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet page_search = parseInt(this.page_search.string);\n\t\t\tif (page_search < 1) {\n\t\t\t\tthis.page = 1;\n\t\t\t} else if (page_search >= this.maxpage) {\n\t\t\t\tthis.page = this.maxpage;\n\t\t\t} else {\n\t\t\t\tthis.page = page_search;\n\t\t\t}\n\t\t\tthis.ShowData();\n\t\t} else {\n\t\t\tthis.ErrLog(\"OnClick not find btnName\", btnName);\n\t\t}\n\t},\n\tOnPack_VideoData: function(serverPack) {\n\t\t// let gameName = app.ShareDefine().GametTypeID2PinYin[serverPack];\n\t\tapp.Client.VideoCheckSubGame(serverPack.Name.toLowerCase(), this.playBackCode);\n\t},\n\tOnVideoFailed: function(serverPack) {\n\t\tapp.SysNotifyManager().ShowSysMsg(\"MSG_REPLAY_ERROR\");\n\t},\n\tClick_btn_Share: function() {\n\t\tlet heroName = app.HeroManager().GetHeroProperty(\"name\");\n\t\tlet gameId = app.ShareDefine().GametTypeNameDict[this.gameType.toUpperCase()];\n\t\tlet gameName = app.ShareDefine().GametTypeID2Name[gameId];\n\t\tlet title = \"回放码为【\" + this.playBackCode + \"】\";\n\t\tlet desc = \"【\" + heroName + \"】邀请您观看【\" + gameName + \"】中牌局回放记录\";\n\n\t\tlet heroID = app.HeroManager().GetHeroProperty(\"pid\");\n\t\tlet cityId = app.HeroManager().GetHeroProperty(\"cityId\");\n\t\tlet weChatAppShareUrl = app.Client.GetClientConfigProperty(\"WeChatAppShareUrl\") + heroID + \"&cityid=\" + cityId;\n\n\t\tconsole.log(\"回放码==\" + this.playBackCode);\n\t\tthis.SDKManager.Share(title, desc, weChatAppShareUrl, \"0\");\n\t},\n\tStr2Json: function(jsondata) {\n\t\tif (jsondata === \"\") {\n\t\t\treturn false;\n\t\t}\n\t\tvar json = JSON.parse(jsondata);\n\t\treturn json;\n\t},\n\tGetPokeCard: function(poker, cardNode) {\n\t\tif (0 == poker) {\n\t\t\treturn;\n\t\t}\n\t\tlet type = \"\";\n\t\tlet type1 = \"\";\n\t\tlet type2 = \"\";\n\t\tlet num = \"\";\n\t\tlet cardColor = this.GetCardColor(poker);\n\t\tlet cardValue = this.GetCardValue(poker);\n\t\tlet numNode = cardNode.getChildByName(\"num\");\n\t\tnumNode.active = true;\n\t\tif (cardValue == 15) {\n\t\t\tcardValue = 2;\n\t\t}\n\t\tif (cardColor == 0) {\n\t\t\ttype = \"bg_diamond1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype2 = \"bg_red_\" + cardValue;\n\t\t\t\t// type1 = \"\";\n\t\t\t\t// type2 = \"bg_diamond_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"red_\" + cardValue;\n\t\t} else if (cardColor == 16) {\n\t\t\ttype = \"bg_club1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype2 = \"bg_blue_\" + cardValue;\n\t\t\t\t// type1 = \"\";\n\t\t\t\t// type2 = \"bg_club_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"black_\" + cardValue;\n\t\t} else if (cardColor == 32) {\n\t\t\ttype = \"bg_heart1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype2 = \"bg_red_\" + cardValue;\n\t\t\t\t// type1 = \"\";\n\t\t\t\t// type2 = \"bg_heart_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"red_\" + cardValue;\n\t\t} else if (cardColor == 48) {\n\t\t\ttype = \"bg_spade1_\";\n\t\t\ttype1 = type + 1;\n\t\t\ttype2 = type + 2;\n\t\t\t// if (cardValue > 10) {\n\t\t\tif (cardValue > 10 && cardValue < 14) {\n\t\t\t\ttype2 = \"bg_blue_\" + cardValue;\n\t\t\t\t// type1 = \"\";\n\t\t\t\t// type2 = \"bg_spade_\" + cardValue;\n\t\t\t}\n\t\t\tnum = \"black_\" + cardValue;\n\t\t} else if (cardColor == 64) { //双数小鬼   0x42-0x4e\n\t\t\tnumNode.active = false; //2,3,4,5,6,7,8,9,a\n\t\t\tif (cardValue % 2 == 0) { //双数小鬼\n\t\t\t\ttype1 = \"icon_small_king_01\";\n\t\t\t\ttype2 = \"icon_small_king\";\n\t\t\t} else if (cardValue % 2 == 1) { //单数大鬼\n\t\t\t\ttype1 = \"icon_big_king_01\";\n\t\t\t\ttype2 = \"icon_big_king\";\n\t\t\t}\n\t\t}\n\t\tlet numSp = cardNode.getChildByName(\"num\").getComponent(cc.Sprite);\n\t\tlet iconSp = cardNode.getChildByName(\"icon\").getComponent(cc.Sprite);\n\t\tlet icon1_Sp = cardNode.getChildByName(\"icon_1\").getComponent(cc.Sprite);\n\t\tnumSp.spriteFrame = this.PokerCard.pokerDict[num];\n\t\ticonSp.spriteFrame = this.PokerCard.pokerDict[type1];\n\t\ticon1_Sp.spriteFrame = this.PokerCard.pokerDict[type2];\n\t},\n\t//获取牌值\n\tGetCardValue: function(poker) {\n\t\treturn poker & this.PokerCard.LOGIC_MASK_VALUE;\n\t},\n\n\t//获取花色\n\tGetCardColor: function(poker) {\n\t\twhile (poker >= 80) {\n\t\t\tpoker -= 80;\n\t\t}\n\t\tlet color = poker & this.PokerCard.LOGIC_MASK_COLOR;\n\t\treturn color;\n\t},\n});"]}