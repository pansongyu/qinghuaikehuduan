{"version":3,"sources":["gzth_detail_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ShowPlayerData","resultsList","playerAll","idx","data","userInfo","node","getChildByName","getComponent","ShowHeroHead","pid","Label","string","ComTool","GetPid","index","player","name","active","point","sportsPoint","dissolveState","imagePath","that","loader","loadRes","SpriteFrame","error","spriteFrame","console","log","Sprite","pointList","juLayout","juStrDict","i","children","length","opacity","juDemo","instantiate","addChild"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASH,QAAQ,wBAAR,CADD;;AAGRI,aAAY,EAHJ;;AAMR;AACAC,SAAQ,kBAAY,CAEnB,CATO;AAURC,iBAAe,wBAASC,WAAT,EAAsBC,SAAtB,EAAgCC,GAAhC,EAAoC;AAClD,MAAIC,OAAOH,YAAYE,GAAZ,CAAX;AACA,MAAIE,WAAW,KAAKC,IAAL,CAAUC,cAAV,CAAyB,WAAzB,CAAf;AACA,MAAGF,QAAH,EAAY;AACXA,YAASE,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,UAA/C,EAA2DC,YAA3D,CAAwE,iBAAxE,EAA2FC,YAA3F,CAAwGL,KAAKM,GAA7G;AACAL,YAASE,cAAT,CAAwB,UAAxB,EAAoCC,YAApC,CAAiDb,GAAGgB,KAApD,EAA2DC,MAA3D,GAAoE,QAAQnB,IAAIoB,OAAJ,GAAcC,MAAd,CAAqBV,KAAKM,GAA1B,CAA5E;AACA,QAAI,IAAIK,KAAR,IAAiBb,SAAjB,EAA2B;AAC1B,QAAIc,SAASd,UAAUa,KAAV,CAAb;AACA,QAAGC,OAAON,GAAP,IAAcN,KAAKM,GAAtB,EAA0B;AACzBL,cAASE,cAAT,CAAwB,YAAxB,EAAsCC,YAAtC,CAAmDb,GAAGgB,KAAtD,EAA6DC,MAA7D,GAAsEI,OAAOC,IAA7E;AACA;AACA;AACD;AACD;AACD;AACA;AACA,OAAKX,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCW,MAAnC,GAA4C,KAA5C;AACA,OAAKZ,IAAL,CAAUC,cAAV,CAAyB,SAAzB,EAAoCW,MAApC,GAA6C,KAA7C;AACA,MAAId,KAAKe,KAAL,IAAc,CAAlB,EAAqB;AACpB,QAAKb,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCC,YAAvC,CAAoDb,GAAGgB,KAAvD,EAA8DC,MAA9D,GAAuE,MAAMR,KAAKe,KAAlF;AACA,QAAKb,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCW,MAAvC,GAAgD,IAAhD;AACA,QAAKZ,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCW,MAAxC,GAAiD,KAAjD;AACA,GAJD,MAIK;AACJ,QAAKZ,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqDb,GAAGgB,KAAxD,EAA+DC,MAA/D,GAAwER,KAAKe,KAA7E;AACA,QAAKb,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCW,MAAvC,GAAgD,KAAhD;AACA,QAAKZ,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCW,MAAxC,GAAiD,IAAjD;AACA;AACD;AACA,MAAI,OAAOd,KAAKgB,WAAZ,IAA0B,WAA9B,EAA2C;AAC1C,QAAKd,IAAL,CAAUC,cAAV,CAAyB,gBAAzB,EAA2CW,MAA3C,GAAoD,IAApD;AACA,OAAId,KAAKgB,WAAL,GAAmB,CAAvB,EAA0B;AACzB,SAAKd,IAAL,CAAUC,cAAV,CAAyB,gBAAzB,EAA2CC,YAA3C,CAAwDb,GAAGgB,KAA3D,EAAkEC,MAAlE,GAA2E,MAAMR,KAAKgB,WAAtF;AACA,IAFD,MAEK;AACJ,SAAKd,IAAL,CAAUC,cAAV,CAAyB,gBAAzB,EAA2CC,YAA3C,CAAwDb,GAAGgB,KAA3D,EAAkEC,MAAlE,GAA2ER,KAAKgB,WAAhF;AACA;AACD,GAPD,MAOK;AACJ,QAAKd,IAAL,CAAUC,cAAV,CAAyB,gBAAzB,EAA2CW,MAA3C,GAAoD,KAApD;AACA;AACD,MAAI,KAAKZ,IAAL,CAAUC,cAAV,CAAyB,eAAzB,KAA6C,IAAjD,EAAuD;AACtD;AACA,OAAI,OAAOH,KAAKiB,aAAZ,IAA8B,WAA9B,IAA6CjB,KAAKiB,aAAL,IAAsB,CAAC,CAAxE,EAA2E;AAC1E,SAAKf,IAAL,CAAUC,cAAV,CAAyB,eAAzB,EAA0CW,MAA1C,GAAiD,KAAjD;AACA,IAFD,MAEK;AACJ,QAAII,YAAY,gCAA8BlB,KAAKiB,aAAnD;AACA,QAAIE,OAAO,IAAX;AACA;AACA5B,OAAG6B,MAAH,CAAUC,OAAV,CAAkBH,SAAlB,EAA6B3B,GAAG+B,WAAhC,EAA6C,UAAUC,KAAV,EAAiBC,WAAjB,EAA8B;AAC1E,SAAGD,KAAH,EAAS;AACRE,cAAQC,GAAR,CAAY,eAAeR,SAA3B;AACA;AACA;AACDC,UAAKjB,IAAL,CAAUC,cAAV,CAAyB,eAAzB,EAA0CC,YAA1C,CAAuDb,GAAGoC,MAA1D,EAAkEH,WAAlE,GAAgFA,WAAhF;AACAL,UAAKjB,IAAL,CAAUC,cAAV,CAAyB,eAAzB,EAA0CW,MAA1C,GAAiD,IAAjD;AACA,KAPD;AAQA;AACD;AACD,MAAIc,YAAY5B,KAAK,WAAL,CAAhB;AACA,MAAI6B,WAAW,KAAK3B,IAAL,CAAUC,cAAV,CAAyB,cAAzB,EAAyCA,cAAzC,CAAwD,MAAxD,EAAgEA,cAAhE,CAA+E,SAA/E,CAAf;AACA,MAAI2B,YAAY;AACf,MAAG,GADY;AAEf,MAAG,GAFY;AAGf,MAAG,GAHY;AAIf,MAAG,GAJY;AAKf,MAAG,GALY;AAMf,MAAG;AANY,GAAhB;AAQA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,SAASG,QAAT,CAAkBC,MAAtC,EAA8CF,GAA9C,EAAmD;AAClDF,YAASG,QAAT,CAAkBD,CAAlB,EAAqBG,OAArB,GAA+B,CAA/B;AACA;AACD,OAAK,IAAIH,KAAI,CAAb,EAAgBA,KAAIH,UAAUK,MAA9B,EAAsCF,IAAtC,EAA2C;AAC1C,OAAIhB,QAAQa,UAAUG,EAAV,CAAZ;AACA,OAAI7B,OAAO2B,SAASG,QAAT,CAAkBD,EAAlB,CAAX;AACA,OAAI,CAAC7B,IAAL,EAAW;AACV,QAAIiC,SAASN,SAASG,QAAT,CAAkB,CAAlB,CAAb;AACA9B,WAAOX,GAAG6C,WAAH,CAAeD,MAAf,CAAP;AACAN,aAASQ,QAAT,CAAkBnC,IAAlB;AACA;AACDA,QAAKgC,OAAL,GAAe,GAAf;AACAhC,QAAKW,IAAL,GAAY,OAAOkB,EAAnB;AACA7B,QAAKC,cAAL,CAAoB,OAApB,EAA6BC,YAA7B,CAA0Cb,GAAGgB,KAA7C,EAAoDC,MAApD,GAA6D,MAAMsB,UAAUC,EAAV,CAAN,GAAqB,GAAlF;AACA,OAAIhB,QAAQ,CAAZ,EAAe;AACdA,YAAQ,MAAMA,KAAd;AACA;AACDb,QAAKE,YAAL,CAAkBb,GAAGgB,KAArB,EAA4BC,MAA5B,GAAqCO,KAArC;AACA;AACD;AA/FO,CAAT","file":"gzth_detail_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\gzth","sourcesContent":["/*\n\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BasePoker_detail_child\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\n\t},\n\tShowPlayerData:function(resultsList, playerAll,idx){\n\t\tlet data = resultsList[idx];\n\t\tlet userInfo = this.node.getChildByName(\"user_info\");\n\t\tif(userInfo){\n\t\t\tuserInfo.getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\").ShowHeroHead(data.pid);\n\t\t\tuserInfo.getChildByName(\"label_id\").getComponent(cc.Label).string = \"ID:\" + app.ComTool().GetPid(data.pid);\n\t\t\tfor(let index in playerAll){\n\t\t\t\tlet player = playerAll[index];\n\t\t\t\tif(player.pid == data.pid){\n\t\t\t\t\tuserInfo.getChildByName(\"lable_name\").getComponent(cc.Label).string = player.name;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// this.node.getChildByName(\"lb_win\").getComponent(cc.Label).string = data.winCount;\n\t\t// this.node.getChildByName(\"lb_lose\").getComponent(cc.Label).string = data.loseCount;\n\t\tthis.node.getChildByName(\"lb_win\").active = false;\n\t\tthis.node.getChildByName(\"lb_lose\").active = false;\n\t\tif (data.point >= 0) {\n\t\t\tthis.node.getChildByName(\"lb_win_num\").getComponent(cc.Label).string = \"+\" + data.point;\n\t\t\tthis.node.getChildByName(\"lb_win_num\").active = true;\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").active = false;\n\t\t}else{\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").getComponent(cc.Label).string = data.point;\n\t\t\tthis.node.getChildByName(\"lb_win_num\").active = false;\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").active = true;\n\t\t}\n\t\t//比赛分\n\t\tif (typeof(data.sportsPoint)!=\"undefined\") {\n\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").active = true;\n\t\t\tif (data.sportsPoint > 0) {\n\t\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + data.sportsPoint;\n\t\t\t}else{\n\t\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = data.sportsPoint;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").active = false;\n\t\t}\n\t\tif (this.node.getChildByName('icon_dissolve') != null) {\n\t\t\t//显示是否解散（-1:正常结束,0:未操作,1:同意操作,2:拒绝操作,3:发起者）\n\t\t\tif (typeof(data.dissolveState) == \"undefined\" || data.dissolveState == -1) {\n\t\t\t\tthis.node.getChildByName('icon_dissolve').active=false;\n\t\t\t}else{\n\t\t\t\tlet imagePath = \"texture/record/img_dissolve\"+data.dissolveState;\n\t\t\t\tlet that = this;\n\t\t\t\t//加载图片精灵\n\t\t\t\tcc.loader.loadRes(imagePath, cc.SpriteFrame, function (error, spriteFrame) {\n\t\t\t\t\tif(error){\n\t\t\t\t\t\tconsole.log(\"加载图片精灵失败  \" + imagePath);\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthat.node.getChildByName('icon_dissolve').getComponent(cc.Sprite).spriteFrame = spriteFrame;\n\t\t\t\t\tthat.node.getChildByName('icon_dissolve').active=true;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tlet pointList = data[\"pointList\"];\n\t\tlet juLayout = this.node.getChildByName(\"juScrollView\").getChildByName(\"view\").getChildByName(\"content\");\n\t\tlet juStrDict = {\n\t\t\t0: \"一\",\n\t\t\t1: \"二\",\n\t\t\t2: \"三\",\n\t\t\t3: \"四\",\n\t\t\t4: \"五\",\n\t\t\t5: \"六\",\n\t\t};\n\t\tfor (let i = 0; i < juLayout.children.length; i++) {\n\t\t\tjuLayout.children[i].opacity = 0;\n\t\t}\n\t\tfor (let i = 0; i < pointList.length; i++) {\n\t\t\tlet point = pointList[i];\n\t\t\tlet node = juLayout.children[i];\n\t\t\tif (!node) {\n\t\t\t\tlet juDemo = juLayout.children[0];\n\t\t\t\tnode = cc.instantiate(juDemo);\n\t\t\t\tjuLayout.addChild(node);\n\t\t\t}\n\t\t\tnode.opacity = 255;\n\t\t\tnode.name = \"ju\" + i;\n\t\t\tnode.getChildByName(\"label\").getComponent(cc.Label).string = \"第\" + juStrDict[i] + \"局\";\n\t\t\tif (point > 0) {\n\t\t\t\tpoint = \"+\" + point;\n\t\t\t}\n\t\t\tnode.getComponent(cc.Label).string = point;\n\t\t}\n\t},\n});\n"]}