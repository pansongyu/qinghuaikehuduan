{"version":3,"sources":["ahphz_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ComTool","ShareDefine","IntegrateImagePath","ShowPlayerData","setEnd","playerAll","index","dPos","posResultList","node","active","getChildByName","PlayerInfo","WeChatManager","InitHeroHeadImage","weChatHeadImage","getComponent","ShowHeroHead","Label","string","name","pid","PlayerData","IsShowScore","huType","multi2","isShow","indexOf","IsShowNum","IsShowMulti2","CheckInLayout","dict1","dict3","SortMap","map","newMap","oldMap","key","value","Object","assign","PlayerNode","result","pos","layout_huinfo","layout1","layout2","layout3","removeAllChildren","demo_huinfo","huTypeMap","endPoint","huTypeDict","DianHu","DaHongHu","XiaoHongHu","WuHu","SBX","HuXiNum","TunNum","ZiMoJiaBei","ZiMoJiaOne","PaPoBeiShu","huPoint","lb_huInfo","instantiate","addChild","point","sportsPoint","cardPublicMap","publicCardList","cardMap","shouCardList","huCard","handCard","layoutyou","demo_you","x","y","i","length","addYou","publicInfo","publicInfoList","publicInfoValue","getCardID","cardIDList","slice","opType","layoutpai","k","cardChild","cardID","ShowOutCardImage","child","j","lb_winpoint","lb_lostpoint","lb_sportsPoint","childNode","imageName","Math","floor","join","imageInfo","ErrLog","imagePath","that","Sprite","spriteFrame","childSprite","SpriteShow","ControlManager","CreateLoadPromise","SpriteFrame","then","catch","error","stack","GetFanXingCardID","xingCardList","push","parseInt"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,aAASH,QAAQ,sBAAR,CADD;;AAGRI,gBAAY,EAHJ;;AAMR;AACAC,YAAQ,kBAAY;AACnB,aAAKC,OAAL,GAAeP,IAAIO,OAAJ,EAAf;AACM,aAAKC,WAAL,GAAiBR,IAAIQ,WAAJ,EAAjB;;AAEA,aAAKC,kBAAL,GAAwB;AACd,4BAAgB;AACd,4BAAY;AADE,aADF;AAId,4BAAgB;AACd,4BAAY;AADE,aAJF;AAOd,4BAAgB;AACd,4BAAY;AADE,aAPF;AAUd,4BAAgB;AACd,4BAAY;AADE,aAVF;AAad,4BAAgB;AACd,4BAAY;AADE,aAbF;AAgBd,4BAAgB;AACd,4BAAY;AADE,aAhBF;AAmBd,4BAAgB;AACd,4BAAY;AADE,aAnBF;AAsBd,4BAAgB;AACd,4BAAY;AADE,aAtBF;AAyBd,4BAAgB;AACd,4BAAY;AADE,aAzBF;AA4Bd,4BAAgB;AACd,4BAAY;AADE,aA5BF;;AAgCd,4BAAgB;AACd,4BAAY;AADE,aAhCF;;AAoCd,4BAAgB;AACd,4BAAY;AADE,aApCF;AAuCd,4BAAgB;AACd,4BAAY;AADE,aAvCF;AA0Cd,4BAAgB;AACd,4BAAY;AADE,aA1CF;AA6Cd,4BAAgB;AACd,4BAAY;AADE,aA7CF;AAgDd,4BAAgB;AACd,4BAAY;AADE,aAhDF;AAmDd,4BAAgB;AACd,4BAAY;AADE,aAnDF;AAsDd,4BAAgB;AACd,4BAAY;AADE,aAtDF;AAyDd,4BAAgB;AACd,4BAAY;AADE,aAzDF;AA4Dd,4BAAgB;AACd,4BAAY;AADE,aA5DF;;AAiEd,4BAAgB;AACd,4BAAY;AADE,aAjEF;AAoEd,4BAAgB;AACd,4BAAY;AADE;AApEF,SAAxB;AAwEN,KAnFO;AAoFLC,oBAAe,wBAASC,MAAT,EAAgBC,SAAhB,EAA0BC,KAA1B,EAAgC;AAC3C,YAAIC,OAAKH,OAAOG,IAAhB;AACA,YAAIC,gBAAgBJ,OAAO,eAAP,CAApB;AACA,aAAKK,IAAL,CAAUC,MAAV,GAAiB,IAAjB;AACA,YAAGH,SAAOD,KAAV,EAAgB;AACZ,iBAAKG,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,YAApD,EAAkED,MAAlE,GAA2E,IAA3E;AACH,SAFD,MAEK;AACD,iBAAKD,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,YAApD,EAAkED,MAAlE,GAA2E,KAA3E;AACH;AACD,YAAIE,aAAaP,UAAUC,KAAV,CAAjB;AACA;AACA,YAAGM,WAAW,KAAX,KAAqBA,WAAW,SAAX,CAAxB,EAA8C;AAC1CnB,gBAAIoB,aAAJ,GAAoBC,iBAApB,CAAsCF,WAAW,KAAX,CAAtC,EAAwDA,WAAW,SAAX,CAAxD;AACH;AACD,YAAIG,kBAAkB,KAAKN,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,UAApD,EAAgEK,YAAhE,CAA6E,iBAA7E,CAAtB;AACAD,wBAAgBE,YAAhB,CAA6BL,WAAW,KAAX,CAA7B;AACA;AACA,aAAKH,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,SAApD,EAA+DK,YAA/D,CAA4ErB,GAAGuB,KAA/E,EAAsFC,MAAtF,GAA6FP,WAAWQ,IAAxG;AACA,aAAKX,IAAL,CAAUE,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,OAApD,EAA6DK,YAA7D,CAA0ErB,GAAGuB,KAA7E,EAAoFC,MAApF,GAA2FP,WAAWS,GAAtG;AACA,aAAKC,UAAL,CAAgB,KAAKb,IAArB,EAA0BD,cAAcF,KAAd,CAA1B,EAA+CA,KAA/C;AACH,KAxGI;AAyGL;AACAiB,iBAAa,qBAAUC,MAAV,EAAkB;AAC3B,YAAIC,SAAS,EAAb;AAEA,YAAIC,SAASD,OAAOE,OAAP,CAAeH,MAAf,KAA0B,CAAC,CAAxC;AACA,eAAOE,MAAP;AACH,KA/GI;AAgHL;AACAE,eAAW,mBAAUJ,MAAV,EAAkB;AACzB,YAAIC,SAAS,CACT,YADS,CAAb;AAGA,YAAIC,SAASD,OAAOE,OAAP,CAAeH,MAAf,KAA0B,CAAC,CAAxC;AACA,eAAOE,MAAP;AACH,KAvHI;AAwHL;AACAG,kBAAc,sBAAUL,MAAV,EAAkB;AAC5B,YAAIC,SAAS,CACT,YADS,CAAb;AAGA,YAAIC,SAASD,OAAOE,OAAP,CAAeH,MAAf,KAA0B,CAAC,CAAxC;AACA,eAAOE,MAAP;AACH,KA/HI;AAgILI,mBAAe,uBAASN,MAAT,EAAgB;AAC3B,YAAIO,QAAQ,CACR,YADQ,EACM;AACd,oBAFQ,CAAZ;AAIA,YAAIC,QAAQ,CACR,SADQ,CAAZ;;AAIA,YAAGD,MAAMJ,OAAN,CAAcH,MAAd,KAAyB,CAAC,CAA7B,EAA+B;AAC3B,mBAAO,CAAP;AACH,SAFD,MAEM,IAAGQ,MAAML,OAAN,CAAcH,MAAd,KAAyB,CAAC,CAA7B,EAA+B;AACjC,mBAAO,CAAP;AACH;AACD,eAAO,CAAP;AACH,KA/II;AAgJLS,aAAS,iBAASC,GAAT,EAAa;AAClB,YAAIC,SAAS,EAAb;AACA,YAAIC,SAAS,EAAb;AACA,aAAI,IAAIC,GAAR,IAAeH,GAAf,EAAmB;AACf,gBAAII,QAAQJ,IAAIG,GAAJ,CAAZ;AACA,gBAAGA,OAAO,QAAV,EAAmB;AACfD,uBAAOC,GAAP,IAAcC,KAAd;AACH,aAFD,MAEK;AACDH,uBAAOE,GAAP,IAAcC,KAAd;AACH;AACJ;AACD,eAAOC,OAAOC,MAAP,CAAcL,MAAd,EAAsBC,MAAtB,CAAP;AACH,KA5JI;AA6JLd,gBAAW,oBAASmB,UAAT,EAAoBC,MAApB,EAA2BC,GAA3B,EAA+B;AACtCF,mBAAW/B,MAAX,GAAkB,IAAlB;AACA,YAAIc,SAAOkB,OAAOlB,MAAlB;AACA,YAAGA,UAAQ,CAAX,EAAa;AACT;AACA,gBAAIoB,gBAAcH,WAAW9B,cAAX,CAA0B,eAA1B,CAAlB;AACA,gBAAIkC,UAAUD,cAAcjC,cAAd,CAA6B,SAA7B,CAAd;AACA,gBAAImC,UAAUF,cAAcjC,cAAd,CAA6B,SAA7B,CAAd;AACA,gBAAIoC,UAAUH,cAAcjC,cAAd,CAA6B,SAA7B,CAAd;AACAkC,oBAAQG,iBAAR;AACAF,oBAAQE,iBAAR;AACAD,oBAAQC,iBAAR;AACA,gBAAIC,cAAY,KAAKxC,IAAL,CAAUE,cAAV,CAAyB,aAAzB,CAAhB;AACA,gBAAIuC,YAAU,KAAKjB,OAAL,CAAaS,OAAOS,QAAP,CAAgBD,SAA7B,CAAd;AACA,gBAAIE,aAAa;AACbC,wBAAO,KADM;AAEbC,0BAAS,KAFI;AAGbC,4BAAW,IAHE;AAIbC,sBAAK,IAJQ;AAKbC,qBAAI,KALS;AAMbC,yBAAQ,IANK;AAObC,wBAAO,GAPM;AAQbC,4BAAW,IARE;AASbC,4BAAW,IATE;AAUbC,4BAAW;AAVE,aAAjB;AAYA,iBAAK,IAAItC,OAAT,IAAmB0B,SAAnB,EAA8B;AAC1B,oBAAIa,UAAUb,UAAU1B,OAAV,CAAd;AACA,oBAAIwC,YAAUrE,GAAGsE,WAAH,CAAehB,WAAf,CAAd;AACA,oBAAI,KAAKpB,YAAL,CAAkBL,OAAlB,CAAJ,EAA+B;AAC3BwC,8BAAUhD,YAAV,CAAuBrB,GAAGuB,KAA1B,EAAiCC,MAAjC,GAAwCiC,WAAW5B,OAAX,IAAmB,GAAnB,GAAyBuC,OAAjE;AACH,iBAFD,MAEM,IAAG,KAAKnC,SAAL,CAAeJ,OAAf,CAAH,EAA0B;AAC5BwC,8BAAUhD,YAAV,CAAuBrB,GAAGuB,KAA1B,EAAiCC,MAAjC,GAAwCiC,WAAW5B,OAAX,IAAmB,GAAnB,GAAyBuC,OAAzB,GAAmC,GAA3E;AACH,iBAFK,MAED;AACDC,8BAAUhD,YAAV,CAAuBrB,GAAGuB,KAA1B,EAAiCC,MAAjC,GAAwCiC,WAAW5B,OAAX,IAAmB,GAAnB,GAAyBuC,OAAjE;AACH;AACDC,0BAAUtD,MAAV,GAAiB,IAAjB;AACA,oBAAG,KAAKoB,aAAL,CAAmBN,OAAnB,KAA8B,CAAjC,EAAmC;AAC/BqB,4BAAQqB,QAAR,CAAiBF,SAAjB;AACH,iBAFD,MAEM,IAAG,KAAKlC,aAAL,CAAmBN,OAAnB,KAA8B,CAAjC,EAAmC;AACrCsB,4BAAQoB,QAAR,CAAiBF,SAAjB;AACH,iBAFK,MAED;AACDjB,4BAAQmB,QAAR,CAAiBF,SAAjB;AACH;AACJ;AACJ,SA1CD,MA0CK;AACDvB,uBAAW9B,cAAX,CAA0B,eAA1B,EAA2CA,cAA3C,CAA0D,SAA1D,EAAqEqC,iBAArE;AACAP,uBAAW9B,cAAX,CAA0B,eAA1B,EAA2CA,cAA3C,CAA0D,SAA1D,EAAqEqC,iBAArE;AACAP,uBAAW9B,cAAX,CAA0B,eAA1B,EAA2CA,cAA3C,CAA0D,SAA1D,EAAqEqC,iBAArE;AACH;AACD,YAAImB,QAAMzB,OAAOyB,KAAjB;AACA,YAAIC,cAAY1B,OAAO,aAAP,CAAhB;AACA,YAAI2B,gBAAc3B,OAAOS,QAAP,CAAgBmB,cAAlC;AACA,YAAIC,UAAQ7B,OAAOS,QAAP,CAAgBqB,YAA5B;AACA,YAAIC,SAAO/B,OAAOgC,QAAlB;AACA,YAAIC,YAAUlC,WAAW9B,cAAX,CAA0B,WAA1B,CAAd;AACAgE,kBAAU3B,iBAAV;AACA,YAAI4B,WAAS,KAAKnE,IAAL,CAAUE,cAAV,CAAyB,UAAzB,CAAb;AACAiE,iBAASC,CAAT,GAAW,CAAX,CAAaD,SAASE,CAAT,GAAW,CAAX;AACb;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEV,cAAcW,MAA5B,EAAmCD,GAAnC,EAAuC;AACnC,gBAAIE,SAAOtF,GAAGsE,WAAH,CAAeW,QAAf,CAAX;AACAD,sBAAUT,QAAV,CAAmBe,MAAnB;AACA,gBAAIC,aAAab,cAAcU,CAAd,CAAjB;AACA,gBAAII,iBAAeD,WAAW,UAAX,CAAnB;AACA,gBAAIE,kBAAgBF,WAAW,QAAX,CAApB;;AAEA,gBAAIG,YAAYF,eAAe,CAAf,CAAhB;AACA,gBAAIG,aAAaH,eAAeI,KAAf,CAAqB,CAArB,EAAwBJ,eAAeH,MAAvC,CAAjB;;AAEA,gBAAIQ,SAASL,eAAe,CAAf,CAAb;AACA,gBAAIK,UAAU,CAAd,EAAiB;AACbP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFD,MAEM,IAAIqE,UAAS,CAAb,EAAgB;AAClBP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,UAAU,CAAd,EAAiB;AACnBP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,UAAU,CAAd,EAAiB;AACnBP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,UAAU,CAAd,EAAiB;AACnBP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,UAAU,CAAd,EAAiB;AACnBP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,UAAU,CAAd,EAAiB;AACnBP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,UAAU,CAAd,EAAiB;AACnBP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,UAAU,CAAd,EAAiB;AACnBP,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAED;AACD8D,uBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,EAAjE;AACH;AACD8D,mBAAOtE,cAAP,CAAsB,QAAtB,EAAgCK,YAAhC,CAA6CrB,GAAGuB,KAAhD,EAAuDC,MAAvD,GAA8DiE,eAA9D;;AAEA,gBAAIK,YAAUR,OAAOtE,cAAP,CAAsB,WAAtB,CAAd;;AAEA,iBAAI,IAAI+E,IAAE,CAAV,EAAYA,KAAG,CAAf,EAAiBA,GAAjB,EAAqB;AACjB,oBAAIC,YAAUF,UAAU9E,cAAV,CAAyB,SAAO+E,CAAhC,CAAd;AACA,oBAAG,OAAOJ,WAAWI,IAAE,CAAb,CAAP,IAAyB,WAA5B,EAAwC;AACpC,wBAAGC,SAAH,EAAa;AACTA,kCAAUjF,MAAV,GAAiB,KAAjB;AACH;AACD;AACH;AACDiF,0BAAUC,MAAV,GAAiBN,WAAWI,IAAE,CAAb,CAAjB;AACA;;;;;AAKA,qBAAKG,gBAAL,CAAsBF,SAAtB;AACH;;AAEDV,mBAAOvE,MAAP,GAAc,IAAd;AACH;AACD;AACA,aAAI,IAAIqE,KAAE,CAAV,EAAYA,KAAER,QAAQS,MAAtB,EAA6BD,IAA7B,EAAiC;AAC7B,gBAAIE,UAAOtF,GAAGsE,WAAH,CAAeW,QAAf,CAAX;AACA,gBAAIM,cAAaX,QAAQQ,EAAR,CAAjB;AACA,gBAAIS,UAASN,YAAW,UAAX,EAAuB,CAAvB,CAAb;AACA,gBAAIC,kBAAeD,YAAW,UAAX,EAAuBK,KAAvB,CAA6B,CAA7B,EAA+BL,YAAW,UAAX,EAAuBF,MAAtD,CAAnB;AACA,gBAAII,mBAAgBF,YAAW,QAAX,CAApB;AACA,gBAAII,cAAaH,eAAjB;AACA,gBAAIK,WAAU,CAAd,EAAiB;AACbP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFD,MAEM,IAAIqE,WAAS,CAAb,EAAgB;AAClBP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,WAAU,CAAd,EAAiB;AACnBP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,WAAU,CAAd,EAAiB;AACnBP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,WAAU,CAAd,EAAiB;AACnBP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,WAAU,CAAd,EAAiB;AACnBP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,WAAU,CAAd,EAAiB;AACnBP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,WAAU,CAAd,EAAiB;AACnBP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAEA,IAAIqE,WAAU,CAAd,EAAiB;AACnBP,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,GAAjE;AACH,aAFK,MAED;AACD8D,wBAAOtE,cAAP,CAAsB,WAAtB,EAAmCK,YAAnC,CAAgDrB,GAAGuB,KAAnD,EAA0DC,MAA1D,GAAiE,EAAjE;AACH;AACD8D,oBAAOtE,cAAP,CAAsB,QAAtB,EAAgCK,YAAhC,CAA6CrB,GAAGuB,KAAhD,EAAuDC,MAAvD,GAA8DiE,gBAA9D;AACA,gBAAIU,QAAMb,QAAOtE,cAAP,CAAsB,WAAtB,CAAV;;AAEA,iBAAI,IAAIoF,IAAE,CAAV,EAAYA,KAAG,CAAf,EAAiBA,GAAjB,EAAqB;AACjB,oBAAIJ,aAAUG,MAAMnF,cAAN,CAAqB,SAAOoF,CAA5B,CAAd;AACA,oBAAG,OAAOT,YAAWS,IAAE,CAAb,CAAP,IAAyB,WAA5B,EAAwC;AACpC,wBAAGJ,UAAH,EAAa;AACTA,mCAAUjF,MAAV,GAAiB,KAAjB;AACH;AACD;AACH;AACDiF,2BAAUC,MAAV,GAAiBN,YAAWS,IAAE,CAAb,CAAjB;AACA,qBAAKF,gBAAL,CAAsBF,UAAtB;AACA;AACA,oBAAGlB,SAAO,CAAP,IAAYA,UAAQa,YAAWS,IAAE,CAAb,CAAvB,EAAuC;AACnCJ,+BAAUhF,cAAV,CAAyB,QAAzB,EAAmCD,MAAnC,GAA0C,IAA1C;AACH,iBAFD,MAEK;AACDiF,+BAAUhF,cAAV,CAAyB,QAAzB,EAAmCD,MAAnC,GAA0C,KAA1C;AACH;AACJ;AACDuE,oBAAOvE,MAAP,GAAc,IAAd;AACAiE,sBAAUT,QAAV,CAAmBe,OAAnB;AACH;;AAED;AACA,YAAIe,cAAYvD,WAAW9B,cAAX,CAA0B,aAA1B,CAAhB;AACA,YAAIsF,eAAaxD,WAAW9B,cAAX,CAA0B,cAA1B,CAAjB;AACA,YAAGwD,QAAM,CAAT,EAAW;AACP6B,wBAAYtF,MAAZ,GAAmB,IAAnB;AACAuF,yBAAavF,MAAb,GAAoB,KAApB;AACAsF,wBAAYhF,YAAZ,CAAyBrB,GAAGuB,KAA5B,EAAmCC,MAAnC,GAA0C,MAAIgD,KAA9C;AACH,SAJD,MAIK;AACD6B,wBAAYtF,MAAZ,GAAmB,KAAnB;AACAuF,yBAAavF,MAAb,GAAoB,IAApB;AACAuF,yBAAajF,YAAb,CAA0BrB,GAAGuB,KAA7B,EAAoCC,MAApC,GAA2CgD,KAA3C;AACH;;AAGD;AACA,YAAI+B,iBAAezD,WAAW9B,cAAX,CAA0B,gBAA1B,CAAnB;AACA,YAAG,OAAOyD,WAAP,IAAqB,WAAxB,EAAoC;AAChC8B,2BAAexF,MAAf,GAAsB,IAAtB;AACAwF,2BAAelF,YAAf,CAA4BrB,GAAGuB,KAA/B,EAAsCC,MAAtC,GAA6C,SAAOiD,WAApD;AACH,SAHD,MAGK;AACD8B,2BAAexF,MAAf,GAAsB,KAAtB;AACH;AACJ,KA3VI;AA4VLmF,sBAAiB,0BAASM,SAAT,EAAmB;AAChCA,kBAAUzF,MAAV,GAAiB,IAAjB;AACI,YAAI0F,YAAY,CAAC,YAAD,EAAeC,KAAKC,KAAL,CAAWH,UAAUP,MAAV,GAAiB,GAA5B,CAAf,EAAiDW,IAAjD,CAAsD,EAAtD,CAAhB;AACA,YAAGJ,UAAUP,MAAV,IAAkB,CAArB,EAAuB;AACnBQ,wBAAY,CAAC,cAAD,EAAiBG,IAAjB,CAAsB,EAAtB,CAAZ;AACH;AACD,YAAIC,YAAY,KAAKtG,kBAAL,CAAwBkG,SAAxB,CAAhB;AACA,YAAG,CAACI,SAAJ,EAAc;AACV,iBAAKC,MAAL,CAAY,iDAAZ,EAA+DL,SAA/D;AACA;AACH;AACD,YAAIM,YAAYF,UAAU,UAAV,CAAhB;AACA,YAAIG,OAAO,IAAX;AACCR,kBAAUxF,cAAV,CAAyB,KAAzB,EAAgCK,YAAhC,CAA6CrB,GAAGiH,MAAhD,EAAwDC,WAAxD,GAAoE,EAApE;AACD,YAAIC,cAAcX,UAAUxF,cAAV,CAAyB,MAAzB,EAAiCK,YAAjC,CAA8CrB,GAAGiH,MAAjD,CAAlB;AACA,aAAKG,UAAL,CAAgBD,WAAhB,EAA4BJ,SAA5B;AAEP,KA7WI;AA8WLK,gBAAW,oBAASD,WAAT,EAAqBJ,SAArB,EAA+B;AACtC,YAAIC,OAAO,IAAX;AACAlH,YAAIuH,cAAJ,GAAqBC,iBAArB,CAAuCP,SAAvC,EAAkD/G,GAAGuH,WAArD,EACKC,IADL,CACU,UAASN,WAAT,EAAqB;AACf,gBAAG,CAACA,WAAJ,EAAgB;AACZF,qBAAKF,MAAL,CAAY,qCAAZ,EAAmDC,SAAnD;AACA;AACH;AACDI,wBAAYD,WAAZ,GAA0BA,WAA1B;AACX,SAPL,EAOOO,KAPP,CAOa,UAASC,KAAT,EAAe;AACpBV,iBAAKF,MAAL,CAAY,wBAAZ,EAAsCC,SAAtC,EAAiDW,MAAMC,KAAvD;AACH,SATL;AAWH,KA3XI;AA4XLC,sBAAiB,0BAASrF,GAAT,EAAa;AAC1B,YAAIsF,eAAa,EAAjB;AACA,aAAI,IAAInF,GAAR,IAAeH,GAAf,EAAmB;AACfsF,yBAAaC,IAAb,CAAkBC,SAASrF,GAAT,CAAlB;AACH;AACD,eAAOmF,YAAP;AACH;AAlYI,CAAT","file":"ahphz_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\ahphz","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tthis.ComTool = app.ComTool();\n        this.ShareDefine=app.ShareDefine();\n\n        this.IntegrateImagePath={\n                  \"zi_fangda_19\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/red_10\",\n                  },\n                  \"zi_fangda_10\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/black_1\",\n                  },\n                  \"zi_fangda_11\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/red_2\",\n                  },\n                  \"zi_fangda_12\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/black_3\",\n                  },\n                  \"zi_fangda_13\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/black_4\",\n                  },\n                  \"zi_fangda_14\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/black_5\",\n                  },\n                  \"zi_fangda_15\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/black_6\",\n                  },\n                  \"zi_fangda_16\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/red_7\",\n                  },\n                  \"zi_fangda_17\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/black_8\",\n                  },\n                  \"zi_fangda_18\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/xiaoxue/black_9\",\n                  },\n\n                  \"zi_fangda_29\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/red_10\",\n                  },\n\n                  \"zi_fangda_20\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/black_1\",\n                  },\n                  \"zi_fangda_21\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/red_2\",\n                  },\n                  \"zi_fangda_22\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/black_3\",\n                  },\n                  \"zi_fangda_23\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/black_4\",\n                  },\n                  \"zi_fangda_24\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/black_5\",\n                  },\n                  \"zi_fangda_25\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/black_6\",\n                  },\n                  \"zi_fangda_26\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/red_7\",\n                  },\n                  \"zi_fangda_27\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/black_8\",\n                  },\n                  \"zi_fangda_28\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/daxue/black_9\",\n                  },\n\n\n                  \"zi_fangda_51\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/bg_gui\",\n                  },\n                  \"zi_fangda_bg\": {\n                    \"FilePath\": \"ui/uiGame/ahphz/zi/img_pb\",\n                  }\n        };\n\t},\n    ShowPlayerData:function(setEnd,playerAll,index){\n        let dPos=setEnd.dPos;\n        let posResultList = setEnd[\"posResultList\"];\n        this.node.active=true;\n        if(dPos===index){\n            this.node.getChildByName(\"userinfo\").getChildByName(\"tip_zhuang\").active = true;\n        }else{\n            this.node.getChildByName(\"userinfo\").getChildByName(\"tip_zhuang\").active = false;\n        }\n        let PlayerInfo = playerAll[index];\n        //显示头像，如果头像UI\n        if(PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]){\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"],PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"userinfo\").getChildByName(\"touxiang\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n        //显示名字跟pid\n        this.node.getChildByName(\"userinfo\").getChildByName(\"lb_name\").getComponent(cc.Label).string=PlayerInfo.name;\n        this.node.getChildByName(\"userinfo\").getChildByName(\"lb_id\").getComponent(cc.Label).string=PlayerInfo.pid;\n        this.PlayerData(this.node,posResultList[index],index);\n    },\n    //分数\n    IsShowScore: function (huType) {\n        let multi2 = [\n        ];\n        let isShow = multi2.indexOf(huType) != -1;\n        return isShow;\n    },\n    //个数\n    IsShowNum: function (huType) {\n        let multi2 = [\n            \"ZiMoJiaOne\", // 中鸟分 \n        ];\n        let isShow = multi2.indexOf(huType) != -1;\n        return isShow;\n    },\n    //倍数\n    IsShowMulti2: function (huType) {\n        let multi2 = [\n            \"ZiMoJiaBei\",\n        ];\n        let isShow = multi2.indexOf(huType) != -1;\n        return isShow;\n    },\n    CheckInLayout: function(huType){\n        let dict1 = [\n            \"ZiMoJiaOne\", // \n            \"ZiMoJiaBei\", // \n        ];\n        let dict3 = [\n            \"HuXiNum\", // \n        ];\n\n        if(dict1.indexOf(huType) != -1){\n            return 1;\n        }else if(dict3.indexOf(huType) != -1){\n            return 3;\n        }\n        return 2;\n    },\n    SortMap: function(map){\n        let newMap = {};\n        let oldMap = {}\n        for(let key in map){\n            let value = map[key];\n            if(key == \"TunNum\"){\n                oldMap[key] = value;\n            }else{\n                newMap[key] = value;\n            }\n        }\n        return Object.assign(newMap, oldMap);\n    },\n    PlayerData:function(PlayerNode,result,pos){\n        PlayerNode.active=true;\n        let huType=result.huType;\n        if(huType!=0){\n            //显示胡牌分数\n            let layout_huinfo=PlayerNode.getChildByName(\"layout_huinfo\");\n            let layout1 = layout_huinfo.getChildByName(\"layout1\");\n            let layout2 = layout_huinfo.getChildByName(\"layout2\");\n            let layout3 = layout_huinfo.getChildByName(\"layout3\");\n            layout1.removeAllChildren();\n            layout2.removeAllChildren();\n            layout3.removeAllChildren();\n            let demo_huinfo=this.node.getChildByName(\"demo_huinfo\");\n            let huTypeMap=this.SortMap(result.endPoint.huTypeMap)\n            let huTypeDict = {\n                DianHu:\"一点红\",\n                DaHongHu:\"十三红\",\n                XiaoHongHu:\"小红\",\n                WuHu:\"黑胡\",\n                SBX:\"十八小\",\n                HuXiNum:\"胡息\",\n                TunNum:\"囤\",\n                ZiMoJiaBei:\"自摸\",\n                ZiMoJiaOne:\"自摸\",\n                PaPoBeiShu:\"爬坡倍数\",\n            };\n            for (let huType in huTypeMap) {\n                let huPoint = huTypeMap[huType];\n                let lb_huInfo=cc.instantiate(demo_huinfo);\n                if (this.IsShowMulti2(huType)) {\n                    lb_huInfo.getComponent(cc.Label).string=huTypeDict[huType]+\"x\" + huPoint;\n                }else if(this.IsShowNum(huType)){\n                    lb_huInfo.getComponent(cc.Label).string=huTypeDict[huType]+\"+\" + huPoint + \"囤\";\n                }else{\n                    lb_huInfo.getComponent(cc.Label).string=huTypeDict[huType]+\"：\" + huPoint;\n                }\n                lb_huInfo.active=true;\n                if(this.CheckInLayout(huType) == 1){\n                    layout1.addChild(lb_huInfo);\n                }else if(this.CheckInLayout(huType) == 2){\n                    layout2.addChild(lb_huInfo);\n                }else{\n                    layout3.addChild(lb_huInfo);\n                }\n            }\n        }else{\n            PlayerNode.getChildByName(\"layout_huinfo\").getChildByName(\"layout1\").removeAllChildren();\n            PlayerNode.getChildByName(\"layout_huinfo\").getChildByName(\"layout2\").removeAllChildren();\n            PlayerNode.getChildByName(\"layout_huinfo\").getChildByName(\"layout3\").removeAllChildren();\n        }\n        let point=result.point;\n        let sportsPoint=result[\"sportsPoint\"];\n        let cardPublicMap=result.endPoint.publicCardList;\n        let cardMap=result.endPoint.shouCardList;\n        let huCard=result.handCard;\n        let layoutyou=PlayerNode.getChildByName(\"layoutyou\");\n        layoutyou.removeAllChildren();\n        let demo_you=this.node.getChildByName(\"demo_you\");\n        demo_you.x=0;demo_you.y=0;\n        //碰吃的牌\n        for(let i=0;i<cardPublicMap.length;i++){\n            let addYou=cc.instantiate(demo_you);\n            layoutyou.addChild(addYou);\n            let publicInfo = cardPublicMap[i];\n            let publicInfoList=publicInfo[\"cardList\"];\n            let publicInfoValue=publicInfo[\"youNum\"];\n\n            let getCardID = publicInfoList[2];\n            let cardIDList = publicInfoList.slice(1, publicInfoList.length);\n\n            let opType = publicInfoList[0];\n            if (opType == 0) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"提\";\n            }else if (opType ==1) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"跑\";\n            }else if (opType == 2) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"偎\";\n            }else if (opType == 3) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"连\";\n            }else if (opType == 4) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"坎\";\n            }else if (opType == 5) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"碰\";\n            }else if (opType == 6) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"对\";\n            }else if (opType == 7) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"绞\";\n            }else if (opType == 8) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"手\";\n            }else{\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"\";\n            }\n            addYou.getChildByName(\"lb_you\").getComponent(cc.Label).string=publicInfoValue;\n\n            let layoutpai=addYou.getChildByName(\"layoutpai\");\n\n            for(let k=1;k<=4;k++){\n                let cardChild=layoutpai.getChildByName(\"card\"+k);\n                if(typeof(cardIDList[k-1])==\"undefined\"){\n                    if(cardChild){\n                        cardChild.active=false;\n                    }\n                    continue;\n                }\n                cardChild.cardID=cardIDList[k-1];\n                /*if(opType==this.ShareDefine.OpType_Chi && cardChild.cardID==getCardID){\n                    cardChild.color=cc.color(180,180,180);\n                }else{\n                    cardChild.color=cc.color(255,255,255);\n                }*/\n                this.ShowOutCardImage(cardChild);\n            }\n\n            addYou.active=true;\n        }\n        //余下的牌\n        for(let i=0;i<cardMap.length;i++){\n            let addYou=cc.instantiate(demo_you);\n            let publicInfo = cardMap[i];\n            let opType = publicInfo[\"cardList\"][0];\n            let publicInfoList=publicInfo[\"cardList\"].slice(1,publicInfo[\"cardList\"].length);\n            let publicInfoValue=publicInfo[\"youNum\"];\n            let cardIDList = publicInfoList;\n            if (opType == 0) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"提\";\n            }else if (opType ==1) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"跑\";\n            }else if (opType == 2) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"偎\";\n            }else if (opType == 3) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"连\";\n            }else if (opType == 4) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"坎\";\n            }else if (opType == 5) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"碰\";\n            }else if (opType == 6) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"对\";\n            }else if (opType == 7) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"绞\";\n            }else if (opType == 8) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"手\";\n            }else{\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string=\"\";\n            }\n            addYou.getChildByName(\"lb_you\").getComponent(cc.Label).string=publicInfoValue;\n            let child=addYou.getChildByName(\"layoutpai\");\n            \n            for(let j=1;j<=4;j++){\n                let cardChild=child.getChildByName(\"card\"+j);\n                if(typeof(cardIDList[j-1])==\"undefined\"){\n                    if(cardChild){\n                        cardChild.active=false;\n                    }\n                    continue;\n                }\n                cardChild.cardID=cardIDList[j-1];\n                this.ShowOutCardImage(cardChild);\n                //如果是胡的牌。显示胡牌\n                if(huCard>0 && huCard==cardIDList[j-1]){\n                    cardChild.getChildByName(\"tip_hu\").active=true;\n                }else{\n                    cardChild.getChildByName(\"tip_hu\").active=false;\n                }\n            }\n            addYou.active=true;\n            layoutyou.addChild(addYou);\n        }\n\n        //显示总分\n        let lb_winpoint=PlayerNode.getChildByName(\"lb_winpoint\");\n        let lb_lostpoint=PlayerNode.getChildByName(\"lb_lostpoint\");\n        if(point>0){\n            lb_winpoint.active=true;\n            lb_lostpoint.active=false;\n            lb_winpoint.getComponent(cc.Label).string=\"+\"+point;\n        }else{\n            lb_winpoint.active=false;\n            lb_lostpoint.active=true;\n            lb_lostpoint.getComponent(cc.Label).string=point;\n        }\n\n\n        //比赛分\n        let lb_sportsPoint=PlayerNode.getChildByName(\"lb_sportsPoint\");\n        if(typeof(sportsPoint)!=\"undefined\"){\n            lb_sportsPoint.active=true;\n            lb_sportsPoint.getComponent(cc.Label).string=\"比赛分:\"+sportsPoint;\n        }else{\n            lb_sportsPoint.active=false;\n        }\n    },\n    ShowOutCardImage:function(childNode){\n        childNode.active=true;\n            let imageName = [\"zi_fangda_\", Math.floor(childNode.cardID/100)].join(\"\");\n            if(childNode.cardID==0){\n                imageName = [\"zi_fangda_bg\"].join(\"\");\n            }\n            let imageInfo = this.IntegrateImagePath[imageName];\n            if(!imageInfo){\n                this.ErrLog(\"ShowOutCardImage IntegrateImage.txt not find:%s\", imageName);\n                return\n            }\n            let imagePath = imageInfo[\"FilePath\"];\n            let that = this;\n             childNode.getChildByName(\"hua\").getComponent(cc.Sprite).spriteFrame=\"\";\n            let childSprite = childNode.getChildByName(\"dian\").getComponent(cc.Sprite);\n            this.SpriteShow(childSprite,imagePath);\n       \n    },\n    SpriteShow:function(childSprite,imagePath){\n        let that = this;\n        app.ControlManager().CreateLoadPromise(imagePath, cc.SpriteFrame)\n            .then(function(spriteFrame){\n                        if(!spriteFrame){\n                            that.ErrLog(\"OpenPoker(%s) load spriteFrame fail\", imagePath);\n                            return\n                        }\n                        childSprite.spriteFrame = spriteFrame;\n            }).catch(function(error){\n                that.ErrLog(\"OpenPoker(%s) error:%s\", imagePath, error.stack);\n            }\n        );\n    },\n    GetFanXingCardID:function(map){\n        let xingCardList=[];\n        for(let key in map){\n            xingCardList.push(parseInt(key));\n        }\n        return xingCardList;\n    },\n});\n"]}