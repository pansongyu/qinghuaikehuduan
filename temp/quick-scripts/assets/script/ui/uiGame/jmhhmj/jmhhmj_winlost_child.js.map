{"version":3,"sources":["jmhhmj_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ComTool","ShareDefine","SysDataManager","IntegrateImage","GetTableDict","ShowPlayerData","setEnd","playerAll","index","console","log","jin1","jin","jin2","dPos","posResultList","posHuArray","Array","posCount","length","i","posInfo","pos","posHuType","HuTypeStringDict","PlayerInfo","node","active","UpdatePlayData","zhuaNiaoList","huNode","getChildByName","ShowPlayerHuImg","WeChatManager","InitHeroHeadImage","weChatHeadImage","getComponent","ShowHeroHead","huTypeName","huType","Label","string","HuType_DianPao","HuType_JiePao","HuType_ZiMo","HuType_QGH","LabelName","LabelArray"],"mappings":"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","file":"jmhhmj_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\jmhhmj","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tthis.ComTool = app.ComTool();\n        this.ShareDefine=app.ShareDefine();\n        this.SysDataManager = app.SysDataManager();\n        this.IntegrateImage = this.SysDataManager.GetTableDict(\"IntegrateImage\");\n\t},\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        console.log(\"单局结算数据\", setEnd, playerAll, index);\n        let jin1 = setEnd.jin;\n        let jin2 = 0;\n        if (setEnd.jin2 > 0) {\n            jin2 = setEnd.jin2;\n        }\n        let dPos = setEnd.dPos;\n        let posResultList = setEnd[\"posResultList\"];\n        let posHuArray = new Array();\n        let posCount = posResultList.length;\n        for (let i = 0; i < posCount; i++) {\n            let posInfo = posResultList[i];\n            let pos = posInfo[\"pos\"];\n            let posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n            posHuArray[pos] = posHuType;\n        }\n        let PlayerInfo = playerAll[index];\n        this.node.active = true;\n        this.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2, setEnd.zhuaNiaoList);\n        let huNode = this.node.getChildByName('jiesuan').getChildByName('hutype');\n        this.ShowPlayerHuImg(huNode, posResultList[index]['huType']);\n\n        if (dPos === index) {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n        }\n        //显示头像，如果头像UI\n        if (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n    },\n    ShowPlayerHuImg:function(huNode,huTypeName){\n        /*huLbIcon\n        *  0:单吊，1：点炮，2：单游，3：胡，4：六金，5：平胡，6:抢杠胡 7:抢金，8：三游，9：四金倒，10：三金倒，11：三金游，12：十三幺\n        *  13：双游，14：天胡，15：五金，16：自摸 17:接炮\n        */\n        let huType=this.ShareDefine.HuTypeStringDict[huTypeName];\n        if(typeof(huType)==\"undefined\"){\n            huNode.getComponent(cc.Label).string = '';\n        }else if(huType == this.ShareDefine.HuType_DianPao){\n            huNode.getComponent(cc.Label).string = '点泡';\n        }else if(huType == this.ShareDefine.HuType_JiePao){\n            huNode.getComponent(cc.Label).string = '接炮';\n        }else if(huType == this.ShareDefine.HuType_ZiMo){\n            huNode.getComponent(cc.Label).string = '自摸';\n        }else if(huType == this.ShareDefine.HuType_QGH){\n            huNode.getComponent(cc.Label).string = '抢杠胡';\n        }else {\n            huNode.getComponent(cc.Label).string = '';\n        } \n  },\n  LabelName:function(huType){\n        let LabelArray=[];\n        LabelArray['QXD']=\"七小对\";\n        LabelArray['Hu']=\"胡\";\n        LabelArray['Ying_Hu']=\"硬胡\";\n        LabelArray['Ruan_Hu']=\"软胡\";\n        LabelArray['JieGang']=\"接杠\";\n        LabelArray['Gang']=\"杠\";\n        LabelArray['AnGang']=\"暗杠\";\n        LabelArray['PingHu']=\"平胡\";\n        LabelArray['GSKH']=\"杠上开花\";\n        LabelArray['zhongGang']=\"红中杠\";\n        LabelArray['laiGang']=\"赖子杠\";\n        return LabelArray[huType];\n  },\n});\n"]}