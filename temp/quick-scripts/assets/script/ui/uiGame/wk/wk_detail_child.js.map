{"version":3,"sources":["wk_detail_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ShowPlayerData","resultsList","playerAll","idx","data","userInfo","node","getChildByName","getComponent","ShowHeroHead","pid","Label","string","ComTool","GetPid","index","player","name","win","lose","point","active","sportsPoint","dissolveState","imagePath","that","loader","loadRes","SpriteFrame","error","spriteFrame","console","log","Sprite"],"mappings":"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","file":"wk_detail_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\wk","sourcesContent":["/*\n\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseComponent\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\n\t},\n\tShowPlayerData:function(resultsList, playerAll,idx){\n        let data = resultsList[idx];\n        let userInfo = this.node.getChildByName(\"user_info\");\n        if(userInfo){\n            userInfo.getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\").ShowHeroHead(data.pid);\n            userInfo.getChildByName(\"label_id\").getComponent(cc.Label).string = \"ID:\" + app.ComTool().GetPid(data.pid);\n            for(let index in playerAll){\n                let player = playerAll[index];\n                if(player.pid == data.pid){\n                    userInfo.getChildByName(\"lable_name\").getComponent(cc.Label).string = player.name;\n                    break;\n                }\n            }\n        }\n        this.node.getChildByName(\"lb_win\").getComponent(cc.Label).string = data.win;\n        this.node.getChildByName(\"lb_lose\").getComponent(cc.Label).string = data.lose;\n        if (data.point >= 0) {\n            this.node.getChildByName(\"lb_win_num\").getComponent(cc.Label).string = \"+\" + data.point;\n            this.node.getChildByName(\"lb_win_num\").active = true;\n            this.node.getChildByName(\"lb_lose_num\").active = false;\n        }else{\n            this.node.getChildByName(\"lb_lose_num\").getComponent(cc.Label).string = data.point;\n            this.node.getChildByName(\"lb_win_num\").active = false;\n            this.node.getChildByName(\"lb_lose_num\").active = true;\n        }\n        //比赛分\n        if (typeof(data.sportsPoint)!=\"undefined\") {\n            this.node.getChildByName(\"lb_sportsPoint\").active = true;\n            if (data.sportsPoint > 0) {\n                this.node.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + data.sportsPoint;\n            }else{\n                this.node.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = data.sportsPoint;\n            }\n        }else{\n            this.node.getChildByName(\"lb_sportsPoint\").active = false;\n        }\n        \n        if (this.node.getChildByName('icon_dissolve') != null) {\n            //显示是否解散（-1:正常结束,0:未操作,1:同意操作,2:拒绝操作,3:发起者）\n            if (typeof(data.dissolveState) == \"undefined\" || data.dissolveState == -1) {\n                this.node.getChildByName('icon_dissolve').active=false;\n            }else{\n                let imagePath = \"texture/record/img_dissolve\"+data.dissolveState;\n                let that = this;\n                //加载图片精灵\n                cc.loader.loadRes(imagePath, cc.SpriteFrame, function (error, spriteFrame) {\n                    if(error){\n                        console.log(\"加载图片精灵失败  \" + imagePath);\n                        return\n                    }\n                    that.node.getChildByName('icon_dissolve').getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                    that.node.getChildByName('icon_dissolve').active=true;\n                });\n            }\n        }\n\t},\n});\n"]}