{"version":3,"sources":["wzmjChildCreateRoom.js"],"names":["app","require","wzmjChildCreateRoom","cc","Class","extends","properties","CreateSendPack","renshu","setCount","isSpiltRoomCard","sendPack","difen","GetIdxByKey","xianShi","jiesan","lianmai","shanghuopiaofen","qingyisepinghu","wzmj_kexuanwanfa","i","Toggles","length","getChildByName","active","push","wzmj_fangjian","gaoji","OnToggleClick","event","FormManager","CloseForm","toggles","target","parent","toggle","key","name","substring","toggleIndex","parseInt","needClearList","needShowIndexList","ClearToggleCheck","UpdateLabelColor","UpdateTogglesLabel","UpdateOnClickToggle","getComponent","Toggle","mark","module","exports"],"mappings":";;;;;;AAAA;;;AAGA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEA,IAAIC,sBAAsBC,GAAGC,KAAH,CAAS;AAC/BC,aAASJ,QAAQ,qBAAR,CADsB;;AAG/BK,gBAAY,EAHmB;AAM/B;AACAC,oBAAe,wBAASC,MAAT,EAAiBC,QAAjB,EAA2BC,eAA3B,EAA2C;AACtD,YAAIC,WAAW,EAAf;AACA,YAAIC,QAAQ,KAAKC,WAAL,CAAiB,OAAjB,CAAZ;AACA,YAAIC,UAAU,KAAKD,WAAL,CAAiB,SAAjB,CAAd;AACA,YAAIE,SAAS,KAAKF,WAAL,CAAiB,QAAjB,CAAb;AACA,YAAIG,UAAU,KAAKH,WAAL,CAAiB,SAAjB,CAAd;AACA,YAAII,kBAAkB,KAAKJ,WAAL,CAAiB,iBAAjB,CAAtB;AACA,YAAIK,iBAAiB,KAAKL,WAAL,CAAiB,gBAAjB,CAArB;AACA,YAAIM,mBAAiB,EAArB;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAE,KAAKC,OAAL,CAAa,aAAb,EAA4BC,MAA1C,EAAiDF,GAAjD,EAAqD;AACjD,gBAAG,KAAKC,OAAL,CAAa,aAAb,EAA4BD,CAA5B,EAA+BG,cAA/B,CAA8C,WAA9C,EAA2DC,MAA9D,EAAqE;AACjEL,iCAAiBM,IAAjB,CAAsBL,CAAtB;AACH;AACJ;AACD,YAAIM,gBAAc,EAAlB;AACA,aAAI,IAAIN,KAAE,CAAV,EAAYA,KAAE,KAAKC,OAAL,CAAa,UAAb,EAAyBC,MAAvC,EAA8CF,IAA9C,EAAkD;AAC9C,gBAAG,KAAKC,OAAL,CAAa,UAAb,EAAyBD,EAAzB,EAA4BG,cAA5B,CAA2C,WAA3C,EAAwDC,MAA3D,EAAkE;AAC9DE,8BAAcD,IAAd,CAAmBL,EAAnB;AACH;AACJ;AACD,YAAIO,QAAQ,EAAZ;AACA,aAAK,IAAIP,MAAI,CAAb,EAAgBA,MAAI,KAAKC,OAAL,CAAa,OAAb,EAAsBC,MAA1C,EAAkDF,KAAlD,EAAuD;AACnD,gBAAI,KAAKC,OAAL,CAAa,OAAb,EAAsBD,GAAtB,EAAyBG,cAAzB,CAAwC,WAAxC,EAAqDC,MAAzD,EAAiE;AAC7DG,sBAAMF,IAAN,CAAWL,GAAX;AACH;AACJ;AACDT,mBAAW;AACC,4BAAeH,OAAO,CAAP,CADhB;AAEC,yBAAYA,OAAO,CAAP,CAFb;AAGC,wBAAWC,QAHZ;AAIC,mCAAsBC,eAJvB;AAKC,qBAAQE,KALT;AAMC,2BAAcO,gBANf;AAOC,wBAAWO,aAPZ;AAQC,uBAAUZ,OARX;AASC,sBAASC,MATV;AAUC,uBAAWC,OAVZ;AAWC,+BAAkBC,eAXnB;AAYC,8BAAiBC,cAZlB;AAaC,qBAASS;AAbV,SAAX;AAeA,eAAOhB,QAAP;AACH,KAjD8B;;AAmD/BiB,mBAAc,uBAASC,KAAT,EAAe;AACzB,aAAKC,WAAL,CAAiBC,SAAjB,CAA2B,cAA3B;AACA,YAAIC,UAAUH,MAAMI,MAAN,CAAaC,MAA3B;AACA,YAAIC,SAASN,MAAMI,MAAnB;AACA,YAAIG,MAAMJ,QAAQK,IAAR,CAAaC,SAAb,CAAwB,UAAD,CAAahB,MAApC,EAA2CU,QAAQK,IAAR,CAAaf,MAAxD,CAAV;AACA,YAAIiB,cAAcC,SAASL,OAAOE,IAAP,CAAYC,SAAZ,CAAuB,QAAD,CAAWhB,MAAjC,EAAwCa,OAAOE,IAAP,CAAYf,MAApD,CAAT,IAAwE,CAA1F;AACA,YAAImB,gBAAgB,EAApB;AACA,YAAIC,oBAAoB,EAAxB;AACAD,wBAAgB,KAAKpB,OAAL,CAAae,GAAb,CAAhB;AACAM,0BAAkBjB,IAAlB,CAAuBc,WAAvB;AACA,YAAG,WAAWH,GAAX,IAAkB,YAAYA,GAA9B,IAAqC,aAAaA,GAArD,EAAyD;AACrD,iBAAKO,gBAAL,CAAsBF,aAAtB,EAAoCC,iBAApC;AACA,iBAAKE,gBAAL,CAAsBZ,OAAtB;AACA,iBAAKa,kBAAL,CAAwBb,OAAxB,EAAiC,KAAjC;AACA,iBAAKc,mBAAL;AACA;AACH,SAND,MAMO,IAAG,iBAAiBV,GAApB,EAAwB,CAE9B,CAFM,MAED,IAAG,cAAcA,GAAjB,EAAqB;AACvB,gBAAI,KAAKf,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDC,MAAxD,IAAkEe,eAAe,CAArF,EAAwF;AACpF,qBAAKlB,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDC,MAAxD,GAAiE,KAAjE;AACA,qBAAKoB,gBAAL,CAAsB,KAAKvB,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4Ba,MAAlD;AACH,aAHD,MAGO,IAAI,KAAKb,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDC,MAAxD,IAAkEe,eAAe,CAArF,EAAwF;AAC3F,qBAAKlB,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDC,MAAxD,GAAiE,KAAjE;AACA,qBAAKoB,gBAAL,CAAsB,KAAKvB,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4Ba,MAAlD;AACH;;AAEA;AACD,gBAAI,KAAKb,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDC,MAAxD,IAAkEe,eAAe,CAArF,EAAwF;AACpF,qBAAKlB,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDC,MAAxD,GAAiE,KAAjE;AACA,qBAAKoB,gBAAL,CAAsB,KAAKvB,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4Ba,MAAlD;AACH,aAHD,MAGO,IAAI,KAAKb,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDC,MAAxD,IAAkEe,eAAe,CAArF,EAAwF;AAC3F,qBAAKlB,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDC,MAAxD,GAAiE,KAAjE;AACA,qBAAKoB,gBAAL,CAAsB,KAAKvB,OAAL,CAAa,UAAb,EAAyB,CAAzB,EAA4Ba,MAAlD;AACH;AACJ;AACD,YAAGF,QAAQe,YAAR,CAAqB5C,GAAG6C,MAAxB,CAAH,EAAmC;AAAC;AAChCN,gCAAoB,EAApB;AACA,iBAAI,IAAItB,IAAE,CAAV,EAAYA,IAAEqB,cAAcnB,MAA5B,EAAmCF,GAAnC,EAAuC;AACnC,oBAAI6B,OAAOR,cAAcrB,CAAd,EAAiBG,cAAjB,CAAgC,WAAhC,EAA6CC,MAAxD;AACA;AACA,oBAAGyB,QAAQ7B,KAAKmB,WAAhB,EAA4B;AACxBG,sCAAkBjB,IAAlB,CAAuBL,CAAvB;AACH;AACD;AAHA,qBAIK,IAAG,CAAC6B,IAAD,IAAS7B,KAAKmB,WAAjB,EAA6B;AAC9BG,0CAAkBjB,IAAlB,CAAuBL,CAAvB;AACH;AACJ;AACJ;AACD,aAAKuB,gBAAL,CAAsBF,aAAtB,EAAoCC,iBAApC;AACA,aAAKE,gBAAL,CAAsBZ,OAAtB,EAA8B,aAAaI,GAAb,GAAmB,IAAnB,GAA0B,KAAxD;AACA,aAAKU,mBAAL;AACH;AAxG8B,CAAT,CAA1B;;AA2GAI,OAAOC,OAAP,GAAiBjD,mBAAjB","file":"wzmjChildCreateRoom.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\wzmj","sourcesContent":["/*\n创建房间子界面\n */\nvar app = require(\"app\");\n\nvar wzmjChildCreateRoom = cc.Class({\n    extends: require(\"BaseChildCreateRoom\"),\n\n    properties: {\n\n    },\n    //需要自己重写\n    CreateSendPack:function(renshu, setCount, isSpiltRoomCard){\n        let sendPack = {};\n        let difen = this.GetIdxByKey('difen');\n        let xianShi = this.GetIdxByKey('xianShi');\n        let jiesan = this.GetIdxByKey('jiesan');\n        let lianmai = this.GetIdxByKey(\"lianmai\");\n        let shanghuopiaofen = this.GetIdxByKey('shanghuopiaofen');\n        let qingyisepinghu = this.GetIdxByKey('qingyisepinghu');\n        let wzmj_kexuanwanfa=[];\n        for(let i=0;i<this.Toggles['kexuanwanfa'].length;i++){\n            if(this.Toggles['kexuanwanfa'][i].getChildByName('checkmark').active){\n                wzmj_kexuanwanfa.push(i);\n            }\n        }\n        let wzmj_fangjian=[];\n        for(let i=0;i<this.Toggles['fangjian'].length;i++){\n            if(this.Toggles['fangjian'][i].getChildByName('checkmark').active){\n                wzmj_fangjian.push(i);\n            }\n        }\n        let gaoji = [];\n        for (let i = 0; i < this.Toggles['gaoji'].length; i++) {\n            if (this.Toggles['gaoji'][i].getChildByName('checkmark').active) {\n                gaoji.push(i);\n            }\n        }\n        sendPack = {\n                    \"playerMinNum\":renshu[0],\n                    \"playerNum\":renshu[1],\n                    \"setCount\":setCount,\n                    \"paymentRoomCardType\":isSpiltRoomCard,\n                    \"difen\":difen,\n                    \"kexuanwanfa\":wzmj_kexuanwanfa,\n                    \"fangjian\":wzmj_fangjian,\n                    \"xianShi\":xianShi,\n                    \"jiesan\":jiesan,\n                    \"lianmai\": lianmai,\n                    \"shanghuopiaofen\":shanghuopiaofen,\n                    \"qingyisepinghu\":qingyisepinghu,\n                    \"gaoji\": gaoji,\n        };\n        return sendPack;\n    },\n\n    OnToggleClick:function(event){\n        this.FormManager.CloseForm(\"UIMessageTip\");\n        let toggles = event.target.parent;\n        let toggle = event.target;\n        let key = toggles.name.substring(('Toggles_').length,toggles.name.length);\n        let toggleIndex = parseInt(toggle.name.substring(('Toggle').length,toggle.name.length)) - 1;\n        let needClearList = [];\n        let needShowIndexList = [];\n        needClearList = this.Toggles[key];\n        needShowIndexList.push(toggleIndex);\n        if('jushu' == key || 'renshu' == key || 'fangfei' == key){\n            this.ClearToggleCheck(needClearList,needShowIndexList);\n            this.UpdateLabelColor(toggles);\n            this.UpdateTogglesLabel(toggles, false);\n            this.UpdateOnClickToggle();\n            return;\n        } else if('kexuanwanfa' == key){\n           \n        }else if('fangjian' == key){\n            if (this.Toggles['fangjian'][2].getChildByName('checkmark').active && toggleIndex == 3) {\n                this.Toggles['fangjian'][2].getChildByName('checkmark').active = false;\n                this.UpdateLabelColor(this.Toggles['fangjian'][2].parent);\n            } else if (this.Toggles['fangjian'][3].getChildByName('checkmark').active && toggleIndex == 2) {\n                this.Toggles['fangjian'][3].getChildByName('checkmark').active = false;\n                this.UpdateLabelColor(this.Toggles['fangjian'][3].parent);\n            }\n            \n             //小局托管解散\n            if (this.Toggles['fangjian'][1].getChildByName('checkmark').active && toggleIndex == 4) {\n                this.Toggles['fangjian'][1].getChildByName('checkmark').active = false;\n                this.UpdateLabelColor(this.Toggles['fangjian'][1].parent);\n            } else if (this.Toggles['fangjian'][4].getChildByName('checkmark').active && toggleIndex == 1) {\n                this.Toggles['fangjian'][4].getChildByName('checkmark').active = false;\n                this.UpdateLabelColor(this.Toggles['fangjian'][4].parent);\n            }\n        }\n        if(toggles.getComponent(cc.Toggle)){//复选框\n            needShowIndexList = [];\n            for(let i=0;i<needClearList.length;i++){\n                let mark = needClearList[i].getChildByName('checkmark').active;\n                //如果复选框为勾选状态并且点击的复选框不是该复选框，则继续保持勾选状态\n                if(mark && i != toggleIndex){\n                    needShowIndexList.push(i);\n                }\n                //如果复选框为未勾选状态并且点击的复选框是该复选框，则切换为勾选状态\n                else if(!mark && i == toggleIndex){\n                    needShowIndexList.push(i);\n                }\n            }\n        }\n        this.ClearToggleCheck(needClearList,needShowIndexList);\n        this.UpdateLabelColor(toggles,'fangfei' == key ? true : false);\n        this.UpdateOnClickToggle();\n    },\n});\n\nmodule.exports = wzmjChildCreateRoom;"]}