{"version":3,"sources":["sxzjmj_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ComTool","ShareDefine","ShowPlayerHuImg","huNode","huTypeName","huType","HuTypeStringDict","getComponent","Label","string","HuType_DianPao","HuType_JiePao","HuType_ZiMo","HuType_QGH","ShowPlayerData","setEnd","playerAll","index","jin1","jin2","dPos","cfg","kexuanwanfa","posResultList","posHuArray","Array","posCount","length","baoTai","i","posInfo","pos","posHuType","PlayerInfo","node","active","UpdatePlayData","getChildByName","WeChatManager","InitHeroHeadImage","weChatHeadImage","ShowHeroHead","LabelName","huTypeDict","WuCai","PPHu","PingHu","QuanZP","QYS","HYS","ZFB","Dong","GSKH","QiangGangHu","PlayerNode","HuList","showLabelNum","ClearLabelShow","sportsPointTemp","ShowLabelName","sportsPoint","ShowPlayerRecord","ShowPlayerJieSuan","ShowPlayerInfo","ShowPlayerDownCard","publicCardList","ShowPlayerShowCard","shouCard","handCard","ShowPlayerHuaCard","huaList","ShowNode","publishcard","UICard_DownCard","ShowDownCardBySXZJMJ"],"mappings":"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","file":"sxzjmj_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\sxzjmj","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseMJ_winlost_child\"),\n\n    properties: {},\n\n    // use this for initialization\n    OnLoad: function () {\n        this.ComTool = app.ComTool();\n        this.ShareDefine = app.ShareDefine();\n    },\n    ShowPlayerHuImg: function (huNode, huTypeName) {\n        /*huLbIcon\n         *  0:单吊，1：点炮，2：单游，3：胡，4：六金，5：平胡，6:抢杠胡 7:抢金，8：三游，9：四金倒，10：三金倒，11：三金游，12：十三幺\n         *  13：双游，14：天胡，15：五金，16：自摸 17:接炮\n         */\n        let huType = this.ShareDefine.HuTypeStringDict[huTypeName];\n        if (typeof(huType) == \"undefined\") {\n            huNode.getComponent(cc.Label).string = '';\n        } else if (huType == this.ShareDefine.HuType_DianPao) {\n            huNode.getComponent(cc.Label).string = '点泡';\n        } else if (huType == this.ShareDefine.HuType_JiePao) {\n            huNode.getComponent(cc.Label).string = '接炮';\n        } else if (huType == this.ShareDefine.HuType_ZiMo) {\n            huNode.getComponent(cc.Label).string = '自摸';\n        } else if (huType == this.ShareDefine.HuType_QGH) {\n            huNode.getComponent(cc.Label).string = '抢杠胡';\n        } else {\n            huNode.getComponent(cc.Label).string = '';\n        }\n    },\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        let jin1 = setEnd.jin1;\n        let jin2 = setEnd.jin2;\n        let dPos = setEnd.dPos;\n        let cfg = setEnd.cfg;\n        let kexuanwanfa = cfg.kexuanwanfa;\n        let posResultList = setEnd[\"posResultList\"];\n        let posHuArray = new Array();\n        let posCount = posResultList.length;\n        let baoTai = \"\";\n        for (let i = 0; i < posCount; i++) {\n            let posInfo = posResultList[i];\n            let pos = posInfo[\"pos\"];\n            let posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n            posHuArray[pos] = posHuType;\n            if (typeof (posInfo[\"baoTai\"]) != \"undefined\") {\n                baoTai = posInfo[\"baoTai\"];\n            }\n        }\n        let PlayerInfo = playerAll[index];\n        this.node.active = true;\n        this.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2, kexuanwanfa);\n        let huNode = this.node.getChildByName('jiesuan').getChildByName('hutype');\n        this.ShowPlayerHuImg(huNode, posResultList[index]['huType']);\n        this.node.getChildByName(\"user_info\").getChildByName(\"bao\").active = false;\n        if (baoTai != \"\") {\n            this.node.getChildByName(\"user_info\").getChildByName(\"bao\").active = true;\n        }\n        if (dPos === index) {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n        }\n        //显示头像，如果头像UI\n        if (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n    },\n    LabelName: function (huType) {\n        let huTypeDict = {\n            WuCai: \"无财\",\n            PPHu: \"碰碰胡\",\n            PingHu: \"平胡\",\n            QuanZP: \"全字牌\",\n            QYS: \"清一色\",\n            HYS: \"混一色\",\n            ZFB: \"中发白\",\n            Dong: \"东风\",\n            GSKH: \"杠上开花\",\n            QiangGangHu: \"抢杠胡\"\n        };\n        return huTypeDict[huType];\n    },\n    UpdatePlayData: function (PlayerNode, HuList, PlayerInfo, jin1 = 0, jin2 = 0, kexuanwanfa = []) {\n        this.HuList = HuList;\n        this.showLabelNum = 1;\n        this.ClearLabelShow(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'));\n        //显示比赛分\n        if (typeof (HuList.sportsPointTemp) != \"undefined\") {\n            if (HuList.sportsPointTemp > 0) {\n                this.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：+\" + HuList.sportsPointTemp);\n            } else {\n                this.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：\" + HuList.sportsPointTemp);\n            }\n        } else if (typeof (HuList.sportsPoint) != \"undefined\") {\n            if (HuList.sportsPoint > 0) {\n                this.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：+\" + HuList.sportsPoint);\n            } else {\n                this.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：\" + HuList.sportsPoint);\n            }\n        }\n        this.ShowPlayerRecord(PlayerNode.getChildByName('record'), HuList);\n        this.ShowPlayerJieSuan(PlayerNode.getChildByName('jiesuan'), HuList);\n        this.ShowPlayerInfo(PlayerNode.getChildByName('user_info'), PlayerInfo, HuList);\n        this.ShowPlayerDownCard(PlayerNode.getChildByName('downcard'), kexuanwanfa, HuList.publicCardList, jin1, jin2);\n        this.ShowPlayerShowCard(PlayerNode.getChildByName('showcard'), HuList.shouCard, HuList.handCard, jin1, jin2);\n        this.ShowPlayerHuaCard(PlayerNode.getChildByName('huacard'), HuList.huaList);\n    },\n    ShowPlayerDownCard: function (ShowNode, kexuanwanfa, publishcard, jin1 = 0, jin2 = 0) {\n        ShowNode.active = 1;\n        let UICard_DownCard = ShowNode.getComponent(\"UIMJCard_Down\");\n        UICard_DownCard.ShowDownCardBySXZJMJ(kexuanwanfa, publishcard, jin1, jin2);\n    },\n});\n"]}