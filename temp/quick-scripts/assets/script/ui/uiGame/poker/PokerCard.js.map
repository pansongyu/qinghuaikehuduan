{"version":3,"sources":["PokerCard.js"],"names":["app","require","PokerCard","BaseClass","extend","Init","JS_Name","aycp_pokerDict","pokerList","pokerDict","miniPokerList","LOGIC_MASK_COLOR","LOGIC_MASK_VALUE","LOGIC_MASK_XIAOWANG","LOGIC_MASK_DAWANG","NNConst_BeiShu","LoadAllPokerRes","SubCardValue","poker","temp","length","substring","GetPokeCard","cardNode","isShowIcon1","isShowLandowner","hideBg","isRazz","isPartnerCard","type","type_2","type_3","type_4","num","cardColor","cardValue","isRed","GetCardColor","GetCardValue","getChildByName","active","numNode","toString","getComponent","cc","Sprite","spriteFrame","i","_name","GetMiniPokeCard","iconNode","type1","numSp","iconSp","GetSGPokerTypeStr","cards","cardType","bSpecialNum","data","typeStr","isBigCard","beiShu","useRedColor","curValue","GetSGValue","value0","value1","value2","needValue","GetZJHPokerTypeStr","cardValues","ErrLog","sort","NormalPokerSort","IsZhaDanByZJH","IsTongHuaByZJH","IsShunZiByZJH","IsDuiZiByZJH","GetNNPokerTypeStr","curDataType","roomMrg","ZJPLSRoomMgr","room","GetEnterRoom","parseInt","selectIndex","specialCards","selectDataList","roomCfg","GetRoomConfig","fanbeiguize","teshupaixing","selectType1","selectType2","selectType3","self","loader","loadResDir","SpriteFrame","err","assets","error","push","a","b","aValue","bValue","NNPokerSort","pokers","sortList","fristIndex","secondIndex","threeIndex","CheckNiu","SortNiu","fristValue","secondValue","threeValue","allValue","curValue1","curValue2","curValue3","CheckNiuEx","tempSorts","sortFunAIsMin","tempList","valueA","valueB","color","GetCardColorTwo","GetCardValueTwo","card0","card1","card2","color0","color1","color2","GetYSDZPokeCard","g_PokerCard","exports","GetModel"],"mappings":"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","file":"PokerCard.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\poker","sourcesContent":["var app = require('app');\n\nvar PokerCard = app.BaseClass.extend({\n\n    /**\n     * 构造函数\n     */\n    Init: function () {\n        this.JS_Name = \"PokerCard\";\n\n        this.aycp_pokerDict = {};\n        this.pokerList = [];\n        this.pokerDict = {};\n        //小牌\n        this.miniPokerList = [];\n\n        this.LOGIC_MASK_COLOR = 0xF0;\n        this.LOGIC_MASK_VALUE = 0x0F;\n\n        this.LOGIC_MASK_XIAOWANG = 16;\n        this.LOGIC_MASK_DAWANG = 17;\n        this.NNConst_BeiShu = [[0, 1, 1, 1, 1, 1, 1, 2, 2, 3, 4, 5, 6, 8], [0, 1, 1, 1, 1, 1, 1, 1, 2, 2, 3, 5, 6, 8]];//牌型倍数\n        this.LoadAllPokerRes();\n    },\n\n    SubCardValue: function (poker) {\n        let temp = \"\";\n        if (poker.length > 4) {\n            temp = poker;\n            temp = temp.substring(0, temp.length - 1);\n        }\n        else {\n            temp = poker;\n        }\n\n        return temp;\n    },\n\n    GetPokeCard: function (poker, cardNode, isShowIcon1 = true, isShowLandowner = false, hideBg = false, isRazz = false, isPartnerCard = false) {\n        if (0 == poker)\n            return;\n        let type = \"\";\n        let type_2 = \"\";\n        let type_3 = \"\";\n        let type_4 = \"\";\n        let num = \"\";\n        let cardColor = -1;\n        let cardValue = -1;\n        let isRed = true;\n\n        cardColor = this.GetCardColor(poker);\n        cardValue = this.GetCardValue(poker);\n\n        cardNode.getChildByName(\"bg_poker\").active = true;\n\n        if (cardColor != 64) {\n            let numNode = cardNode.getChildByName(\"num\");\n            // if(0.5 == cardNode.anchorX && 0.5 == cardNode.anchorY){\n            //     numNode.x = -35;\n            //     numNode.y = 55;\n            // }\n\n            if (1 == cardValue)//服务端发过来的可能是1\n                cardValue = 14;\n            if (15 == cardValue)//跑得快服务端发过来15转为2\n                cardValue = 2;\n\n            if (cardColor == 0) {\n                type = 'bg_diamond1_1';\n                type_2 = 'bg_diamond1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                isRed = true;\n            }\n            else if (cardColor == 16) {\n                type = 'bg_club1_1';\n                type_2 = 'bg_club1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                isRed = false;\n            }\n            else if (cardColor == 32) {\n                type = 'bg_heart1_1';\n                type_2 = 'bg_heart1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                isRed = true;\n            }\n            else if (cardColor == 48) {\n                type = 'bg_spade1_1';\n                type_2 = 'bg_spade1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                isRed = false;\n            }\n\n            // if(cardValue == 11){\n            //     type = type + \"_11\";\n            // }\n            // else if(cardValue == 12){\n            //     type = type + \"_12\";\n            // }\n            // else if(cardValue == 13){\n            //     type = type + \"_13\";\n            // }\n\n            if (isRed) {\n                num = \"red_\" + cardValue.toString();\n            }\n            else {\n                num = \"black_\" + cardValue.toString();\n            }\n            //如果是癞子牌\n            if (isRazz) {\n                type = 'bg_lz1_1';\n                type_2 = 'bg_lz1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                num = \"yellow_\" + cardValue.toString();\n            }\n        }\n        else {\n            let numNode = cardNode.getChildByName(\"num\");\n            numNode.active = true;\n            // numNode.x = -44;\n            // numNode.y = 37;\n            //大王\n            if (cardValue == this.LOGIC_MASK_DAWANG) {\n                type = \"icon_big_king\";\n                type_2 = \"icon_big_king_01\";\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                num = \"\";\n            }\n            //小王\n            else if (cardValue == this.LOGIC_MASK_XIAOWANG) {\n                type = \"icon_small_king\";\n                type_2 = \"icon_small_king_01\";\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                num = \"\";\n            }\n        }\n        //this.ErrLog('type ' + type + ' num ' + num);\n        cardNode.getChildByName(\"num\").getComponent(cc.Sprite).spriteFrame = '';\n        for (let i = 0; i < this.pokerList.length; i++) {\n            if (this.pokerList[i]._name == type) {\n                if (isShowIcon1 == false && (type == \"icon_big_king\" || type == \"icon_small_king\")) {\n                    //大小王不在最后一根，不显示icon\n                    cardNode.getChildByName(\"icon\").getComponent(cc.Sprite).spriteFrame = '';\n                } else {\n                    cardNode.getChildByName(\"icon\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                }\n                cardNode.getChildByName(\"icon\").active = true;\n            }\n            else if (this.pokerList[i]._name == type_2) {\n                if (isShowIcon1 == true || type == \"icon_big_king\" || type == \"icon_small_king\") { //大小王必须显示icon_1\n                    cardNode.getChildByName(\"icon_1\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                } else {\n                    cardNode.getChildByName(\"icon_1\").getComponent(cc.Sprite).spriteFrame = '';\n                }\n                cardNode.getChildByName(\"icon_1\").active = true;\n            }\n            else if (this.pokerList[i]._name == type_3 && cardNode.getChildByName(\"icon_2\")) {\n                if (isShowLandowner) {\n                    cardNode.getChildByName(\"icon_2\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                    cardNode.getChildByName(\"icon_2\").active = true;\n                } else {\n                    cardNode.getChildByName(\"icon_2\").active = false;\n                }\n            }\n            else if (this.pokerList[i]._name == type_4 && cardNode.getChildByName(\"icon_3\")) {\n                if (isPartnerCard && !isRazz) {\n                    cardNode.getChildByName(\"icon_3\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                    cardNode.getChildByName(\"icon_3\").active = true;\n                } else {\n                    cardNode.getChildByName(\"icon_3\").active = false;\n                }\n            }\n            else if (this.pokerList[i]._name == num) {\n                cardNode.getChildByName(\"num\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                cardNode.getChildByName(\"num\").active = true;\n            }\n        }\n        if (hideBg)\n            cardNode.getChildByName(\"poker_back\").active = false;\n    },\n    //小牌渲染\n    GetMiniPokeCard: function (poker, cardNode) {\n        if (0 == poker) {\n            return;\n        }\n        let numNode = cardNode.getChildByName(\"num\");\n        let iconNode = cardNode.getChildByName(\"icon\");\n        let type = \"\";\n        let type1 = \"bg_poker\";\n        let num = \"\";\n        let cardColor = this.GetCardColor(poker);\n        let cardValue = this.GetCardValue(poker);\n        if (1 == cardValue)//服务端发过来的可能是1\n            cardValue = 14;\n        if (15 == cardValue)//跑得快服务端发过来15转为2\n            cardValue = 2;\n        numNode.active = true;\n        iconNode.active = true;\n        if (cardColor == 0) {//方块\n            type = 'small_bg_diamond1_2';\n            num = \"red_\" + cardValue;\n        } else if (cardColor == 16) {//梅花\n            type = 'small_bg_club1_2';\n            num = \"black_\" + cardValue;\n        } else if (cardColor == 32) {//红桃\n            type = 'small_bg_heart1_2';\n            num = \"red_\" + cardValue;\n        } else if (cardColor == 48) {//黑桃\n            type = 'small_bg_spade1_2';\n            num = \"black_\" + cardValue;\n        } else if (cardColor == 64) {//大小王\n            numNode.active = false;\n            if (cardValue == this.LOGIC_MASK_XIAOWANG) {//小鬼\n                type = \"small_bg_xw\";\n                num = \"\";\n            } else if (cardValue == this.LOGIC_MASK_DAWANG) {//大鬼\n                type = \"small_bg_dw\";\n                num = \"\";\n            }\n        }\n        let numSp = cardNode.getChildByName(\"num\").getComponent(cc.Sprite);\n        let iconSp = cardNode.getChildByName(\"icon\").getComponent(cc.Sprite);\n        for (let i = 0; i < this.miniPokerList.length; i++) {\n            if (this.miniPokerList[i]._name == type) {\n                iconSp.spriteFrame = this.miniPokerList[i];\n            }\n            else if (this.miniPokerList[i]._name == num) {\n                numSp.spriteFrame = this.miniPokerList[i];\n            }\n        }\n    },\n    GetSGPokerTypeStr: function (cards, cardType, bSpecialNum = false) {//specialNum 8点倍数\n        if (3 != cards.length)\n            return;\n        let data = {};\n        data.typeStr = '';\n        data.isBigCard = false;\n        data.beiShu = 0;\n        data.useRedColor = true;\n        if (0 == cardType) {\n            let curValue = this.GetSGValue(cards);\n            data.typeStr = curValue.toString();\n            data.typeStr += '点';\n            if (curValue < 8)\n                data.beiShu = 1;\n            else if (8 == curValue && !bSpecialNum)\n                data.beiShu = 2;\n            else\n                data.beiShu = 3;\n\n            data.useRedColor = false;\n        }\n        else if (101 == cardType ||\n            102 == cardType) {\n            if (101 == cardType)\n                data.typeStr = '单公';\n            else\n                data.typeStr = '双公';\n\n            let curValue = this.GetSGValue(cards);\n            if (curValue < 8)\n                data.beiShu = 1;\n            else if (8 == curValue && !bSpecialNum)\n                data.beiShu = 2;\n            else\n                data.beiShu = 3;\n            // curValue += 97;//to a\n            // data.typeStr += String.fromCharCode(curValue);\n            // data.typeStr += '电';\n            data.typeStr += curValue.toString();\n            data.typeStr += '点';\n            data.useRedColor = false;\n        }\n        else if (103 == cardType) {\n            data.typeStr = '混三功';\n            data.beiShu = 5;\n            data.isBigCard = true;\n        }\n        else if (104 == cardType) {\n            data.typeStr = '小三功';\n            data.beiShu = 7;\n            data.isBigCard = true;\n        }\n        else if (105 == cardType) {\n            data.typeStr = '大三功';\n            data.beiShu = 9;\n            data.isBigCard = true;\n        }\n        else if (106 == cardType) {\n            data.typeStr = '至尊';\n            data.beiShu = 9;\n            data.isBigCard = true;\n        }\n        return data;\n    },\n    GetSGValue: function (cards) {\n        let value0 = this.GetCardValue(cards[0]);\n        let value1 = this.GetCardValue(cards[1]);\n        let value2 = this.GetCardValue(cards[2]);\n        if (value0 >= 10)\n            value0 = 10;\n        if (value1 >= 10)\n            value1 = 10;\n        if (value2 >= 10)\n            value2 = 10;\n        let needValue = value0 + value1 + value2;\n        needValue = needValue % 10;\n        return needValue;\n    },\n    GetZJHPokerTypeStr: function (cardValues, cardType = -1) {//cardValues客户端自己算\n        let data = {};\n        data.typeStr = '';\n        data.isBigCard = false;\n        data.beiShu = 0;\n        if (-1 != cardType) {\n            if (0 == cardType)\n                data.typeStr = '散排';\n            else if (101 == cardType)//对子\n                data.typeStr = '对子';\n            else if (102 == cardType)//顺子\n                data.typeStr = '顺子';\n            else if (103 == cardType)//金华\n                data.typeStr = '金花';\n            else if (104 == cardType) {//顺金\n                data.typeStr = '顺金';\n                data.isBigCard = true;\n            }\n            else if (105 == cardType) {//豹子\n                data.typeStr = '豹子';\n                data.isBigCard = true;\n            }\n            else if (106 == cardType)//特殊\n                data.typeStr = '散排';\n            return data;\n        }\n\n        if (!cardValues || 3 != cardValues.length) {\n            this.ErrLog('GetZJHPokerTypeStr Error');\n            return;\n        }\n        cardValues.sort(this.NormalPokerSort);\n        if (this.IsZhaDanByZJH(cardValues)) {\n            data.typeStr = '豹子';\n            data.isBigCard = true;\n        }\n        else if (this.IsTongHuaByZJH(cardValues)) {\n            if (this.IsShunZiByZJH(cardValues)) {\n                data.typeStr = '顺金';\n                data.isBigCard = true;\n            }\n            else\n                data.typeStr = '金花';\n        }\n        else if (this.IsShunZiByZJH(cardValues))\n            data.typeStr = '顺子';\n        else if (this.IsDuiZiByZJH(cardValues))\n            data.typeStr = '对子';\n        else\n            data.typeStr = '散排';\n\n        return data;\n    },\n    GetNNPokerTypeStr: function (curDataType) {\n        let roomMrg = app.ZJPLSRoomMgr();\n        let room = roomMrg.GetEnterRoom();\n\n        curDataType = parseInt(curDataType);\n        let data = {};\n        data.typeStr = '';\n        data.isBigCard = false;\n        data.beiShu = 0;\n        //倍数要按房间配置的\n        let selectIndex = 0;//没房间配置默认选择0\n        let specialCards = [];\n        let selectDataList = [];\n        if (room) {\n            let roomCfg = room.GetRoomConfig();\n            selectIndex = roomCfg.fanbeiguize;\n            specialCards = roomCfg.teshupaixing;//特殊牌有没有选倍数\n        }\n        selectDataList = this.NNConst_BeiShu[selectIndex];\n\n        let selectType1 = false;//五花牛\n        let selectType2 = false;//炸弹牛\n        let selectType3 = false;//五小牛\n        for (let i = 0; i < specialCards.length; i++) {\n            if (0 == specialCards[i])\n                selectType1 = true;\n            else if (1 == specialCards[i])\n                selectType2 = true;\n            else if (2 == specialCards[i])\n                selectType3 = true;\n        }\n\n        if (0 == curDataType) {//没牛\n            data.typeStr = '无马';\n        }\n        else if (curDataType >= 1 && curDataType < 10) {//牛1到牛9\n            data.beiShu = selectDataList[curDataType];\n            if (data.beiShu < 2)\n                data.typeStr = '牛';\n            else\n                data.typeStr = '羊';\n            switch (curDataType) {\n                case 1:\n                    data.typeStr += '一';\n                    break;\n                case 2:\n                    data.typeStr += '二';\n                    break;\n                case 3:\n                    data.typeStr += '三';\n                    break;\n                case 4:\n                    data.typeStr += '四';\n                    break;\n                case 5:\n                    data.typeStr += '五';\n                    break;\n                case 6:\n                    data.typeStr += '六';\n                    break;\n                case 7:\n                {\n                    if (data.beiShu < 2)\n                        data.typeStr += '七';\n                    else\n                        data.typeStr += '柒';\n                }\n                    break;\n                case 8:\n                    data.typeStr += '八';\n                    break;\n                case 9:\n                    data.typeStr += '九';\n                    break;\n            }\n        }\n        else if (10 == curDataType) {\n            data.typeStr = '羊羊';\n            data.isBigCard = true;\n            data.beiShu = selectDataList[curDataType];\n        }\n        else if (101 == curDataType) {\n            data.typeStr = '';\n            data.isBigCard = true;\n        }\n        else if (102 == curDataType) {\n            data.typeStr = '';\n            data.isBigCard = true;\n        }\n        else if (103 == curDataType) {\n            data.typeStr = '伍花羊';\n            data.isBigCard = true;\n            if (selectType1) {\n                data.beiShu = selectDataList[11];\n            }\n        }\n        else if (104 == curDataType) {\n            data.typeStr = '炸弹羊';\n            data.isBigCard = true;\n            if (selectType2) {\n                data.beiShu = selectDataList[12];\n            }\n        }\n        else if (105 == curDataType) {\n            data.typeStr = '伍小羊';\n            data.isBigCard = true;\n            if (selectType3) {\n                data.beiShu = selectDataList[13];\n            }\n        }\n\n        return data;\n    },\n    LoadAllPokerRes: function () {\n        let self = this;\n        if (0 != this.pokerList.length)\n            return;\n        cc.loader.loadResDir(\"texture/new_poker\", cc.SpriteFrame, function (err, assets) {\n            if (err) {\n                cc.error(err);\n                return;\n            }\n            for (let i = 0; i < assets.length; i++) {\n                self.pokerList.push(assets[i]);\n                self.pokerDict[assets[i]._name] = assets[i];\n            }\n        });\n        //小牌\n        if (0 != this.miniPokerList.length)\n            return;\n        cc.loader.loadResDir(\"texture/game/dhd/mini\", cc.SpriteFrame, function (err, assets) {\n            if (err) {\n                cc.error(err);\n                return;\n            }\n            for (let i = 0; i < assets.length; i++) {\n                self.miniPokerList.push(assets[i]);\n            }\n        });\n        if (!this.aycp_pokerDict) {\n            return;\n        }\n        cc.loader.loadResDir(\"texture/aycp/pokercard\", cc.SpriteFrame, function (err, assets) {\n            if (err) {\n                cc.error(err);\n                return;\n            }\n            for (let i = 0; i < assets.length; i++) {\n                self.aycp_pokerDict[assets[i]._name] = assets[i];\n            }\n        });\n    },\n    NormalPokerSort: function (a, b) {\n        let aValue = a & 0x0F;\n        let bValue = b & 0x0F;\n        return aValue - bValue;\n    },\n    NNPokerSort: function (pokers) {\n        if (0 == pokers.length)\n            return [];\n        let sortList = [];\n        let fristIndex = 0;\n        let secondIndex = 1;\n        let threeIndex = 2;\n        while (true) {\n            if (this.CheckNiu(pokers[fristIndex], pokers[secondIndex], pokers[threeIndex])) {\n                sortList.push(pokers[fristIndex]);\n                sortList.push(pokers[secondIndex]);\n                sortList.push(pokers[threeIndex]);\n                for (let i = 0; i < pokers.length; i++) {\n                    if (i == fristIndex || i == secondIndex || i == threeIndex)\n                        continue;\n                    sortList.push(pokers[i]);\n                }\n                sortList = this.SortNiu(sortList);\n                break;\n            }\n            else {\n                threeIndex++;\n                if (threeIndex >= pokers.length) {\n                    secondIndex++;\n                    if (secondIndex >= pokers.length - 1) {\n                        fristIndex++;\n                        secondIndex = fristIndex + 1;\n                        if (fristIndex >= pokers.length - 2) {\n                            //结束了\n                            return pokers;\n                        }\n                    }\n                    threeIndex = secondIndex + 1;\n                }\n            }\n        }\n        return sortList;\n    },\n    CheckNiu: function (fristValue, secondValue, threeValue) {//传3张检测\n        let allValue = 0;\n        let curValue1 = this.GetCardValue(fristValue);\n        let curValue2 = this.GetCardValue(secondValue);\n        let curValue3 = this.GetCardValue(threeValue);\n        if (curValue1 > 10) {\n            if (14 == curValue1)\n                allValue += 1;\n            else\n                allValue += 10;\n        }\n        else\n            allValue += curValue1;\n\n        if (curValue2 > 10) {\n            if (14 == curValue1)\n                allValue += 1;\n            else\n                allValue += 10;\n        }\n        else\n            allValue += curValue2;\n\n        if (curValue3 > 10) {\n            if (14 == curValue1)\n                allValue += 1;\n            else\n                allValue += 10;\n        }\n        else\n            allValue += curValue3;\n\n        if (0 == allValue % 10)\n            return true;\n\n        return false;\n    },\n    CheckNiuEx: function (pokers) {\n        let fristIndex = 0;\n        let secondIndex = 1;\n        let threeIndex = 2;\n        while (true) {\n            if (this.CheckNiu(pokers[fristIndex], pokers[secondIndex], pokers[threeIndex])) {\n                return true;\n            }\n            else {\n                threeIndex++;\n                if (threeIndex >= pokers.length) {\n                    secondIndex++;\n                    if (secondIndex >= pokers.length - 1) {\n                        fristIndex++;\n                        secondIndex = fristIndex + 1;\n                        if (fristIndex >= pokers.length - 2) {\n                            //结束了\n                            return false;\n                        }\n                    }\n                    threeIndex = secondIndex + 1;\n                }\n            }\n        }\n    },\n    SortNiu: function (pokers) {//特殊牌形排序下\n        let tempSorts = [];\n        tempSorts.push(pokers[0]);\n        tempSorts.push(pokers[1]);\n        tempSorts.push(pokers[2]);\n        tempSorts.sort(this.sortFunAIsMin);\n\n        let tempList = [];\n        tempList.push(pokers[3]);\n        tempList.push(pokers[4]);\n        tempList.sort(this.sortFunAIsMin);\n        for (let i = 0; i < tempList.length; i++)\n            tempSorts.push(tempList[i]);\n\n        return tempSorts;\n    },\n    sortFunAIsMin: function (a, b) {\n        let valueA = a & 0x0F;\n        let valueB = b & 0x0F;\n        if (14 == valueA)\n            return valueB - valueA;\n        else\n            return valueB - valueA;\n    },\n    //获取牌值\n    GetCardValue: function (poker) {\n        //大小王值最大\n        if (poker == 65 || poker == 145 || poker == 225 || poker == 305)\n            return this.LOGIC_MASK_XIAOWANG;\n        if (poker == 66 || poker == 146 || poker == 226 || poker == 306)\n            return this.LOGIC_MASK_DAWANG;\n        return poker & this.LOGIC_MASK_VALUE;\n    },\n\n    //获取花色\n    GetCardColor: function (poker) {\n        let color = poker & this.LOGIC_MASK_COLOR;\n        while (color >= 80) {\n            color -= 80;\n        }\n        return color;\n    },\n    //获取花色玉山打炸\n    GetCardColorTwo: function (poker) {\n        return (poker & this.LOGIC_MASK_COLOR) % 64;\n    },\n    //获取牌值玉山打炸\n    GetCardValueTwo: function (poker) {\n        return poker & this.LOGIC_MASK_VALUE;\n    },\n    //牌型检测\n    IsDuiZiByZJH: function (pokers) {\n        let card0 = this.GetCardValue(pokers[0]);\n        let card1 = this.GetCardValue(pokers[1]);\n        let card2 = this.GetCardValue(pokers[2]);\n        if (card0 == card1 || card1 == card2)\n            return true;\n        else\n            return false;\n    },\n    IsShunZiByZJH: function (pokers) {\n        let card0 = this.GetCardValue(pokers[0]);\n        let card1 = this.GetCardValue(pokers[1]);\n        let card2 = this.GetCardValue(pokers[2]);\n        if (2 == card0 && 3 == card1 && 14 == card2)\n            return true;\n        else if (card0 + 1 == card1 && card1 + 1 == card2)\n            return true;\n        else\n            return false;\n    },\n    IsTongHuaByZJH: function (pokers) {\n        let color0 = this.GetCardColor(pokers[0]);\n        let color1 = this.GetCardColor(pokers[1]);\n        let color2 = this.GetCardColor(pokers[2]);\n        if (color0 == color1 && color1 == color2)\n            return true;\n        else\n            return false;\n    },\n    IsZhaDanByZJH: function (pokers) {\n        let card0 = this.GetCardValue(pokers[0]);\n        let card1 = this.GetCardValue(pokers[1]);\n        let card2 = this.GetCardValue(pokers[2]);\n        if (card0 == card1 && card1 == card2)\n            return true;\n        else\n            return false;\n    },\n    GetYSDZPokeCard: function (poker, cardNode, isShowIcon1 = true, isShowLandowner = false, hideBg = false, isRazz = false, isPartnerCard = false) {\n        if (0 == poker)\n            return;\n        let type = \"\";\n        let type_2 = \"\";\n        let type_3 = \"\";\n        let type_4 = \"\";\n        let num = \"\";\n        let cardColor = -1;\n        let cardValue = -1;\n        let isRed = true;\n\n        cardColor = this.GetCardColorTwo(poker);\n        cardValue = this.GetCardValueTwo(poker);\n\n        cardNode.getChildByName(\"bg_poker\").active = true;\n\n        if (cardValue > 2) {\n            let numNode = cardNode.getChildByName(\"num\");\n            numNode.active = true;\n\n            if (1 == cardValue)//服务端发过来的可能是1\n                cardValue = 14;\n            if (15 == cardValue)//跑得快服务端发过来15转为2\n                cardValue = 2;\n\n            if (cardColor == 0) {\n                type = 'bg_diamond1_1';\n                type_2 = 'bg_diamond1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                isRed = true;\n            }\n            else if (cardColor == 16) {\n                type = 'bg_club1_1';\n                type_2 = 'bg_club1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                isRed = false;\n            }\n            else if (cardColor == 32) {\n                type = 'bg_heart1_1';\n                type_2 = 'bg_heart1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                isRed = true;\n            }\n            else if (cardColor == 48) {\n                type = 'bg_spade1_1';\n                type_2 = 'bg_spade1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                isRed = false;\n            }\n\n            // if(cardValue == 11){\n            //     type = type + \"_11\";\n            // }\n            // else if(cardValue == 12){\n            //     type = type + \"_12\";\n            // }\n            // else if(cardValue == 13){\n            //     type = type + \"_13\";\n            // }\n\n            if (isRed) {\n                num = \"red_\" + cardValue.toString();\n            }\n            else {\n                num = \"black_\" + cardValue.toString();\n            }\n            //如果是癞子牌\n            if (isRazz) {\n                type = 'bg_lz1_1';\n                type_2 = 'bg_lz1_2';\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                num = \"yellow_\" + cardValue.toString();\n            }\n        } else {\n            let numNode = cardNode.getChildByName(\"num\");\n            numNode.active = true;\n            // numNode.x = -44;\n            // numNode.y = 37;\n            //大王\n            if (cardValue == 2) {\n                type = \"icon_big_king\";\n                type_2 = \"icon_big_king_01\";\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                num = \"\";\n            }\n            //小王\n            else if (cardValue == 1) {\n                type = \"icon_small_king\";\n                type_2 = \"icon_small_king_01\";\n                type_3 = 'icon_dzp';\n                type_4 = 'icon_hb';\n                num = \"\";\n            }\n        }\n        //this.ErrLog('type ' + type + ' num ' + num);\n        cardNode.getChildByName(\"num\").getComponent(cc.Sprite).spriteFrame = '';\n        for (let i = 0; i < this.pokerList.length; i++) {\n            if (this.pokerList[i]._name == type) {\n                if (isShowIcon1 == false && (type == \"icon_big_king\" || type == \"icon_small_king\")) {\n                    //大小王不在最后一根，不显示icon\n                    cardNode.getChildByName(\"icon\").getComponent(cc.Sprite).spriteFrame = '';\n                } else {\n                    cardNode.getChildByName(\"icon\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                }\n                cardNode.getChildByName(\"icon\").active = true;\n            }\n            else if (this.pokerList[i]._name == type_2) {\n                if (isShowIcon1 == true || type == \"icon_big_king\" || type == \"icon_small_king\") { //大小王必须显示icon_1\n                    cardNode.getChildByName(\"icon_1\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                } else {\n                    cardNode.getChildByName(\"icon_1\").getComponent(cc.Sprite).spriteFrame = '';\n                }\n                cardNode.getChildByName(\"icon_1\").active = true;\n            }\n            else if (this.pokerList[i]._name == type_3 && cardNode.getChildByName(\"icon_2\")) {\n                if (isShowLandowner) {\n                    cardNode.getChildByName(\"icon_2\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                    cardNode.getChildByName(\"icon_2\").active = true;\n                } else {\n                    cardNode.getChildByName(\"icon_2\").active = false;\n                }\n            }\n            else if (this.pokerList[i]._name == type_4 && cardNode.getChildByName(\"icon_3\")) {\n                if (isPartnerCard && !isRazz) {\n                    cardNode.getChildByName(\"icon_3\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                    cardNode.getChildByName(\"icon_3\").active = true;\n                } else {\n                    cardNode.getChildByName(\"icon_3\").active = false;\n                }\n            }\n            else if (this.pokerList[i]._name == num) {\n                cardNode.getChildByName(\"num\").getComponent(cc.Sprite).spriteFrame = this.pokerList[i];\n                cardNode.getChildByName(\"num\").active = true;\n            }\n        }\n        if (hideBg)\n            cardNode.getChildByName(\"poker_back\").active = false;\n    },\n});\n\nvar g_PokerCard = null;\n\n/**\n * 绑定模块外部方法\n */\nexports.GetModel = function () {\n    if (!g_PokerCard) {\n        g_PokerCard = new PokerCard();\n    }\n    return g_PokerCard;\n}"]}