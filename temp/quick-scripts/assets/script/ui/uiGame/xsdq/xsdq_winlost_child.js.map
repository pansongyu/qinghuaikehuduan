{"version":3,"sources":["xsdq_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ShowPlayerData","setEnd","playerAll","index","player","posResultList","zhuangRanksType","rankInfoMap","point","roomPoint","dPos","node","getChildByName","active","ranksType","winNode","loseNode","getComponent","Label","string","lb_roomPoint","lb_sportsPointTitle","sportsPoint","upLevelId","playerInfo","i","length","pid","head","ShowHeroHead","playerName","name","substring","id","ComTool","GetPid"],"mappings":"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","file":"xsdq_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\xsdq","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BasePoker_winlost_child\"),\n\n    properties: {},\n\n    // use this for initialization\n    OnLoad: function () {\n\n    },\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        let player = setEnd.posResultList[index];\n        let zhuangRanksType = setEnd[\"zhuangRanksType\"];\n        let rankInfoMap = setEnd[\"rankInFoMap\"];\n\n        let point = player.point;\n        let roomPoint = player.roomPoint;\n\n        let dPos = setEnd.dPos;\n\n        //显示庄闲\n        this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = player.ranksType == zhuangRanksType;\n        this.node.getChildByName(\"user_info\").getChildByName(\"xianjia\").active = player.ranksType !== zhuangRanksType;\n\n        //玩家分数\n        let winNode = this.node.getChildByName(\"lb_win_num\");\n        let loseNode = this.node.getChildByName(\"lb_lose_num\");\n        winNode.active = false;\n        loseNode.active = false;\n\n        if (point > 0) {\n            winNode.active = true;\n            winNode.getComponent(cc.Label).string = \"+\" + point;\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_win\").active = true;\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_lost\").active = false;\n        }\n        else {\n            loseNode.active = true;\n            loseNode.getComponent(cc.Label).string = point;\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_win\").active = false;\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_lost\").active = true;\n        }\n        //房间分\n        let lb_roomPoint = this.node.getChildByName(\"lb_roomPoint\");\n        if (roomPoint > 0) {\n            lb_roomPoint.getComponent(cc.Label).string = \"+\" + roomPoint;\n        }\n        else {\n            lb_roomPoint.getComponent(cc.Label).string = roomPoint;\n        }\n        //比赛分\n        let lb_sportsPointTitle = this.node.getChildByName(\"lb_sportsPointTitle\");\n        if (player.sportsPoint) {\n            if (player.sportsPoint > 0) {\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + player.sportsPoint;\n            }\n            else {\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = player.sportsPoint;\n            }\n        } else {\n            lb_sportsPointTitle.active = false;\n        }\n\n        //所属推广员ID\n        if (player.upLevelId > 0) {\n            this.node.getChildByName(\"user_info\").getChildByName(\"label_upLevel\").getComponent(cc.Label).string = \"所属推广员ID：\" + player.upLevelId;\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName(\"label_upLevel\").getComponent(cc.Label).string = \"\";\n        }\n\n        let playerInfo = null;\n        for (let i = 0; i < playerAll.length; i++) {\n            if (player.pid == playerAll[i].pid) {\n                playerInfo = playerAll[i];\n                break;\n            }\n        }\n\n        let head = this.node.getChildByName(\"user_info\").getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        head.ShowHeroHead(playerInfo.pid);\n        //玩家名字\n        let playerName = \"\";\n        playerName = playerInfo.name;\n        if (playerName.length > 6) {\n            playerName = playerName.substring(0, 6) + '...';\n        }\n        let name = this.node.getChildByName(\"user_info\").getChildByName(\"lable_name\").getComponent(cc.Label);\n        name.string = playerName;\n\n        let id = this.node.getChildByName(\"user_info\").getChildByName(\"label_id\").getComponent(cc.Label);\n        id.string = \"ID:\" + app.ComTool().GetPid(playerInfo[\"pid\"]);\n    },\n});\n"]}