{"version":3,"sources":["UIResultTotal.js"],"names":["app","require","cc","Class","extends","properties","lb_hupaizongcishu","Label","lb_time","lb_roomID","player1Name","btn_head1","Node","player1ShanDian","player1JiFen","player1FangZhu","player2Name","btn_head2","player2ShanDian","player2JiFen","player2FangZhu","player3Name","btn_head3","player3ShanDian","player3JiFen","player3FangZhu","player4Name","btn_head4","player4ShanDian","player4JiFen","player4FangZhu","player1DaYingJia","player2DaYingJia","player3DaYingJia","player4DaYingJia","plyaer1Sprite","plyaer2Sprite","plyaer3Sprite","plyaer4Sprite","lb_room","OnCreateInit","RegEvent","Event_CodeError","GetCurrentTime","date","Date","seperator1","seperator2","month","getMonth","strDate","getDate","currentdate","getFullYear","getHours","getMinutes","InitPlayerInfo","string","active","OnShow","GamePlayManager","RoomMgr","RoomMrg","playgame","room","GetEnterRoom","ComTool","HeroManager","WeChatHeadImage1","getComponent","WeChatHeadImage2","WeChatHeadImage3","WeChatHeadImage4","playerDaYingJiaList","roomKey","GetRoomProperty","console","log","GetRoomDataInfo","data","Remember","SetPlayerInfo","ShowDaYingJia","ShareDefine","isCoinRoom","roomEnd","record","clientPos","GetRoomPosMgr","GetClientPos","clientDownPos","GetClientDownPos","clientFacePos","GetClientFacePos","clientUpPos","GetClientUpPos","playerList","fastCntList","pointList","clientPosPlayer","huCardNum","clientPosfastCnt","clientPosPoint","clientPosPlayerPath","SetPlayerPosInfo","clientDownPosPlayer","clientDownPosfastCnt","clientDownPosPoint","clientDownPosPlayerPath","clientFacePosPlayer","clientFacePosfastCnt","clientFacePosPoint","clientFacePosPlayerPath","clientUpPosPlayer","clientUpPosfastCnt","clientUpPosPoint","clientUpPosPlayerPath","player","fastCnt","point","playerHeadPath","playerShanDian","playerJiFen","WeChatHeadImage","clientPosPlayerName","GetWndComponent","shanDianNum","jiFenNum","join","pid","ShowHeroHead","playerPointList","ListMaxNum","count","length","i","ownerID","playerListKey","Object","keys","ownerPos","OnClick","btnName","btnNode","FormManager","ShowForm","SceneManager","LoadScene","NetManager","SendPack","practiceId","OnSuccess","bind","OnEnterRoomFailed","ErrLog","serverPack","roomID","event","argDict","detail","code","NotEnoughCoin","WaitForConfirm","Confirm","MuchCoin","ConfirmOK","OnConFirm","clickType","msgID","backArgList","roomCard","GetHeroProperty","SendPlayerReward","ShowSysMsg","CloseForm","AddDefaultFormName"],"mappings":"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","file":"UIResultTotal.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        lb_hupaizongcishu:cc.Label,\n        lb_time:cc.Label,\n        lb_roomID:cc.Label,\n        player1Name:cc.Label,\n        btn_head1:cc.Node,\n        player1ShanDian:cc.Label,\n        player1JiFen:cc.Label,\n        player1FangZhu:cc.Node,\n\n        player2Name:cc.Label,\n        btn_head2:cc.Node,\n        player2ShanDian:cc.Label,\n        player2JiFen:cc.Label,\n        player2FangZhu:cc.Node,\n\n        player3Name:cc.Label,\n        btn_head3:cc.Node,\n        player3ShanDian:cc.Label,\n        player3JiFen:cc.Label,\n        player3FangZhu:cc.Node,\n\n        player4Name:cc.Label,\n        btn_head4:cc.Node,\n        player4ShanDian:cc.Label,\n        player4JiFen:cc.Label,\n        player4FangZhu:cc.Node,\n\n        player1DaYingJia:cc.Node,\n        player2DaYingJia:cc.Node,\n        player3DaYingJia:cc.Node,\n        player4DaYingJia:cc.Node,\n\n        plyaer1Sprite:cc.Node,\n        plyaer2Sprite:cc.Node,\n        plyaer3Sprite:cc.Node,\n        plyaer4Sprite:cc.Node,\n\n        lb_room:cc.Node,\n    },\n\n    OnCreateInit: function () {\n       \n        this.RegEvent(\"CodeError\", this.Event_CodeError);\n\n    },\n    GetCurrentTime:function(){\n        var date = new Date();\n        var seperator1 = \"/\";\n        var seperator2 = \":\";\n        var month = date.getMonth() + 1;\n        var strDate = date.getDate();\n        if (month >= 1 && month <= 9) {\n            month = \"0\" + month;\n        }\n        if (strDate >= 0 && strDate <= 9) {\n            strDate = \"0\" + strDate;\n        }\n        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate\n            + \" \" + date.getHours() + seperator2 + date.getMinutes();\n        return currentdate;\n    },\n    InitPlayerInfo:function () {\n        this.lb_hupaizongcishu.string = \"\";\n\n        this.player1Name.string = \"\";\n        this.player1ShanDian.string = \"\";\n        this.player1JiFen.string = \"\";\n        this.player1FangZhu.active = 0;\n        this.player1DaYingJia.active = 0;\n\n        this.player2Name.string = \"\";\n        this.player2ShanDian.string = \"\";\n        this.player2JiFen.string = \"\";\n        this.player2FangZhu.active = 0;\n        this.player2DaYingJia.active = 0;\n\n        this.player3Name.string = \"\";\n        this.player3ShanDian.string = \"\";\n        this.player3JiFen.string = \"\";\n        this.player3FangZhu.active = 0;\n        this.player3DaYingJia.active = 0;\n\n        this.player4Name.string = \"\";\n        this.player4ShanDian.string = \"\";\n        this.player4JiFen.string = \"\";\n        this.player4FangZhu.active = 0;\n        this.player4DaYingJia.active = 0;\n    },\n    OnShow: function () {\n        var GamePlayManager = require('GamePlayManager');\n\t\tthis.RoomMgr =GamePlayManager.RoomMrg(GamePlayManager.playgame);\n        \n        let room = this.RoomMgr.GetEnterRoom();\n\n        this.ComTool = app.ComTool();\n        this.HeroManager = app.HeroManager();\n\n        this.WeChatHeadImage1 = this.btn_head1.getComponent(\"WeChatHeadImage\");\n        this.WeChatHeadImage2 = this.btn_head2.getComponent(\"WeChatHeadImage\");\n        this.WeChatHeadImage3 = this.btn_head3.getComponent(\"WeChatHeadImage\");\n        this.WeChatHeadImage4 = this.btn_head4.getComponent(\"WeChatHeadImage\");\n\n\n        this.playerDaYingJiaList = [this.player1DaYingJia,this.player2DaYingJia,this.player3DaYingJia,this.player4DaYingJia];\n        //显示时间\n        this.lb_time.string=this.GetCurrentTime();\n        //获取房间号\n        let roomKey = room.GetRoomProperty(\"key\");\n        console.log(\"RoomDateInfo:\",room.GetRoomDataInfo);\n        this.lb_roomID.string = roomKey;\n        \n        \n        \n        \n        this.data = {\n                        \"boolean\":\"\",\n                        \"pos\":\"\",\n                    };\n        this.Remember = null;\n\n\n        this.InitPlayerInfo();\n\n        this.SetPlayerInfo();\n\n        this.ShowDaYingJia(room);\n\n        if(app.ShareDefine().isCoinRoom){\n            this.lb_room.active = false;\n            this.player1FangZhu.active = false;\n            this.player2FangZhu.active = false;\n            this.player3FangZhu.active = false;\n            this.player4FangZhu.active = false;\n        }\n    },\n    SetPlayerInfo:function () {\n        let room = this.RoomMgr.GetEnterRoom();\n        if(!room) return;\n        let roomEnd = room.GetRoomProperty(\"roomEnd\");\n        let record = roomEnd[\"record\"];\n\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\n        let clientDownPos = room.GetRoomPosMgr().GetClientDownPos();\n        let clientFacePos = room.GetRoomPosMgr().GetClientFacePos();\n        let clientUpPos = room.GetRoomPosMgr().GetClientUpPos();\n\n        let playerList = record[\"players\"];\n        let fastCntList = record[\"fastCnt\"];\n        let pointList = record[\"point\"];\n\n        let clientPosPlayer = playerList[clientPos];\n        let huCardNum = record[\"huCnt\"][clientPos];\n        if(huCardNum){\n            this.lb_hupaizongcishu.string = huCardNum;\n        }\n        else{\n            this.lb_hupaizongcishu.string = 0;\n        }\n\n        if(clientPosPlayer)\n        {\n\n            this.plyaer1Sprite.active = 1;\n\n\n            let clientPosfastCnt = fastCntList[clientPos];\n            let clientPosPoint = pointList[clientPos];\n            let clientPosPlayerPath = \"sp_player01/touxiang/sp_info/lb_name\";\n            this.SetPlayerPosInfo(clientPosPlayer, clientPosfastCnt, clientPosPoint, clientPosPlayerPath, this.player1ShanDian, this.player1JiFen, this.WeChatHeadImage1);\n        }\n        else{\n            this.plyaer1Sprite.active = 0;\n        }\n\n\n        let clientDownPosPlayer = playerList[clientDownPos];\n        if(clientDownPosPlayer)\n        {\n            this.plyaer2Sprite.active = 1;\n\n            let clientDownPosfastCnt = fastCntList[clientDownPos];\n            let clientDownPosPoint = pointList[clientDownPos];\n            let clientDownPosPlayerPath = \"sp_player02/touxiang/sp_info/lb_name\";\n            this.SetPlayerPosInfo(clientDownPosPlayer, clientDownPosfastCnt, clientDownPosPoint, clientDownPosPlayerPath, this.player2ShanDian, this.player2JiFen, this.WeChatHeadImage2);\n\n        }\n        else {\n            this.plyaer2Sprite.active = 0;\n        }\n\n        let clientFacePosPlayer = playerList[clientFacePos];\n        if(clientFacePosPlayer)\n        {\n            this.plyaer3Sprite.active = 1;\n\n            let clientFacePosfastCnt = fastCntList[clientFacePos];\n            let clientFacePosPoint = pointList[clientFacePos];\n            let clientFacePosPlayerPath = \"sp_player03/touxiang/sp_info/lb_name\";\n            this.SetPlayerPosInfo(clientFacePosPlayer, clientFacePosfastCnt, clientFacePosPoint, clientFacePosPlayerPath, this.player3ShanDian, this.player3JiFen, this.WeChatHeadImage3);\n\n        }\n        else{\n            this.plyaer3Sprite.active = 0;\n        }\n\n        let clientUpPosPlayer = playerList[clientUpPos];\n        if(clientUpPosPlayer)\n        {\n            this.plyaer4Sprite.active = 1;\n\n            let clientUpPosfastCnt = fastCntList[clientUpPos];\n            let clientUpPosPoint = pointList[clientUpPos];\n            let clientUpPosPlayerPath = \"sp_player04/touxiang/sp_info/lb_name\";\n            this.SetPlayerPosInfo(clientUpPosPlayer, clientUpPosfastCnt, clientUpPosPoint, clientUpPosPlayerPath, this.player4ShanDian, this.player4JiFen, this.WeChatHeadImage4);\n\n        }\n        else{\n            this.plyaer4Sprite.active = 0;\n        }\n\n    },\n    SetPlayerPosInfo:function (player, fastCnt, point, playerHeadPath, playerShanDian, playerJiFen, WeChatHeadImage) {\n        let clientPosPlayerName = player[\"name\"];\n        this.GetWndComponent(playerHeadPath, cc.Label).string = clientPosPlayerName;\n\n        let shanDianNum = fastCnt;\n        playerShanDian.string = shanDianNum;\n\n        let jiFenNum = point > 0 ? [\"+\",point].join(\"\") : point;\n        playerJiFen.string = jiFenNum;\n\n        let pid = player[\"pid\"];\n        WeChatHeadImage.ShowHeroHead(pid);\n    },\n    ShowDaYingJia:function (room) {\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\n        let clientDownPos = room.GetRoomPosMgr().GetClientDownPos();\n        let clientFacePos = room.GetRoomPosMgr().GetClientFacePos();\n        let clientUpPos = room.GetRoomPosMgr().GetClientUpPos();\n\n        let roomEnd = room.GetRoomProperty(\"roomEnd\");\n        let record = roomEnd[\"record\"];\n        let playerPointList = record[\"point\"];\n        let point = this.ComTool.ListMaxNum(playerPointList);\n        let count = playerPointList.length;\n        for(let i = 0; i < count; i++){\n            if(point == playerPointList[i]){\n                if(i == clientPos){\n                    this.playerDaYingJiaList[0].active = 1;\n                }\n                else if(i == clientDownPos){\n                    this.playerDaYingJiaList[1].active = 1;\n                }\n                else if(i == clientFacePos){\n                    this.playerDaYingJiaList[2].active = 1;\n                }\n                else if(i == clientUpPos){\n                    this.playerDaYingJiaList[3].active = 1;\n                }\n            }\n        }\n\n        let ownerID = room.GetRoomProperty(\"ownerID\");\n\n        let playerList = record[\"players\"];\n        let playerListKey = Object.keys(playerList);\n        let ownerPos = \"\";\n        for(let i = 0; i < count; i++){\n            let player = playerList[playerListKey[i]];\n            if(!player) continue;\n            if(player[\"pid\"] == ownerID){\n                ownerPos = i;\n            }\n        }\n        if(ownerPos == clientPos){\n            this.player1FangZhu.active = 1;\n        }\n        else if(ownerPos == clientDownPos){\n            this.player2FangZhu.active = 1;\n        }\n        else if(ownerPos == clientFacePos){\n            this.player3FangZhu.active = 1;\n        }\n        else if(ownerPos == clientUpPos){\n            this.player4FangZhu.active = 1;\n        }\n\n    },\n\n    \n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_xuanyao\"){\n\t        this.FormManager.ShowForm(\"UIShare\");\n        }\n        else if(btnName == \"btn_fanhui\"){\n\t        app.SceneManager().LoadScene(\"mainScene\");\n        }\n        else if(btnName == \"btn_jixu\"){\n\t    //    this.FormManager.AddDefaultFormName(\"UICreatRoom\");\n            if(app.ShareDefine().isCoinRoom){\n                app.NetManager().SendPack('game.CGoldRoom', {practiceId:app.ShareDefine().practiceId}, this.OnSuccess.bind(this),this.OnEnterRoomFailed.bind(this));\n            }\n            else{\n                app.SceneManager().LoadScene(\"mainScene\");\n            }\n        }\n        else{\n            this.ErrLog(\"OnClick not find btnName(%s)\", btnName);\n        }\n    },\n\n    OnSuccess:function(serverPack){\n        let roomID = serverPack.roomID;\n        app.NetManager().SendPack('lymj.CLYMJGetRoomInfo', {\"roomID\":roomID});\n    },\n    OnEnterRoomFailed:function(serverPack){\n        app.SceneManager().LoadScene(\"mainScene\");\n    },\n    Event_CodeError:function(event){\n        let argDict = event.detail;\n        let code = argDict[\"Code\"];\n        if(code == app.ShareDefine().NotEnoughCoin){\n            this.WaitForConfirm(\"MSG_NOTROOMCOIN\", [], [], this.ShareDefine.Confirm);\n        }\n        else if(code == app.ShareDefine().MuchCoin){\n            this.WaitForConfirm(\"MSG_TOOMUCHCOIN\", [], [], this.ShareDefine.ConfirmOK);\n        }\n    },\n\n    //-----------2次确认框回调--------------\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return\n        }\n        if(msgID == \"RewardWholePlayer\"){\n            let roomCard = this.HeroManager.GetHeroProperty(\"roomCard\");\n            if(roomCard >= 3){\n                let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\n                this.RoomMgr.SendPlayerReward(roomID);\n            }\n            else{\n                this.ShowSysMsg(\"WarnFastCardNotEnough\");\n            }\n        }\n        else if(msgID == \"MSG_NOTROOMCOIN\"){\n            this.CloseForm();\n            app.FormManager().AddDefaultFormName(\"UIStore\");\n            app.SceneManager().LoadScene(\"mainScene\");\n        }\n        else if(\"MSG_TOOMUCHCOIN\" == msgID){\n            app.FormManager().AddDefaultFormName(\"UIPractice\");\n            app.SceneManager().LoadScene(\"mainScene\");\n        }\n    },\n   \n});\n"]}