{"version":3,"sources":["UIGameHelp.js"],"names":["app","require","cc","Class","extends","properties","content","Node","scroll_Left","ScrollView","scroll_Right","btnNodeGroup","pafabItem","InitgameBtns","serverPack","gameList","DestroyAllChildren","undefined","gameType","key","gameIDList","i","length","gamePinYin","ShareDefine","GametTypeID2PinYin","gameName","GametTypeID2Name","node","instantiate","active","name","getChildByName","getComponent","Label","string","addChild","scrollToTop","lastTag","OnCreateInit","curShowViewName","SysDataManager","allGameHelpConfig","GetTableDict","ConfigList","push","OnShow","FormManager","ShowForm","that","Client","GetAllGameId","ReShow","substring","btnName","tag","ShowGameRule","ruleStr","stopAutoScroll","ErrLog","img","CreateImg","desc","reg","replace","fontSize","colorList","fontColor","split","id","color","Color","CreateLabel","isTitle","UpdateContent","zIndex","OnClose","OnClick","btnNode","str","index","dataIndex","curLabel","addComponent","horizontalAlign","HorizontalAlign","LEFT","overflow","Overflow","RESIZE_HEIGHT","cacheMode","CacheMode","CHAR","lineHeight","anchorX","x","width","enableWrapText","isSystemFontUsed","y","path","self","Sprite","ControlManager","CreateLoadPromise","SpriteFrame","then","spriteFrame","curSprite","catch","error","destroy","stack","childs","children","needHeight","height","sortAllChildren","sortChild","a","b"],"mappings":"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","file":"UIGameHelp.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        content:cc.Node,\n        scroll_Left:cc.ScrollView,\n        scroll_Right:cc.ScrollView,\n        btnNodeGroup:cc.Node,\n        pafabItem:cc.Node,\n        /*\n        *跑得快:0,1 仙游麻将：2,3   莆田十六张：4,5  莆田十三张：6,7\n        */\n    },\n    InitgameBtns:function(serverPack){\n        this.gameList = {};\n        //this.btnNodeGroup.removeAllChildren();\n        this.DestroyAllChildren(this.btnNodeGroup);\n        if(undefined == serverPack.gameList ||\n            '' == serverPack.gameList ||\n            'null' == serverPack.gameList){\n            this.gameList = {\n\n            };\n            if('' == this.gameType){\n                for(let key in this.gameList){\n                    this.gameType = key;\n                    break;\n                }\n            }\n       }else{\n           let gameIDList=serverPack.gameList;\n            for(let i=0;i<gameIDList.length;i++){\n                let gamePinYin=this.ShareDefine.GametTypeID2PinYin[gameIDList[i]];\n                let gameName=this.ShareDefine.GametTypeID2Name[gameIDList[i]];\n                this.gameList[gamePinYin]=gameName;\n                if(i==0){\n                    if('' == this.gameType)\n                        this.gameType=gamePinYin;\n                }\n            }\n       }\n        for(let key in this.gameList){\n            let node = cc.instantiate(this.pafabItem);\n            node.active = true;\n            node.name = 'btn_' + key;\n            node.getChildByName('icon_off').getComponent(cc.Label).string = this.gameList[key];\n            node.getChildByName('icon').getChildByName('icon_on').getComponent(cc.Label).string = this.gameList[key];\n            this.btnNodeGroup.addChild(node);\n            this.gameType=key;\n        }\n        this.scroll_Left.scrollToTop();\n        this.lastTag = null;\n    },\n    OnCreateInit: function () {\n        this.curShowViewName = \"\";\n        this.SysDataManager = app.SysDataManager();\n        let allGameHelpConfig = this.SysDataManager.GetTableDict(\"GameHelp\");\n        this.ConfigList = [];\n        this.gameType = '';\n        for(let key in allGameHelpConfig){\n            this.ConfigList.push(allGameHelpConfig[key]);\n        }\n    },\n    OnShow: function (gameType='ddz') {\n        this.FormManager.ShowForm('UITop', \"UIGameHelp\");\n        let that=this;\n        this.gameType = gameType;\n        this.InitgameBtns({\"gameList\":app.Client.GetAllGameId()})\n        this.ReShow();\n        // app.NetManager().SendPack('family.CPlayerGameList',{},function(serverPack){\n        //     that.InitgameBtns(serverPack);\n        //     that.ReShow();\n        // },function(serverPack){\n        //     that.InitgameBtns(serverPack);\n        //     that.ReShow();\n        // });\n    },\n    ReShow:function(){\n        if(this.gameType== \"sss_zz\" ||\n            this.gameType== \"sss_dr\"){\n            this.gameType = this.gameType.substring(0, 3);\n        }\n        if(this.lastTag)\n            this.lastTag.active = false;\n        let btnName = 'btn_' + this.gameType;\n        let tag = this.btnNodeGroup.getChildByName(btnName).getChildByName('icon');\n        tag.active = true;\n        this.lastTag = tag;\n        this.ShowGameRule(this.gameType);\n    },\n    ShowGameRule:function(ruleStr){\n        this.scroll_Right.stopAutoScroll();\n        if(ruleStr == \"\"){\n            this.node.active = 0;\n            this.ErrLog(\"没传帮助参数,无法读表\");\n            return;\n        }\n        if(this.curShowViewName == ruleStr){\n            this.scroll_Right.scrollToTop();\n            return;\n        }\n        //this.content.removeAllChildren();\n        this.DestroyAllChildren(this.content);\n        // if (ruleStr == \"pdk\") {\n        //     ruleStr = \"pdk_lyfj\";\n        // }\n        this.curShowViewName = ruleStr;\n\n        for(let i=0;i<this.ConfigList.length;i++){\n            if(this.ConfigList[i].gameName == this.curShowViewName){\n                if(this.ConfigList[i].img != \"null\"){\n                    this.CreateImg(this.ConfigList[i].img,i);\n                }\n                else{\n                    let desc = this.ConfigList[i].desc;\n                    let reg = /\\/n/g;\n                    desc = desc.replace(reg, \"\\n\");\n                    reg = /\\/t/g;\n                    desc = desc.replace(reg, \"\\t\");\n                    let fontSize = this.ConfigList[i].fontSize;\n                    let colorList = this.ConfigList[i].fontColor.split(\",\");\n                    if(colorList.length != 4){\n                        this.ErrLog(\"GameHelp Config color error id is :\" + this.ConfigList[i].id);\n                        continue;\n                    }\n                    let color = new cc.Color(colorList[0],colorList[1],colorList[2],colorList[3]);\n                    this.CreateLabel(desc,fontSize,color,this.ConfigList[i].isTitle,i);\n                }\n            }\n        }\n        this.UpdateContent();\n        this.scroll_Right.scrollToTop();\n        this.btnNodeGroup.getChildByName('btn_'+this.gameType).zIndex=-1;\n    },\n    OnClose:function(){\n        //this.btnNodeGroup.removeAllChildren();\n        this.DestroyAllChildren(this.btnNodeGroup);\n    },\n    //---------点击函数---------------------\n    OnClick:function(btnName, btnNode){\n        this.scroll_Left.stopAutoScroll();\n\n        if(this.lastTag)\n            this.lastTag.active = false;\n        let tag = this.btnNodeGroup.getChildByName(btnName).getChildByName('icon');\n        tag.active = true;\n        this.lastTag = tag;\n        let gameName = btnName.substring(('btn_').length);\n        this.gameType = gameName;\n        this.ShowGameRule(gameName);\n    },\n    CreateLabel:function(str,fontSize,color,isTitle,index){\n        let node = new cc.Node();\n        node.name = \"label\" + index;\n        node.dataIndex = index;\n        let curLabel = node.addComponent(cc.Label);\n        curLabel.fontSize = fontSize;\n        curLabel.horizontalAlign = cc.Label.HorizontalAlign.LEFT;\n        curLabel.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\n        curLabel.cacheMode = cc.Label.CacheMode.CHAR;\n        if(isTitle)\n            curLabel.lineHeight = 60;\n        else\n            curLabel.lineHeight = 40;\n        node.anchorX = 0;\n        node.x = -(this.content.width/2);\n        node.width = this.content.width;\n        curLabel.enableWrapText = true;\n        curLabel.isSystemFontUsed = true;\n        curLabel.string = str;\n        node.color = color;\n        node.y = node.y - 200;\n        this.content.addChild(node);\n    },\n    CreateImg:function(path,index){\n        let self = this;\n        let node = new cc.Node();\n        node.name = \"img\" + index;\n        node.dataIndex = index;\n        node.addComponent(cc.Sprite);\n        node.anchorX = 0;\n        node.x = -(this.content.width/2);\n        app.ControlManager().CreateLoadPromise(path, cc.SpriteFrame)\n            .then(function(spriteFrame){\n                if(!spriteFrame){\n                    self.ErrLog(\"gameHelp CreateImg(%s) load spriteFrame fail\", path);\n                    return\n                }\n                let curSprite = node.getComponent(cc.Sprite);\n                curSprite.spriteFrame = spriteFrame;\n                self.content.addChild(node);\n                self.UpdateContent();\n            })\n            .catch(function(error){\n                node.destroy();\n                self.ErrLog(\"gameHelp CreateImg(%s) error:%s\", path, error.stack);\n            })\n    },\n    UpdateContent:function(){\n        let childs = this.content.children;\n        if(0==childs.length)return;\n        //childs.sort(this.sortChild);//creator自己排序不会去刷新ui得设置下zIndex在sortAllChildren\n        let needHeight = 0;\n        for(let i=0;i<childs.length;i++){\n            needHeight += childs[i].height;\n            childs[i].zIndex = childs[i].dataIndex;\n        }\n        this.content.height = needHeight + 50;\n        this.content.sortAllChildren();\n        this.scroll_Right.scrollToTop();\n    },\n    sortChild:function(a,b){\n        return a.dataIndex > b.dataIndex;\n    }\n});"]}