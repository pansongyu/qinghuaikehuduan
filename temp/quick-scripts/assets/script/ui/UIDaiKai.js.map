{"version":3,"sources":["UIDaiKai.js"],"names":["app","require","cc","Class","extends","properties","UIDaiKai_Child","Prefab","Scrollow","Node","OnCreateInit","FormManager","ComTool","loopScrollView","getComponent","NetManager","HeroManager","heroID","GetHeroProperty","OnShow","InitScrollData","SendPack","type","OnPack_HelpRoomList","bind","OnPack_HelpRoomListFail","serverPack","hasOwnProperty","helpRoomList","everyGameKeys","Object","keys","ScrollViewData","console","log","DestroyAllChildren","InitGameBtnList","ShowForm","gameName","OnClose","OnClick","btnName","btnNode","CloseForm","ErrLog"],"mappings":"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","file":"UIDaiKai.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["/*\n小傅最新修改 2017-10-13 \n */\nvar app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        UIDaiKai_Child: cc.Prefab,\n        Scrollow:cc.Node,\n    },\n\n    OnCreateInit: function () {\n       this.FormManager = app.FormManager();\n       this.ComTool = app.ComTool();\n       this.loopScrollView = this.getComponent(\"LoopScrollView\");\n       this.NetManager = app.NetManager();\n       this.HeroManager = app.HeroManager(); \n       this.heroID = app.HeroManager().GetHeroProperty(\"pid\");\n    },\n    OnShow:function(){\n\t\t  //获取带开放记录\n        this.loopScrollView.InitScrollData(\"UIDaiKai_Child\", this.UIDaiKai_Child,[]);\n        this.NetManager.SendPack(\"helproom.CHelpRoomGetList\",{type:1},this.OnPack_HelpRoomList.bind(this),this.OnPack_HelpRoomListFail.bind(this));\n    },\n    OnPack_HelpRoomList:function(serverPack){\n        if(serverPack.hasOwnProperty('helpRoomList')){\n            let helpRoomList=serverPack.helpRoomList;\n            app['helpRoomList']=helpRoomList;\n            let everyGameKeys = Object.keys(helpRoomList);\n            this.ScrollViewData(everyGameKeys);\n            console.log(\"everyGameKeys :\",everyGameKeys);\n        }else{\n            //this.Scrollow.removeAllChildren();\n            this.DestroyAllChildren(this.Scrollow);\n            return;\n        }\n        \n    },\n    OnPack_HelpRoomListFail:function(serverPack){\n        app['helpRoomList']=false;\n        //this.Scrollow.removeAllChildren();\n        this.DestroyAllChildren(this.Scrollow);\n        return;\n    },\n    ScrollViewData:function(everyGameKeys){\n        this.loopScrollView.InitScrollData(\"UIDaiKai_Child\", this.UIDaiKai_Child, everyGameKeys);\n    },\n    InitGameBtnList:function(serverPack){\n        this.FormManager.ShowForm(\"UICreatRoom\",serverPack,this.gameName);\n    },\n    OnClose:function(){\n    \tthis.NetManager.SendPack(\"helproom.CHelpRoomSession\",{type:2});\n        //this.Scrollow.removeAllChildren();\n        this.DestroyAllChildren(this.Scrollow);\n    },\n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_close\"){\n            this.CloseForm();\n        }else if(btnName==\"btn_daikaifang\"){\n\t\t\t//打开代开放UI\n            app.NetManager().SendPack('family.CPlayerGameList',{},this.InitGameBtnList.bind(this),this.InitGameBtnList.bind(this));\n            this.FormManager.CloseForm('UIDaiKai');\n        }else if(btnName=='btn_jilu'){\n\t\t\t//打开代开放记录\n           this.FormManager.ShowForm(\"UIDaiKaiLog\");\n\t\t}else{\n            this.ErrLog(\"OnClick(%s) not find btnName\",btnName);\n        }\n    },\n});\n"]}