{"version":3,"sources":["UIStore.js"],"names":["app","require","cc","Class","extends","properties","prefab","Prefab","layout","Node","owerScrollView","btn_table0","btn_table1","btn_table2","btn_bg","SpriteFrame","OnCreateInit","SDKManager","DiamondStore","SysDataManager","GetTableDict","selectCityConfig","ComTool","NetManager","RegNetPack","OnExchange","RegEvent","Event_HeroProperty","RefreshType","httpPath","Client","GetClientConfigProperty","replace","length","substring","isIos","IsIOS","dataLeDouList","dataRoomCardList","dataExchangeList","dataOwerRoomCardList","InitUIDataByConfig","key","leDou","push","roomCard","exchange","UpdateLayOutView","active","DestroyAllChildren","itemCount","needList","curRefreshTabel","itmes_count","constItemNum","data","children","parseInt","i","itmes","instantiate","j","name","addChild","curRowIndex","curColIndex","path","basePath","curItems","item","nodePath","iconPath","SetWndImageByFilePath","buyNode","getChildByName","numNode","titleStr","num","numStr","UnitPath","gPath","UnitType","gType","getComponent","Label","string","RewardStr","lb_Reward","on","OnBuyBtnClick","x","width","OnShow","openViewName","appName","sys","localStorage","getItem","SysNotifyManager","ShowSysMsg","CloseForm","ShowLoaclCity","FormManager","ShowForm","that","allSelectCityData","HeroManager","GetCurSelectCityData","SendPack","success","vip","SendHttpRequest","error","lb_loaclCity","node","cityInfo","Name","ShowData","OnEvent","appID","SimulateOnClick","familyID","PlayerFamilyManager","GetPlayerFamilyProperty","console","log","Config","promoter","desc","ConfirmManager","SetWaitForConfirmForm","OnConFirmFamily","bind","ShareDefine","ConfirmFamily","clickType","msgID","backArgList","CheckOnBuyBtnClick","AppID","BuyLeDouID","SetWaitForConfirm","Confirm","type","msgArg","cbArg","content","lbSure","lbCancle","OnConFirm","ShowConfirm","self","event","allGameIdFormServer","split","curGameList","GetAllGameId","argDict","serverUrl","argString","requestType","sendPack","url","join","dataStr","JSON","stringify","httpRequest","XMLHttpRequest","timeout","open","setRequestHeader","onerror","ErrLog","OnConnectHttpFail","readyState","status","ontimeout","onreadystatechange","OnReceiveHttpPack","responseText","send","httpResText","serverPack","parse","id","moneytypename","money","roomcard","showgive","goodstype","itemsIndex","curIndex","needIndex","parent","target","startsWith","granddad","onlinePay","payTips","openURL","GetHeroProperty","AppName","AppPrice","OnClick","btnName","btnNode","Sprite","spriteFrame","owerRoomCard","ShowOwerRoomCard","Id","owerLayout","ScrollView","scrollToTop","owerDemo","child","cityId","sign","value"],"mappings":"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","file":"UIStore.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        prefab:cc.Prefab,\n        layout:cc.Node,\n        owerScrollView:cc.Node,\n\n        btn_table0:cc.Node,\n        btn_table1:cc.Node,\n        btn_table2:cc.Node,\n        // num_dhq:cc.Label,\n\n        btn_bg:[cc.SpriteFrame],\n\n    },\n\n    OnCreateInit: function () {\n        this.SDKManager = app.SDKManager();\n        this.DiamondStore = this.SysDataManager.GetTableDict(\"DiamondStore\");\n        this.selectCityConfig = app.SysDataManager().GetTableDict(\"selectCity\");\n        this.ComTool = app.ComTool();\n        app.NetManager().RegNetPack('game.CPlayerExchange', this.OnExchange, this);\n        this.RegEvent(\"HeroProperty\", this.Event_HeroProperty);\n        this.RefreshType = {\n            'leDou':1,          //乐豆  0\n            'roomCard':2,       //房卡  1\n            'exchange':3,        //兑换  2\n            'owerRoomCard':4        //我的钻石  2\n        };\n        this.httpPath = app.Client.GetClientConfigProperty(\"WebSiteUrl\");\n        this.httpPath = this.httpPath.replace(\"http://\", \"\")\n        if (this.httpPath[this.httpPath.length-1] == \"/\") {\n            this.httpPath = this.httpPath.substring(0, this.httpPath.length-1)\n        }\n        this.isIos = this.ComTool.IsIOS();\n        this.dataLeDouList = [];\n        this.dataRoomCardList = [];\n        this.dataExchangeList = [];\n        this.dataOwerRoomCardList = [];\n        this.InitUIDataByConfig();\n    },\n\n    InitUIDataByConfig:function(){\n        for(let key in this.DiamondStore){\n           /* if(this.isIos && 0 == channelType)\n                continue;\n            else if(!this.isIos && 1 == channelType)\n                continue;*/\n            if(this.DiamondStore[key]['goodsType'] == this.RefreshType.leDou){\n                this.dataLeDouList.push(this.DiamondStore[key]);\n            }\n            else if(this.DiamondStore[key]['goodsType'] == this.RefreshType.roomCard){\n                this.dataRoomCardList.push(this.DiamondStore[key]);\n\n            }\n            else if(this.DiamondStore[key]['goodsType'] == this.RefreshType.exchange){\n                this.dataExchangeList.push(this.DiamondStore[key]);\n            }\n        }\n    },\n\n    UpdateLayOutView:function(){\n        this.layout.active = true;\n        this.owerScrollView.active =false;\n        //this.layout.removeAllChildren();\n        this.DestroyAllChildren(this.layout);\n        let itemCount = 0;\n        let needList = [];\n        if(this.curRefreshTabel == this.RefreshType.leDou)\n            needList = this.dataLeDouList;\n        else if(this.curRefreshTabel == this.RefreshType.roomCard)\n            needList = this.dataRoomCardList;\n        else if(this.curRefreshTabel == this.RefreshType.exchange)\n            needList = this.dataExchangeList;\n\n        itemCount = needList.length;\n        let itmes_count = 0;\n        let constItemNum = this.prefab.data.children.length;\n        if(itemCount < constItemNum)\n            itmes_count = 1;\n        else if(0 == (itemCount % constItemNum))\n            itmes_count = parseInt(itemCount/constItemNum);\n        else{\n            itmes_count = parseInt(itemCount/constItemNum);\n            itmes_count++;\n        }\n\n        for(let i=0;i<itmes_count;i++){\n            let itmes = cc.instantiate(this.prefab);\n            itmes.active = true;\n            for(let j=0;j<constItemNum;j++){\n                itmes.children[j].name = 'item' + j;\n                itmes.children[j].active = false;\n            }\n\n            itmes.name = 'items' + i;\n            this.layout.addChild(itmes);\n        }\n        let curRowIndex = 0;\n        let curColIndex = 0;\n        let path = '';\n        //---------------------路径不对\n        let basePath = 'texture/store/';\n        for(let i=0;i<itemCount;i++){\n            let curItems = this.layout.children[curRowIndex];\n            let item = curItems.children[curColIndex];\n            let nodePath = 'sp_buy/right/layout/items' + curRowIndex + '/item' + curColIndex;\n            let iconPath = '/bg_icon/icon';\n            this.SetWndImageByFilePath(nodePath+iconPath,basePath + needList[i]['ImageName']);\n            let buyNode = item.getChildByName('btn_buy');\n            let numNode = buyNode.getChildByName('num');\n            let titleStr = '';\n            let num = needList[i]['AppPrice'];\n            let numStr = num;\n            titleStr = needList[i]['DiamondNum'];\n            let UnitPath = \"/btn_buy/num/zuanshi\"\n            let gPath = \"/num/g\";\n            let UnitType = \"\";\n            let gType = \"\";\n            /*if(titleStr >= 100000){\n                titleStr = (titleStr/10000).toFixed().toString();\n                gType = \"img_wg\";\n            }else{\n                gType = \"img_g\";\n            }*/\n            gType = \"img_g\";\n            if(this.curRefreshTabel == this.RefreshType.leDou){\n                UnitType = \"icon_diamonds01\";\n            }\n            else if(this.curRefreshTabel == this.RefreshType.roomCard){\n                UnitType = \"img_yuan\";\n            }\n          \n            this.SetWndImageByFilePath(nodePath+gPath,basePath + gType);\n            this.SetWndImageByFilePath(nodePath+UnitPath,basePath + UnitType);\n            item.getChildByName('num').getComponent(cc.Label).string = titleStr;\n            numNode.getComponent(cc.Label).string = numStr;\n            let RewardStr = needList[i]['ExtraReward'];\n            let lb_Reward = '';\n            if(RewardStr == 0){\n                item.getChildByName(\"title\").active = false;\n            }\n            else{\n                item.getChildByName(\"title\").active = true;\n            }\n            /*if(RewardStr >= 10000){\n                RewardStr = (RewardStr/10000).toFixed().toString();\n                lb_Reward = \"多送\" + RewardStr + \"万个\";\n            }else{\n                lb_Reward = \"多送\" + RewardStr + \"个\";\n            }*/\n            lb_Reward = \"多送\" + RewardStr + \"个\";\n            item.getChildByName(\"title\").getChildByName(\"label\").getComponent(cc.Label).string = lb_Reward;\n            item.on('click',this.OnBuyBtnClick,this);\n            buyNode.on('click',this.OnBuyBtnClick,this);\n            \n            \n            item.active = true;\n            numNode.getChildByName(\"zuanshi\").x=numNode.width/2 - 5;\n            item.getChildByName('num').getChildByName(\"g\").x=item.getChildByName('num').width/2;\n            // console.log(\"ddada\"+tem.getChildByName(\"title\").getChildByName(\"label\"))\n            curColIndex++;\n            if(curColIndex == constItemNum){\n                curColIndex = 0;\n                curRowIndex++;\n            }\n        }\n    },\n    OnShow: function (openViewName = 'btn_table1') {\n        let appName=cc.sys.localStorage.getItem('appName');\n        if (appName==\"baodao\") {\n            app.SysNotifyManager().ShowSysMsg('商城未开启');\n            this.CloseForm();\n            return;\n        }\n\n\n\n        //显示当前城市\n        this.ShowLoaclCity();\n        app.FormManager().ShowForm('UITop', \"UIStore\");\n        // this.FormManager.CloseForm('ui/club/UIClubCreate');\n        // if(this.dataRoomCardList.length>0){\n        //     this.ShowData(openViewName);\n        // }else{\n        this.openViewName=openViewName;\n        this.dataRoomCardList = [];\n        let that=this;\n        let allSelectCityData = app.HeroManager().GetCurSelectCityData();\n        app.NetManager().SendPack(\"family.CPlayerCheckFamilyOwner\",{},function(success){\n            if (success.vip < 0) {\n                that.SendHttpRequest('http://'+that.httpPath+'/index.php?module=WxPay&action=GetGoodsID', \"&gamename=qinghuai&goodstype=2&cityId=\"+allSelectCityData[0]['selcetId'], \"GET\",{});\n            }else{\n                if(success.vip==0){\n                    that.SendHttpRequest('http://'+that.httpPath+'/index.php?module=WxPay&action=GetGoodsID', \"&gamename=qinghuai&goodstype=4&cityId=\"+allSelectCityData[0]['selcetId'], \"GET\",{});\n                }else if(success.vip==1){\n                    that.SendHttpRequest('http://'+that.httpPath+'/index.php?module=WxPay&action=GetGoodsID', \"&gamename=qinghuai&goodstype=5&cityId=\"+allSelectCityData[0]['selcetId'], \"GET\",{});\n                }else if(success.vip==2){\n                    that.SendHttpRequest('http://'+that.httpPath+'/index.php?module=WxPay&action=GetGoodsID', \"&gamename=qinghuai&goodstype=6&cityId=\"+allSelectCityData[0]['selcetId'], \"GET\",{});\n                }else if(success.vip==3){\n                    that.SendHttpRequest('http://'+that.httpPath+'/index.php?module=WxPay&action=GetGoodsID', \"&gamename=qinghuai&goodstype=7&cityId=\"+allSelectCityData[0]['selcetId'], \"GET\",{});\n                }\n            }\n        },function(error){\n            that.SendHttpRequest('http://'+that.httpPath+'/index.php?module=WxPay&action=GetGoodsID', \"&gamename=qinghuai&goodstype=2&cityId=\"+allSelectCityData[0]['selcetId'], \"GET\",{});\n        });\n            // this.SendHttpRequest('http://'+this.httpPath+'/index.php?module=WxPay&action=GetGoodsID', \"&gamename=qinghuai\", \"GET\",{});\n        // }\n    },\n    ShowLoaclCity:function(){\n        let lb_loaclCity = this.node.getChildByName(\"img_bjl_dw\").getChildByName(\"lb_loaclCity\");\n        let allSelectCityData = app.HeroManager().GetCurSelectCityData();\n        if (allSelectCityData.length == 0) {\n            this.CloseForm();\n            app.FormManager().ShowForm(\"UISelectCity\");\n            lb_loaclCity.getComponent(cc.Label).string = \"\";\n        }else{\n            let cityInfo = this.selectCityConfig[allSelectCityData[0]['selcetId']];\n            if (!cityInfo) {\n                this.CloseForm();\n                app.FormManager().ShowForm(\"UISelectCity\");\n                lb_loaclCity.getComponent(cc.Label).string = \"\";\n                return;\n            }\n            lb_loaclCity.getComponent(cc.Label).string = cityInfo.Name;\n        }\n    },\n    ShowData:function(openViewName){\n        // this.FormManager.ShowForm(\"bottom\");\n        app.Client.OnEvent(\"EVT_CloseDetail\",{});\n        this.appID = 0;\n        this.curRefreshTabel = -1;\n        let path = 'sp_buy/left/';\n        if('' != openViewName)\n            path += openViewName;\n        else\n            path += 'btn_table0';\n\n        this.SimulateOnClick(path);\n\n        //检车用户FamilyID\n        let familyID=app.PlayerFamilyManager().GetPlayerFamilyProperty(\"familyID\");\n        console.log(familyID);\n        if(familyID==10001 && app.Config && app.Config.promoter){\n            let desc=\"您还没有绑定工会,绑定工会可以获得5个钻石,点击前往\";\n            app.ConfirmManager().SetWaitForConfirmForm(this.OnConFirmFamily.bind(this), \"goBandFamily\", []);\n            app.FormManager().ShowForm(\"UIMessage\", null, this.ShareDefine.ConfirmFamily, 0, 0, desc)\n            return;\n        }\n    },\n    OnConFirmFamily:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return\n        }\n        if(\"goBandFamily\" == msgID){\n            app.FormManager().ShowForm(\"UIBangDingTuiGuang\");\n            return;\n        }\n    },\n    CheckOnBuyBtnClick:function(AppID){\n        this.BuyLeDouID=AppID;\n        this.SetWaitForConfirm('MSG_EXCHANGE',this.ShareDefine.Confirm,[],[]);\n    },\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[],content = \"\", lbSure =\"\", lbCancle=\"\"){\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg,content,lbSure,lbCancle);\n    },\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return;\n        }\n        if('MSG_EXCHANGE' == msgID){\n            app.NetManager().SendPack(\"game.CPlayerExchange\", {\"productID\":this.BuyLeDouID});\n        }else if (\"SWITCH_CITY_STORE\" == msgID) {\n            if (this.selectCityConfig[backArgList[0]][\"Type\"] != 3) {\n                this.ShowSysMsg(\"需指定县级市，才能进入游戏\");\n                return;\n            }\n            let self = this;\n            //根据选择的城市向服务端请求所有游戏\n            app.NetManager().SendPack(\"room.CBaseGameIdList\", {\"selectCityId\": backArgList[0]}, function (event) {\n                app.Client.allGameIdFormServer = event.split(\",\");\n                let curGameList = app.Client.GetAllGameId();\n                let argDict = {\n                    \"gameList\": curGameList,\n                };\n                app.Client.OnEvent(\"ShowGameListByLocation\", argDict);\n                self.OnShow(\"btn_table2\");\n            }, function (event) {\n                console.log(\"获取游戏id失败\");\n            });\n        }\n    },\n    Event_HeroProperty:function(event){\n        let argDict = event;\n        if(argDict[\"Property\"] == \"crystal\"){\n            //this.ShowCrystal();\n        }\n    },\n\n    /*ShowCrystal:function(){\n        let crystal = app.HeroManager().GetHeroProperty(\"crystal\");\n        if(crystal >= 10000)\n            crystal = (crystal/10000).toFixed(1).toString() + '万';\n        this.num_dhq.string = crystal;\n    },*/\n\n    SendHttpRequest:function(serverUrl, argString, requestType, sendPack){\n        // app.NetRequest().SendHttpRequest(serverUrl, argString, requestType, sendPack, 2000, \n        //     this.OnReceiveHttpPack.bind(this), \n        //     this.OnConnectHttpFail.bind(this),\n        //     null,\n        //     this.OnConnectHttpError.bind(this),\n\t\t// );\n        var url = [serverUrl, argString].join(\"\")\n        console.log(\"serverUrl ==== \" + url);\n        var dataStr = JSON.stringify(sendPack);\n\n        //每次都实例化一个，否则会引起请求结束，实例被释放了\n        var httpRequest = new XMLHttpRequest();\n\n        httpRequest.timeout = 2000;\n\n\n        httpRequest.open(requestType, url, true);\n        //服务器json解码\n        httpRequest.setRequestHeader(\"Content-Type\", \"application/json\");\n        var that = this;\n        httpRequest.onerror = function(){\n            that.ErrLog(\"httpRequest.error:%s\", url);\n            that.OnConnectHttpFail(serverUrl, httpRequest.readyState, httpRequest.status);\n        };\n        httpRequest.ontimeout = function(){\n            \n        };\n        httpRequest.onreadystatechange = function(){\n            //执行成功\n            if (httpRequest.status == 200){\n                if(httpRequest.readyState == 4){\n                    that.OnReceiveHttpPack(serverUrl, httpRequest.responseText);\n                }\n            }\n            else{\n                that.OnConnectHttpFail(serverUrl, httpRequest.readyState, httpRequest.status);\n                that.ErrLog(\"onreadystatechange(%s,%s)\", httpRequest.readyState, httpRequest.status);\n            }\n        };\n        httpRequest.send(dataStr);\n\n    },\n     /*\n    *AppID  AppName AppPrice    DiamondNum  ExtraReward ImageName   goodsType   channelType\n       12     金币     29          320000       3002    icon_card6       1           2\n    */\n    OnReceiveHttpPack:function(serverUrl, httpResText){\n        try{\n            let serverPack = JSON.parse(httpResText);\n            for(let i=0;i<serverPack.data.length;i++){\n                let data=serverPack.data[i];\n                // if (data.goodstype != this.RefreshType.roomCard) continue;//后台增加了普通玩家，普通代理，高级代理\n                let push=[];\n                push['AppID']=data.id;\n                push['AppName']=data.moneytypename;\n                push['AppPrice']=data.money/100;//data.money---单位是分--\n                push['DiamondNum']=data.roomcard;//兑换数量\n                push['ExtraReward']=data.showgive;  //showgive---额外奖励\n                push['ImageName']='icon_diamonds0'+(i+1);\n                push['goodsType']=data.goodstype;\n                push['channelType']=2;\n                this.dataRoomCardList.push(push);\n            }\n            this.ShowData(this.openViewName);\n        }\n        catch (error){\n            \n        }\n    },\n    OnConnectHttpFail:function(serverUrl, readyState, status){\n        \n    },\n\n    OnExchange:function(serverPack){\n        if('SUCCESS' == serverPack['msg']){\n            let num = serverPack['DiamondNum'];\n            app.SysNotifyManager().ShowSysMsg('MSG_STORE_EXCHANGE_OK',[num]);\n        }\n    },\n\n    //---------点击函数---------------------\n    OnBuyBtnClick:function(event){\n        let itemsIndex = 0;\n        let curIndex = 0;\n        let needIndex = 0;\n        let parent = null;\n        let allSelectCityData = app.HeroManager().GetCurSelectCityData();\n        if(event.target.name.startsWith('item')){//点击的是整个item\n            parent = event.target.parent;\n            itemsIndex = parseInt(parent.name.substring(parent.name.length - 1));\n            curIndex = parseInt(event.target.name.substring(event.target.name.length - 1));\n        }\n        else{//购买按钮\n            parent = event.target.parent;\n            let granddad = parent.parent;\n            itemsIndex = parseInt(granddad.name.substring(granddad.name.length - 1));\n            curIndex = parseInt(parent.name.substring(parent.name.length - 1));\n        }\n        let constItemNum = this.prefab.data.children.length;\n        if(0 == itemsIndex)\n            needIndex = curIndex;\n        else\n            needIndex = itemsIndex * constItemNum + curIndex;\n        \n        if(this.curRefreshTabel == this.RefreshType.leDou){\n            if(needIndex >= this.dataLeDouList.length){\n                this.ErrLog('dataLeDouList error dataListLength :' + this.dataLeDouList.length + ' needIndex :' + needIndex);\n                return;\n            }\n            this.appID = this.dataLeDouList[needIndex]['AppID'];\n            this.CheckOnBuyBtnClick(this.appID);\n            // app.NetManager().SendPack(\"game.CPlayerExchange\", {\"productID\":this.appID});\n        }\n        else if(this.curRefreshTabel == this.RefreshType.roomCard){\n            if(needIndex >= this.dataRoomCardList.length){\n                this.ErrLog('dataLeDouList error dataListLength :' + this.dataRoomCardList.length + ' needIndex :' + needIndex);\n                return;\n            }\n            if (app.Config && !app.Config.onlinePay) {\n                if (app.Config.payTips && app.Config.payTips.length > 0) {\n                    app.SysNotifyManager().ShowSysMsg(app.Config.payTips);\n                }\n                else{\n                    app.SysNotifyManager().ShowSysMsg('请联系客服,' + (app['KeFuHao'] || \"\"));\n                }\n                return\n            }\n            this.appID = this.dataRoomCardList[needIndex]['AppID'];\n            cc.sys.openURL(\"http://\"+this.httpPath+\"/index.php?module=YiHePay&action=Pay&goodsID=\"+this.appID+\"&playerID=\"+app.HeroManager().GetHeroProperty(\"pid\")+\"&cityId=\"+allSelectCityData[0]['selcetId']);\n            // this.SDKManager.Pay(this.appID);\n        }\n        else if(this.curRefreshTabel == this.RefreshType.exchange){\n            if(needIndex >= this.dataExchangeList.length){\n                this.ErrLog('dataLeDouList error dataListLength :' + this.dataExchangeList.length + ' needIndex :' + needIndex);\n                return;\n            }\n            let AppID = this.dataExchangeList[needIndex]['AppID'];\n            let AppName = this.dataExchangeList[needIndex]['AppName'];\n            let AppPrice = this.dataExchangeList[needIndex]['AppPrice'];\n            app.FormManager().ShowForm(\"UIContact\",AppID,AppName,AppPrice);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if('btn_table0' == btnName){\n            if(this.curRefreshTabel == this.RefreshType.leDou)\n                return;\n            /*this.node_table0.active = true;\n            this.node_table1.active = false;*/\n\n            this.btn_table0.getComponent(cc.Sprite).spriteFrame=this.btn_bg[0];\n            this.btn_table0.getChildByName('on').active=true;\n            this.btn_table0.getChildByName('off').active=false;\n\n            this.btn_table1.getComponent(cc.Sprite).spriteFrame=this.btn_bg[1];\n            this.btn_table1.getChildByName('on').active=false;\n            this.btn_table1.getChildByName('off').active=true;\n\n            this.btn_table2.getComponent(cc.Sprite).spriteFrame=this.btn_bg[1];\n            this.btn_table2.getChildByName('on').active=false;\n            this.btn_table2.getChildByName('off').active=true;\n\n            this.curRefreshTabel = this.RefreshType.leDou;\n            this.UpdateLayOutView();\n        }\n        else if('btn_table1' == btnName){\n            if(this.curRefreshTabel == this.RefreshType.roomCard)\n                return;\n            /*this.node_table0.active = false;\n            this.node_table1.active = true;*/\n\n            this.btn_table0.getComponent(cc.Sprite).spriteFrame=this.btn_bg[1];\n            this.btn_table0.getChildByName('on').active=false;\n            this.btn_table0.getChildByName('off').active=true;\n\n            this.btn_table1.getComponent(cc.Sprite).spriteFrame=this.btn_bg[0];\n            this.btn_table1.getChildByName('on').active=true;\n            this.btn_table1.getChildByName('off').active=false;\n\n            this.btn_table2.getComponent(cc.Sprite).spriteFrame=this.btn_bg[1];\n            this.btn_table2.getChildByName('on').active=false;\n            this.btn_table2.getChildByName('off').active=true;\n\n            this.curRefreshTabel = this.RefreshType.roomCard;\n            this.UpdateLayOutView();\n        }else if('btn_table2' == btnName){\n            if(this.curRefreshTabel == this.RefreshType.owerRoomCard)\n                return;\n            /*this.node_table0.active = false;\n            this.node_table1.active = true;*/\n\n            this.btn_table0.getComponent(cc.Sprite).spriteFrame=this.btn_bg[1];\n            this.btn_table0.getChildByName('on').active=false;\n            this.btn_table0.getChildByName('off').active=true;\n\n            this.btn_table1.getComponent(cc.Sprite).spriteFrame=this.btn_bg[1];\n            this.btn_table1.getChildByName('on').active=true;\n            this.btn_table1.getChildByName('off').active=false;\n\n            this.btn_table2.getComponent(cc.Sprite).spriteFrame=this.btn_bg[0];\n            this.btn_table2.getChildByName('on').active=true;\n            this.btn_table2.getChildByName('off').active=false;\n\n            this.curRefreshTabel = this.RefreshType.owerRoomCard;\n            this.layout.active = false;\n            this.owerScrollView.active = true;\n            let self = this;\n            app.NetManager().SendPack(\"player.CPlayerCityCurrencyList\",{}, function(serverPack){\n                self.ShowOwerRoomCard(serverPack);\n            }, function(){\n                \n            });\n            \n        }else if('btn_back' == btnName){\n            this.CloseForm();\n        }else if (\"btn_selectCity\" == btnName) {\n            let cityInfo = btnNode.parent.cityInfo;\n            this.SetWaitForConfirm('SWITCH_CITY_STORE',this.ShareDefine.Confirm,[],[cityInfo.Id], \"是否切换到[\"+cityInfo.Name+\"]\");\n        }\n        else{\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\n        }\n\n    },\n    ShowOwerRoomCard:function(serverPack){\n        let owerLayout = this.owerScrollView.getChildByName(\"view\").getChildByName(\"layoutOwer\");\n        this.owerScrollView.getComponent(cc.ScrollView).scrollToTop();\n        this.DestroyAllChildren(owerLayout);\n\n        let owerDemo = this.node.getChildByName(\"owerDemo\");\n        owerDemo.active = false;\n        for (let i = 0; i < serverPack.length; i++) {\n            let child = cc.instantiate(owerDemo);\n            if (this.selectCityConfig[serverPack[i].cityId][\"Type\"] != 3) {\n                continue;\n            }\n            if (serverPack[i].sign == 1) {\n                child.getChildByName(\"img_dl\").active = true;\n            }else{\n                child.getChildByName(\"img_dl\").active = false;\n            }\n            let cityInfo = this.selectCityConfig[serverPack[i].cityId];\n            child.getChildByName(\"lb_city\").getComponent(cc.Label).string = cityInfo.Name;\n            child.getChildByName(\"lb_num\").getComponent(cc.Label).string = serverPack[i].value;\n            child.cityInfo = cityInfo;\n            child.active = true;\n            owerLayout.addChild(child);\n        }\n    },\n});"]}