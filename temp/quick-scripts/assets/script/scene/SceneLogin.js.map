{"version":3,"sources":["SceneLogin.js"],"names":["app","require","cc","Class","extends","properties","LabelRes","Label","OnCreate","FormManager","ShareDefine","WeChatManager","HeroAccountManager","SDKManager","string","ClientVersion","OnSwithSceneEnd","console","log","IsH5AccountSDK","LoginBySDK","InitGameWeChatShare","IsAppAccountSDK","CheckLoginBySDK","CheckIsAppCheck","ShowForm","OnTouchEnd","event"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASH,QAAQ,WAAR,CADD;;AAGRI,aAAY;AACXC,YAASJ,GAAGK;AADD,EAHJ;;AAOR;AACAC,WAAU,oBAAY;;AAErB,OAAKC,WAAL,GAAmBT,IAAIS,WAAJ,EAAnB;AACA,OAAKC,WAAL,GAAmBV,IAAIU,WAAJ,EAAnB;AACA,OAAKC,aAAL,GAAqBX,IAAIW,aAAJ,EAArB;AACA,OAAKC,kBAAL,GAA0BZ,IAAIY,kBAAJ,EAA1B;AACA,OAAKC,UAAL,GAAkBb,IAAIa,UAAJ,EAAlB;;AAEA,MAAG,KAAKP,QAAR,EAAiB;AAChB,QAAKA,QAAL,CAAcQ,MAAd,GAAuBd,IAAIU,WAAJ,GAAkBK,aAAzC;AACA;AACD,EAnBO;;AAsBR;AACAC,kBAAgB,2BAAU;AACzBC,UAAQC,GAAR,CAAY,yBAAZ;;AAEA;AACA,MAAG,KAAKL,UAAL,CAAgBM,cAAhB,EAAH,EAAoC;AACnCF,WAAQC,GAAR,CAAY,gCAAZ;AACA;AACA,QAAKL,UAAL,CAAgBO,UAAhB;AACA;AACA,QAAKT,aAAL,CAAmBU,mBAAnB;AACA;AACD;AAPA,OAQK,IAAG,KAAKR,UAAL,CAAgBS,eAAhB,EAAH,EAAqC;AACzCL,YAAQC,GAAR,CAAY,wDAAZ,EAAqE,KAAKL,UAAL,CAAgBU,eAAhB,EAArE;AACA,QAAG,KAAKV,UAAL,CAAgBU,eAAhB,EAAH,EAAqC;AACpC,UAAKV,UAAL,CAAgBO,UAAhB;AACA,KAFD,MAEK;AACJ;AACA;;AAED,QAAIpB,IAAIa,UAAJ,GAAiBW,eAAjB,EAAJ,EAAyC;AACxC,UAAKf,WAAL,CAAiBgB,QAAjB,CAA0B,WAA1B;AACA,KAFD,MAEO;AACN,UAAKhB,WAAL,CAAiBgB,QAAjB,CAA0B,WAA1B;AACA;AACD;AACD;AAdK,QAeD;AACHR,aAAQC,GAAR,CAAY,4BAAZ;AACA,SAAIlB,IAAIa,UAAJ,GAAiBW,eAAjB,EAAJ,EAA0C;AACzC,WAAKf,WAAL,CAAiBgB,QAAjB,CAA0B,WAA1B;AACA,MAFD,MAEO;AACN,WAAKhB,WAAL,CAAiBgB,QAAjB,CAA0B,SAA1B;AACA;AACA;AACD;AACD,EA3DO;;AA6DRC,aAAW,oBAASC,KAAT,EAAe,CAEzB;AA/DO,CAAT","file":"SceneLogin.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\scene","sourcesContent":["/*\n 登陆场景\n */\n\nvar app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseScene\"),\n\n\tproperties: {\n\t\tLabelRes:cc.Label,\n\t},\n\n\t//----------回掉函数------------------\n\tOnCreate: function () {\n\n\t\tthis.FormManager = app.FormManager();\n\t\tthis.ShareDefine = app.ShareDefine();\n\t\tthis.WeChatManager = app.WeChatManager();\n\t\tthis.HeroAccountManager = app.HeroAccountManager();\n\t\tthis.SDKManager = app.SDKManager();\n\n\t\tif(this.LabelRes){\n\t\t\tthis.LabelRes.string = app.ShareDefine().ClientVersion;\n\t\t}\n\t},\n\n\n\t//进入场景\n\tOnSwithSceneEnd:function(){\n\t\tconsole.log(\"come in OnSwithSceneEnd\");\n\n\t\t//如果是h5sdk直接登录\n\t\tif(this.SDKManager.IsH5AccountSDK()){\n\t\t\tconsole.log(\"OnSwithSceneEnd IsH5AccountSDK\");\n\t\t\t//直接调用登录服务器\n\t\t\tthis.SDKManager.LoginBySDK();\n\t\t\t//重置微信分享文本,因为有可能被修改成分享房间的连接文本\n\t\t\tthis.WeChatManager.InitGameWeChatShare();\n\t\t}\n\t\t//如果是appsdk 显示授权界面\n\t\telse if(this.SDKManager.IsAppAccountSDK()){\n\t\t\tconsole.log(\"OnSwithSceneEnd 2 this.SDKManager.CheckLoginBySDK():%s\",this.SDKManager.CheckLoginBySDK());\n\t\t\tif(this.SDKManager.CheckLoginBySDK()){\n\t\t\t\tthis.SDKManager.LoginBySDK();\n\t\t\t}else{\n\t\t\t\t// this.FormManager.ShowForm(\"UILogin01\");\n\t\t\t}\t\n\n\t\t\tif (app.SDKManager().CheckIsAppCheck())  {\n\t\t\t\tthis.FormManager.ShowForm(\"UILogin02\");\t\n\t\t\t} else {\n\t\t\t\tthis.FormManager.ShowForm(\"UILogin01\");\n\t\t\t}\t\n\t\t}\n\t\t//否则公司内部账号登录界面\n\t\telse{\n\t\t\tconsole.log(\"OnSwithSceneEnd 公司内部账号登录界面\");\n\t\t\tif (app.SDKManager().CheckIsAppCheck())   {\n\t\t\t\tthis.FormManager.ShowForm(\"UILogin02\");\t\n\t\t\t} else {\n\t\t\t\tthis.FormManager.ShowForm(\"UILogin\");\t\n\t\t\t\t//this.FormManager.ShowForm(\"UILogin01\");\t\n\t\t\t}\n\t\t}\n\t},\n\n\tOnTouchEnd:function(event){\n\n\t},\n});\n"]}