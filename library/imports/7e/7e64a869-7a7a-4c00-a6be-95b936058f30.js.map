{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\jjmj/assets\\script\\ui\\uiGame\\jjmj\\jjmjChildCreateRoom.js"],"names":["app","require","gamjChildCreateRoom","cc","Class","extends","properties","CreateSendPack","renshu","setCount","isSpiltRoomCard","sendPack","dipao","GetIdxByKey","dimayou","qupai","kexuanwanfa","GetIdxsByKey","fangjian","xianShi","jiesan","gaoji","OnToggleClick","event","FormManager","CloseForm","toggles","target","parent","toggle","key","name","substring","length","toggleIndex","parseInt","needClearList","needShowIndexList","Toggles","push","ClearToggleCheck","UpdateLabelColor","UpdateTogglesLabel","getComponent","Toggle","i","mark","getChildByName","active","AdjustSendPack","arr","module","exports"],"mappings":"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","file":"jjmjChildCreateRoom.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\jjmj","sourcesContent":["/*\n创建房间子界面\n */\nvar app = require(\"app\");\n\nvar gamjChildCreateRoom = cc.Class({\n    extends: require(\"BaseChildCreateRoom\"),\n\n    properties: {\n\n    },\n    //需要自己重写\n    // CreateSendPack -start-\n    CreateSendPack: function (renshu, setCount, isSpiltRoomCard) {\n        let sendPack = {};\n        let dipao = this.GetIdxByKey('dipao');\n        let dimayou = this.GetIdxByKey('dimayou');\n        let qupai = this.GetIdxByKey('qupai');\n        let kexuanwanfa = this.GetIdxsByKey('kexuanwanfa');\n        let fangjian = this.GetIdxsByKey('fangjian');\n        let xianShi = this.GetIdxByKey('xianShi');\n        let jiesan = this.GetIdxByKey('jiesan');\n        let gaoji = this.GetIdxsByKey('gaoji');\n\n        sendPack = {\n            \"dipao\": dipao,\n            \"dimayou\": dimayou,\n            \"qupai\": qupai,\n            \"kexuanwanfa\": kexuanwanfa,\n            \"fangjian\": fangjian,\n            \"xianShi\": xianShi,\n            \"jiesan\": jiesan,\n            \"gaoji\": gaoji,\n\n            \"playerMinNum\": renshu[0],\n            \"playerNum\": renshu[1],\n            \"setCount\": setCount,\n            \"paymentRoomCardType\": isSpiltRoomCard,\n\n        }\n        return sendPack;\n    },\n    OnToggleClick:function(event){\n        this.FormManager.CloseForm(\"UIMessageTip\");\n        let toggles = event.target.parent;\n        let toggle = event.target;\n        let key = toggles.name.substring(('Toggles_').length,toggles.name.length);\n        let toggleIndex = parseInt(toggle.name.substring(('Toggle').length,toggle.name.length)) - 1;\n        let needClearList = [];\n        let needShowIndexList = [];\n        needClearList = this.Toggles[key];\n        needShowIndexList.push(toggleIndex);\n        if('jushu' == key || 'renshu' == key || 'fangfei' == key){\n            this.ClearToggleCheck(needClearList,needShowIndexList);\n            this.UpdateLabelColor(toggles);\n            this.UpdateTogglesLabel(toggles, false);\n            if(key==\"renshu\"){\n                if(toggleIndex == 2){\n                    this.ClearToggleCheck(this.Toggles['qupai'],[3]);\n                    this.UpdateLabelColor(this.Toggles['qupai'][3].parent);\n                }\n            }\n            return;\n        } else if('kexuanwanfa' == key){\n            // if('sss_dr' == this.gameType || 'sss_zz' == this.gameType){\n            //     if(toggleIndex == 0){\n            //         this.Toggles['kexuanwanfa'][1].getChildByName('checkmark').active = false;\n            //         this.UpdateLabelColor(this.Toggles['kexuanwanfa'][1].parent);\n            //     }\n            //     else if(toggleIndex == 1){\n            //         this.Toggles['kexuanwanfa'][0].getChildByName('checkmark').active = false;\n            //         this.UpdateLabelColor(this.Toggles['kexuanwanfa'][0].parent);\n            //     }\n            // }\n        }\n        if(toggles.getComponent(cc.Toggle)){//复选框\n            needShowIndexList = [];\n            for(let i=0;i<needClearList.length;i++){\n                let mark = needClearList[i].getChildByName('checkmark').active;\n                //如果复选框为勾选状态并且点击的复选框不是该复选框，则继续保持勾选状态\n                if(mark && i != toggleIndex){\n                    needShowIndexList.push(i);\n                }\n                //如果复选框为未勾选状态并且点击的复选框是该复选框，则切换为勾选状态\n                else if(!mark && i == toggleIndex){\n                    needShowIndexList.push(i);\n                }\n            }\n        }\n        this.ClearToggleCheck(needClearList,needShowIndexList);\n        this.UpdateLabelColor(toggles,'fangfei' == key ? true : false);\n    },\n    // CreateSendPack -end-\n\n    AdjustSendPack: function (sendPack) {\n\t\t// \t不可吃，仅二人、三人场可选；\n\t\t// if (sendPack.playerNum == 4) {\n\t\t// \tvar index = sendPack.kexuanwanfa.indexOf(0);\n\t\t// \tif (-1 != index) {\n\t\t// \t\tsendPack.kexuanwanfa.splice(index, 1);\n\t\t// \t}\n\t\t// }\n\n\t\treturn sendPack;\n    },\n\n    /**\n     * 多选\n     */\n    GetIdxsByKey: function (key) {\n        if (!this.Toggles[key]) {\n            return [];\n        }\n\n        let arr = [];\n        for (let i = 0; i < this.Toggles[key].length; i++) {\n            if (this.Toggles[key][i].getChildByName('checkmark').active) {\n                arr.push(i);\n            }\n        }\n        return arr;\n    },\n    \n\n    \n});\n\nmodule.exports = gamjChildCreateRoom;"]}