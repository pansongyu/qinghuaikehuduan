{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIClubRoomJoin.js"],"names":["app","require","cc","Class","extends","properties","join_list","Node","join_list2","bg_join","SpriteFrame","bg_touxiang","bg","OnCreateInit","FormManager","ShareDefine","HeroManager","heroName","GetHeroProperty","heroId","WeChatManager","ComTool","gameCreateConfig","SysDataManager","GetTableDict","RegEvent","Event_RoomStatusChange","Event_RoomPlayerChange","Event_RoomSetChange","Event_OutRoom","inRoom","inRoomInfo","OnShow","roomData","CheckInRoom","clubId","unionId","gameId","isShowUplevelId","ClubManager","GetCurClubShowUplevelId","gameType","GametTypeID2PinYin","playerList","posList","roomCfg","roomID","roomKey","playerNum","clubName","name","setId","tagId","roomSetId","isManage","node","getChildByName","active","toLowerCase","gameCfg","uiStr","getComponent","Sprite","spriteFrame","SetWndProperty","setCount","GameType_JXFZGP","GameType_GD","GameType_WHMJ","GameType_MASMJ","GameType_GLWSK","GameType2Name","playerIngNum","i","length","renshuStr","GetWanFa","roomSportsThreshold","sportsDouble","PLDecStr","roomSportsType","bigWinnerConsumeList","geWinnerPoint","roomSportsBigWinnerConsume","winScore","sportsPoint","twoMode","roomSportsEveryoneConsume","dianbo","parseInt","GamePlayManager","btn_yaoqing","WeChatShare","title","weChatAppShareUrl","createType","joinPlayerCount","haveRen","j","pid","payType","paymentRoomCardType","clubWinnerPayConsume","que","wanfa","InitUser","ShowJoinPlayer","self","NetManager","SendPack","event","console","log","serverPack","index","roomInfoItem","isClose","SysNotifyManager","ShowSysMsg","CloseForm","pos","touxiang","GetWndNode","userlist","UserPosList","gamename","sign","gameTypeID","GametTypeNameDict","toUpperCase","GametTypeID2Name","RoomCfgManager","WanFa","showpos","DataPos2ShowPos","PlayerInfo","heroID","headImageUrl","InitHeroHeadImage","WeChatHeadImage","OnLoad","ShowHeroHead","datapos","ShowPos2DataPos","GetHasPlayerNum","nowJoin","Click_btn_YaoQing","btnNode","gamedesc","ShowForm","OnClick","btnName","userNodeName","parent","replace","isPassword","password","localStorage","getItem","Client","JoinRoomCheckSubGame","undefined","userName","Label","string","SetWaitForConfirm","ConfirmYN","queryPid","queryClubId","msgID","type","msgArg","cbArg","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType","backArgList"],"mappings":"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","file":"UIClubRoomJoin.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        join_list: cc.Node,\n        join_list2: cc.Node,\n        bg_join: cc.SpriteFrame,\n        bg_touxiang: cc.SpriteFrame,\n        bg: [cc.SpriteFrame],\n    },\n\n    OnCreateInit: function() {\n        this.FormManager = app.FormManager();\n        this.ShareDefine = app.ShareDefine();\n        this.HeroManager = app.HeroManager();\n        this.heroName = this.HeroManager.GetHeroProperty(\"name\");\n        this.heroId = this.HeroManager.GetHeroProperty(\"pid\");\n        this.WeChatManager = app.WeChatManager();\n        this.ComTool = app.ComTool();\n        this.gameCreateConfig = this.SysDataManager.GetTableDict(\"gameCreate\");\n        this.RegEvent(\"OnRoomStateChange\", this.Event_RoomStatusChange, this);\n        this.RegEvent(\"OnRoomPlayerChange\", this.Event_RoomPlayerChange, this);\n        this.RegEvent(\"OnRoomSetChange\", this.Event_RoomSetChange, this);\n        this.RegEvent(\"OutRoom\", this.Event_OutRoom, this);\n    },\n    Event_OutRoom: function() {\n        this.inRoom = false;\n        this.inRoomInfo = null;\n    },\n    OnShow: function(roomData) {\n        this.inRoom = false;\n        this.CheckInRoom();\n        this.clubId = roomData.clubId;\n        this.unionId = roomData.unionId;\n        this.gameId = roomData.gameId;\n        let gameId = roomData.gameId;\n        this.isShowUplevelId=app.ClubManager().GetCurClubShowUplevelId();\n        let gameType = app.ShareDefine().GametTypeID2PinYin[gameId];\n        let playerList = roomData.posList;\n        let roomCfg = roomData.roomCfg;\n        let roomID = roomData.roomID;\n        let roomKey = roomData.roomKey;\n        let playerNum = roomCfg.playerNum;\n        let clubName = roomData.name;\n        let setId = roomData.setId;\n        this.tagId = roomData.tagId;\n        this.roomSetId = setId;\n        this.isManage = roomData.isManage; //是否管理员、创造者 0:不是,1:是\n        if (this.isManage == 0) {\n            this.node.getChildByName('left').getChildByName('btn_jiesan').active = false;\n        } else {\n            // if (this.isManage == 1) {\n            //     if(setId==0){\n            //         this.node.getChildByName('left').getChildByName('btn_jiesan').active=true;\n            //     }else{\n            //         this.node.getChildByName('left').getChildByName('btn_jiesan').active=false;\n            //     }\n            // }else{\n            this.node.getChildByName('left').getChildByName('btn_jiesan').active = true;\n            // }\n        }\n\n        //显示锁标记\n        if (typeof(roomCfg[\"password\"]) != \"undefined\") {\n            if (roomCfg[\"password\"] != \"\") {\n                this.node.getChildByName(\"tip_lock\").active = true;\n            } else {\n                this.node.getChildByName(\"tip_lock\").active = false;\n            }\n        } else {\n            this.node.getChildByName(\"tip_lock\").active = false;\n        }\n\n\n        this.playerNum = playerNum;\n        this.playerList = playerList;\n        this.gameType = gameType.toLowerCase();\n        this.gameCfg = roomData.roomCfg;\n        this.roomKey = roomKey;\n        this.roomID = roomID;\n\n        this.uiStr = \"right/join_list2\";\n        this.join_list.active = false;\n        this.join_list2.active = true;\n        if (this.playerNum > 4) {\n            this.uiStr = \"right/join_list\";\n            this.join_list.active = true;\n            this.join_list2.active = false;\n        } else {\n            if (this.playerNum == 2) {\n                this.join_list2.getChildByName(\"zhuozi\").getComponent(cc.Sprite).spriteFrame = this.bg[0];\n            } else if (this.playerNum == 3) {\n                this.join_list2.getChildByName(\"zhuozi\").getComponent(cc.Sprite).spriteFrame = this.bg[1];\n            } else if (this.playerNum == 4) {\n                this.join_list2.getChildByName(\"zhuozi\").getComponent(cc.Sprite).spriteFrame = this.bg[2];\n            }\n        }\n\n        if (setId > 0) {\n            this.SetWndProperty(this.uiStr + \"/zhuozi/lb_state\", \"text\", '游戏中...');\n        } else {\n            this.SetWndProperty(this.uiStr + \"/zhuozi/lb_state\", \"text\", '等待中...');\n        }\n        this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_clubname\", \"text\", clubName);\n        this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_roomkey\", \"text\", \"房间号:\" + roomKey);\n        if (roomCfg.setCount > 100 && roomCfg.setCount < 200) {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:\" + roomCfg.setCount % 100 + \"圈\");\n        } else if (roomCfg.setCount == 201) {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:1拷\");\n        } else if (roomCfg.setCount == 310) {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:1课:10分\");\n        } else if (roomCfg.setCount == 311) {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:1课:100分\");\n        } else if (roomCfg.setCount == 312) {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:局麻\");\n        } else if (roomCfg.setCount == 401 && gameId == this.ShareDefine.GameType_JXFZGP) { //江西抚州关牌\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:1次\");\n        } else if (roomCfg.setCount >= 400 && gameId == this.ShareDefine.GameType_GD) {\n            let setCount = roomCfg.setCount % 400;\n            if (setCount == 14) {\n                this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:过A\");\n            } else {\n                this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:过\" + setCount);\n            }\n        } else if (roomCfg.setCount >= 400 && gameId == this.ShareDefine.GameType_WHMJ) {\n            let setCount = roomCfg.setCount % 400;\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:\" + setCount + \"底\");\n        } else if (roomCfg.setCount >= 600 && gameId == this.ShareDefine.GameType_MASMJ) {\n            let setCount = roomCfg.setCount % 600;\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:\" + setCount + \"倒\");\n        } else if (roomCfg.setCount == 501 && gameId == this.ShareDefine.GameType_GLWSK) {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"\");\n        } else {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_setcount\", \"text\", \"局数:\" + roomCfg.setCount);\n        }\n\n        this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_gamename\", \"text\", this.GameType2Name(this.gameType));\n        let playerIngNum = 0;\n        for (let i = 0; i < this.playerList.length; i++) {\n            if (this.playerList[i][\"pid\"] > 0) {\n                playerIngNum++;\n            }\n        }\n        let renshuStr = \"人数:\" + playerIngNum + \"/\" + this.playerNum;\n        this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_renshu\", \"text\", renshuStr);\n        this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/rich_wanfa\", \"text\", this.GetWanFa(roomCfg));\n        //如果是联盟的房间\n        if (this.unionId > 0) {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointMK\", \"active\", true);\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointBS\", \"active\", true);\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointCost\", \"active\", true);\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointMK\", \"text\", roomCfg.roomSportsThreshold);\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointBS\", \"text\", roomCfg.sportsDouble);\n            let PLDecStr = \"\";\n            if (roomCfg.roomSportsType == 0) {\n                if (typeof(roomCfg.bigWinnerConsumeList) == \"undefined\" || roomCfg.bigWinnerConsumeList.length <= 0) {\n                    PLDecStr = \"大赢家赢比赛分>=\" + roomCfg.geWinnerPoint + \"时，消耗\" + roomCfg.roomSportsBigWinnerConsume;\n                } else {\n                    for (let i = 0; i < roomCfg.bigWinnerConsumeList.length; i++) {\n                        PLDecStr += \"大赢家赢比赛分>\" + roomCfg.bigWinnerConsumeList[i].winScore + \"时，消耗比赛分\" + roomCfg.bigWinnerConsumeList[i].sportsPoint;\n                        if (i < (roomCfg.bigWinnerConsumeList.length - 1)) {\n                            PLDecStr += \"，\";\n                        }\n                    }\n                }\n                if(roomCfg.twoMode){\n                    PLDecStr += \"；每人付\" + roomCfg.roomSportsEveryoneConsume;\n                }\n            } else {\n                PLDecStr = \"每人付\" + roomCfg.roomSportsEveryoneConsume;\n            }\n            if (roomCfg.dianbo && parseInt(roomCfg.dianbo)) {\n                PLDecStr += \"，携带分\"+ roomCfg.dianbo\n            }\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointCost\", \"text\", PLDecStr);\n        } else {\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointMK\", \"active\", false);\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointBS\", \"active\", false);\n            this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_SportsPointCost\", \"active\", false);\n        }\n\n        //参数传递,邀请使用\n        var GamePlayManager = require('GamePlayManager');\n        let btn_yaoqing = this.node.getChildByName('left').getChildByName('btn_yaoqing');\n        var WeChatShare = GamePlayManager.WeChatShare(roomData.gameType, roomData.roomCfg);\n        btn_yaoqing.title = WeChatShare['title'];\n        btn_yaoqing.weChatAppShareUrl = WeChatShare['url'];\n        btn_yaoqing.setCount = roomCfg.setCount; //多少局\n        btn_yaoqing.roomKey = roomData.roomKey; //房间号\n        btn_yaoqing.createType = roomData.createType; //房间号\n        btn_yaoqing.clubName = roomData.name; //房间号\n        btn_yaoqing.joinPlayerCount = roomCfg.playerNum; //几人场\n        let haveRen = 0;\n        for (let j = 0; j < roomData.posList.length; j++) {\n            if (roomData.posList[j].pid > 0) {\n                haveRen++;\n            }\n        }\n        let payType = '';\n        if (roomData.roomCfg.paymentRoomCardType == 2) {\n            payType = ',胜家付' + roomCfg.clubWinnerPayConsume + '圈卡';\n        } else if (roomData.roomCfg.paymentRoomCardType == 1) {\n            payType = ',AA付' + roomCfg.clubWinnerPayConsume + '圈卡';\n        } else if (roomData.roomCfg.paymentRoomCardType == 0) {\n            payType = ',管理付';\n        }\n        btn_yaoqing.que = roomCfg.playerNum - haveRen;\n        btn_yaoqing.wanfa = this.GetWanFa(roomData.roomCfg) + payType;\n        //参数传递,邀请使用\n\n\n        this.InitUser();\n        this.ShowJoinPlayer();\n    },\n    CheckInRoom: function() {\n        let self = this;\n        app.NetManager().SendPack(\"room.CBaseRoomConfig\", {}, function(event) {\n            self.inRoom = true;\n            self.inRoomInfo = event;\n        }, function(event) {\n            console.log(\"没在房间\");\n        });\n    },\n    Event_RoomSetChange: function(serverPack) {\n        let roomData = serverPack;\n        if (roomData.roomKey == this.roomKey) {\n            let index = 4;\n            if (this.playerNum > 4) {\n                index = 10;\n            }\n            for (let i = 0; i < index; i++) {\n                this.SetWndProperty(this.uiStr + \"/user\" + i + \"/btn_tichu\", \"active\", false);\n            }\n            this.SetWndProperty(this.uiStr + \"/zhuozi/lb_state\", \"text\", '游戏中...');\n            if (this.isManage < 1) {\n                this.node.getChildByName('left').getChildByName('btn_jiesan').active = false;\n            }\n        }\n    },\n    Event_RoomStatusChange: function(serverPack) {\n        //this.roomList\n        let roomData = serverPack.roomInfoItem;\n        let isClose = roomData.isClose;\n        if (roomData.roomKey == this.roomKey) {\n            if (isClose == true) {\n                app.SysNotifyManager().ShowSysMsg(\"房间已经结束\");\n                this.CloseForm();\n            }\n        }\n    },\n    Event_RoomPlayerChange: function(serverPack) {\n        serverPack = serverPack;\n        console.log(serverPack);\n        if (serverPack.roomKey != this.roomKey) {\n            return;\n        }\n        for (let i = 0; i < this.playerList.length; i++) {\n            if (this.playerList[i].pos == serverPack['pos'].pos) {\n                this.playerList[i] = serverPack['pos'];\n            }\n        }\n        let playerIngNum = 0;\n        for (let i = 0; i < this.playerList.length; i++) {\n            if (this.playerList[i][\"pid\"] > 0) {\n                playerIngNum++;\n            }\n        }\n        let renshuStr = \"人数:\" + playerIngNum + \"/\" + this.playerNum;\n        this.SetWndProperty(\"left/wanfaScrollView/view/roominfo/lb_renshu\", \"text\", renshuStr);\n        this.ShowJoinPlayer();\n    },\n    InitUser: function() {\n        let index = 4;\n        if (this.playerNum > 4) {\n            index = 10;\n        }\n        for (let i = 0; i < index; i++) {\n            this.SetWndProperty(this.uiStr + \"/user\" + i, \"active\", false);\n            this.SetWndProperty(this.uiStr + \"/user\" + i + \"/btn_tichu\", \"active\", false);\n            this.SetWndProperty(this.uiStr + \"/user\" + i + \"/icon_OK\", \"active\", false);\n            this.SetWndProperty(this.uiStr + \"/user\" + i + \"/lixian\", \"active\", false);\n            this.SetWndProperty(this.uiStr + \"/user\" + i + \"/lb_username\", \"text\", '');\n            this.SetWndProperty(this.uiStr + \"/user\" + i + \"/lb_clubname\", \"text\", '');\n            this.SetWndProperty(this.uiStr + \"/user\" + i + \"/lb_upname\", \"text\", '');\n            this.SetWndProperty(this.uiStr + \"/user\" + i + \"/lb_upname\", \"queryPid\",0);\n            this.SetWndProperty(this.uiStr + \"/user\" + i + \"/lb_upname\", \"queryClubId\",0);\n\n            let touxiang = this.GetWndNode(this.uiStr + \"/user\" + i + \"/btn_join\");\n            touxiang.getComponent(cc.Sprite).spriteFrame = this.bg_join;\n        }\n        let userlist = this.UserPosList();\n        for (let i = 0; i < userlist.length; i++) {\n            this.SetWndProperty(this.uiStr + \"/user\" + userlist[i], \"active\", true);\n        }\n    },\n    GameType2Name: function(gameType) {\n        let gameCfg = this.gameCfg;\n        let gamename = '';\n        if (gameType.toLowerCase() == 'sss') {\n            if (gameCfg.sign == 2) {\n                gamename = '庄家拼罗松';\n            } else {\n                gamename = '2-8人拼罗松';\n            }\n            return gamename;\n        } else if (gameType.toLowerCase() == 'nn') {\n            if (gameCfg.sign == 0) {\n                gamename = '自由抢庄 牛';\n            } else if (gameCfg.sign == 1) {\n                gamename = '拼十上庄 牛';\n            } else if (gameCfg.sign == 2) {\n                gamename = '固定庄家 牛';\n            } else if (gameCfg.sign == 3) {\n                gamename = '通比 牛';\n            } else if (gameCfg.sign == 4) {\n                gamename = '明牌抢庄 牛';\n            } else if (gameCfg.sign == 5) {\n                gamename = '轮庄 牛';\n            }\n            return gamename;\n        } else if (gameType.toLowerCase() == 'sg') {\n            if (gameCfg.sign == 0) {\n                gamename = '自由抢庄 三公';\n            } else if (gameCfg.sign == 1) {\n                gamename = '三公上庄 三公';\n            } else if (gameCfg.sign == 2) {\n                gamename = '固定庄家 三公';\n            } else if (gameCfg.sign == 3) {\n                gamename = '通比三公';\n            } else if (gameCfg.sign == 4) {\n                gamename = '加倍抢庄 三公';\n            }\n            return gamename;\n        } else {\n            let gameTypeID = this.ShareDefine.GametTypeNameDict[gameType.toUpperCase()];\n            return this.ShareDefine.GametTypeID2Name[gameTypeID];\n        }\n    },\n    GetWanFa: function(gameCfg) {\n        return app.RoomCfgManager().WanFa(this.gameType, gameCfg);\n    },\n    ShowJoinPlayer: function() {\n        let playerList = this.playerList;\n        for (let i = 0; i < playerList.length; i++) {\n            let showpos = this.DataPos2ShowPos(playerList[i].pos);\n            if (playerList[i]) {\n                let PlayerInfo = playerList[i];\n                let heroID = PlayerInfo[\"pid\"];\n                let headImageUrl = PlayerInfo[\"headImageUrl\"];\n                // let userNode = this.node.getChildByName(\"right\").getChildByName(\"join_list2\").getChildByName(\"user\"+showpos);\n                let touxiang = this.GetWndNode(this.uiStr + '/user' + showpos + '/btn_join');\n                if (heroID > 0) {\n                    if (headImageUrl) {\n                        this.WeChatManager.InitHeroHeadImage(heroID, headImageUrl);\n                        let WeChatHeadImage = touxiang.getComponent(\"WeChatHeadImage\");\n                        WeChatHeadImage.OnLoad();\n                        WeChatHeadImage.ShowHeroHead(heroID,headImageUrl);\n                    } else {\n                        touxiang.getComponent(cc.Sprite).spriteFrame = this.bg_touxiang;\n                    }\n                } else {\n                    touxiang.getComponent(cc.Sprite).spriteFrame = this.bg_join;\n                }\n                if (typeof(PlayerInfo['name']) == \"undefined\") {\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_username', 'text', \"\");\n                } else {\n                    //显示用户名\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_username', 'text', PlayerInfo['name']);\n                }\n\n                if(PlayerInfo['clubName'] && this.isShowUplevelId==true){\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_clubname', 'text', \"圈:\"+PlayerInfo['clubName']);\n                }else{\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_clubname', 'text', \"\");\n                }\n                if(PlayerInfo['upLevelName'] && this.isShowUplevelId==true){\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_upname', 'text', \"上级:\"+PlayerInfo['upLevelName']);\n\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_upname', 'queryPid',PlayerInfo['pid']);\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_upname', 'queryClubId',PlayerInfo['clubID']);\n\n                }else{\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_upname', 'text', \"\");\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_upname', 'queryPid',0);\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/lb_upname', 'queryClubId',0);\n                }\n\n                this.SetWndProperty(this.uiStr + '/user' + showpos + '/lixian', 'active', PlayerInfo[\"isLostConnect\"]);\n\n                //显示准备手势\n                if (PlayerInfo[\"gameReady\"]) {\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/icon_OK', 'active', true);\n                } else {\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/icon_OK', 'active', false);\n                } //显示踢人按钮\n                if (this.isManage > 0 && heroID > 0 && this.roomSetId == 0) {\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/btn_tichu', 'active', true);\n                } else {\n                    this.SetWndProperty(this.uiStr + '/user' + showpos + '/btn_tichu', 'active', false);\n                }\n            }\n        }\n    },\n    UserPosList: function() {\n        let playerNum = this.playerNum;\n        let userlist = [];\n        if (playerNum == 2) {\n            userlist = [0, 1];\n        } else if (playerNum == 3) {\n            userlist = [0, 1, 2];\n        } else if (playerNum == 4) {\n            userlist = [0, 1, 2, 3];\n        } else if (playerNum == 5) {\n            userlist = [0, 2, 4, 6, 8];\n        } else if (playerNum == 6) {\n            userlist = [0, 2, 4, 6, 8, 9];\n        } else if (playerNum == 7) {\n            userlist = [0, 1, 3, 4, 5, 7, 9];\n        } else if (playerNum == 8) {\n            userlist = [0, 1, 3, 4, 5, 6, 7, 9];\n        } else if (playerNum == 9) {\n            userlist = [0, 1, 2, 3, 4, 5, 6, 7, 8];\n        } else if (playerNum == 10) {\n            userlist = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n        }\n        return userlist;\n    },\n    DataPos2ShowPos: function(datapos) {\n        let userlist = this.UserPosList();\n        return userlist[datapos];\n    },\n    ShowPos2DataPos: function(showpos) {\n        let datapos = -1;\n        let userlist = this.UserPosList();\n        for (let i = 0; i < userlist.length; i++) {\n            if (userlist[i] == showpos) {\n                datapos = i;\n                break;\n            }\n        }\n        return datapos;\n    },\n    GetHasPlayerNum: function() {\n        let nowJoin = 0;\n        for (let i = 0; i < this.playerList.length; i++) {\n            if (0 != this.playerList[i].pid)\n                nowJoin++;\n        }\n        return nowJoin;\n    },\n    Click_btn_YaoQing: function(btnNode) {\n        let weChatAppShareUrl = btnNode.weChatAppShareUrl;\n        let setCount = btnNode.setCount; //多少局\n        let roomKey = btnNode.roomKey; //房间号\n        let joinPlayerCount = btnNode.joinPlayerCount; //几人场\n        let title = \"\";\n        //title=title.replace('{房间号}',roomKey);\n        let gamedesc = \"\";\n        let que = btnNode.que;\n        title = \"[\" + btnNode.clubName + \"]亲友团,\" + roomKey + \" \" + (joinPlayerCount - que) + \"等\" + que + \"进团\";\n        console.log(\"Click_btn_weixin:\", title);\n        console.log(\"Click_btn_weixin:\", gamedesc);\n        console.log(\"Click_btn_weixin:\", weChatAppShareUrl);\n        this.FormManager.ShowForm('UIRoomCopy', roomKey, title, gamedesc, weChatAppShareUrl);\n    },\n    OnClick: function(btnName, btnNode) {\n        if ('btn_close' == btnName) {\n            this.CloseForm();\n        } else if ('btn_join' == btnName) {\n            let nowJoin = this.GetHasPlayerNum();\n            if (nowJoin >= this.playerNum) {\n                app.SysNotifyManager().ShowSysMsg(\"房间人数已满\");\n                return;\n            }\n            let userNodeName = btnNode.parent.name;\n            let pos = this.ShowPos2DataPos(userNodeName.replace('user', ''));\n            for (let i = 0; i < this.playerList.length; i++) {\n                if (this.playerList[i]) {\n                    if (this.playerList[i].pos == pos && this.playerList[i].pid > 0) {\n                        //已经有玩家，不能加入\n                        return;\n                    }\n                }\n            }\n            //是否需要密码\n            let isPassword = this.node.getChildByName(\"tip_lock\").active;\n            //检查本地是否有密码\n            let password = \"\";\n            if (isPassword) {\n                password = localStorage.getItem(\"password_\" + this.clubId + \"_\" + this.tagId);\n                if (password == null || typeof(password) == \"undefined\" || password == \"\") {\n                    //弹出密码框\n                    this.node.roomKey = this.roomKey;\n                    this.node.tagId = this.tagId;\n                    this.node.gameId = this.gameId;\n                    this.FormManager.ShowForm('ui/club/UIClubRoomPassword', this.node, this.clubId);\n                    return;\n                }\n            }\n            if (this.inRoom == false) {\n                app.Client.JoinRoomCheckSubGame(this.gameType, this.roomKey, this.clubId, undefined, password);\n            } else {\n                this.ShowSysMsg(\"您已经在别的房间，不能加入该房间\");\n            }\n            this.CloseForm();\n        } else if ('btn_tichu' == btnName) {\n            let userName = btnNode.parent.getChildByName(\"lb_username\").getComponent(cc.Label).string;\n            this.SetWaitForConfirm(\"MSG_TICHU_CLUBROOM\", app.ShareDefine().ConfirmYN, [userName, this.roomKey], [btnNode]);\n        } else if ('btn_jiesan' == btnName) {\n            this.SetWaitForConfirm(\"MSG_DISSOLVE_CLUBROOM\", app.ShareDefine().ConfirmYN, [this.roomKey], []);\n        } else if ('btn_yaoqing' == btnName) {\n            this.Click_btn_YaoQing(btnNode);\n        }else if('lb_upname'==btnName){\n           let self = this;\n           app.NetManager().SendPack(\"union.CUnionGetMembePromotionList\",{\"clubId\":this.clubId,\"unionId\":this.unionId,\"queryPid\":btnNode.queryPid,\"queryClubId\":btnNode.queryClubId}, function(serverPack){\n                app.FormManager().ShowForm(\"ui/club/UIClubPromotionDetail\",serverPack,1,1);\n            }, function(){\n                console.log(\"union.CUnionGetMembePromotionList 获取失败\");\n            });\n\n        }\n    },\n\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    SetWaitForConfirm: function(msgID, type, msgArg = [], cbArg = []) {\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\n    },\n    OnConFirm: function(clickType, msgID, backArgList) {\n        if (clickType != \"Sure\") {\n            return;\n        }\n        if ('MSG_DISSOLVE_CLUBROOM' == msgID) {\n            if (this.unionId > 0) {\n                app.NetManager().SendPack(\"union.CUnionDissolveRoom\", {\n                    \"unionId\": this.unionId,\n                    \"clubId\": this.clubId,\n                    \"roomKey\": this.roomKey\n                });\n            } else {\n                app.NetManager().SendPack(\"club.CClubDissolveRoom\", {\n                    \"clubId\": this.clubId,\n                    \"roomKey\": this.roomKey\n                });\n            }\n            this.CloseForm();\n        } else if ('MSG_TICHU_CLUBROOM' == msgID) {\n            let btnNode = backArgList[0];\n            let userNodeName = btnNode.parent.name;\n            let showpos = userNodeName.replace('user', '');\n            let datapos = this.ShowPos2DataPos(showpos);\n            if (this.unionId > 0) {\n                app.NetManager().SendPack(\"union.CUnionKickRoom\", {\n                    \"unionId\": this.unionId,\n                    \"clubId\": this.clubId,\n                    \"roomKey\": this.roomKey,\n                    \"posIndex\": datapos\n                });\n            } else {\n                app.NetManager().SendPack(\"club.CClubKickRoom\", {\n                    \"clubId\": this.clubId,\n                    \"roomKey\": this.roomKey,\n                    \"posIndex\": datapos\n                });\n            }\n        }\n    },\n});"]}