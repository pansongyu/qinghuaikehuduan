{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\UIVideo.js"],"names":["app","require","cc","Class","extends","properties","UIVideo_Child","Prefab","UIVideo_Child02","OnCreateInit","RoomRecordManager","RoomID","loopScrollView","getComponent","RegEvent","Event_RoomRecordDetail","Event_RoomAllRecord","Event_HeroProperty","event","argDict","detail","ShowFastCount","ShowRoomCard","ShowUIVideoChild","roomID","ShowRoomRecordDetail","ClearAllChildComponentByName","SetRoomID","roomRecordList","GetRoomRecordDetail","RoomRecordKeyList","Object","keys","InitScrollData","GetRoomID","OnShow","RequestRoomAllRecord","ShowHero_NameOrID","roomAllRecordList","GetRoomAllRecord","roomAllRecordKeyList","fastCard","HeroManager","GetHeroProperty","SetWndProperty","heroRoomCard","heroID","heroName","ComTool","GetBeiZhuName","i18n","t","GetPid","OnClick","btnName","btnNode","clientConfig","Client","GetClientConfig","FormManager","ShowForm","ShowSysMsg","childComponent","GetAllChildComponentByName","CloseForm","ErrLog"],"mappings":"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","file":"UIVideo.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        UIVideo_Child: cc.Prefab,\n        UIVideo_Child02:cc.Prefab,\n    },\n\n    OnCreateInit: function () {\n        this.RoomRecordManager = app.RoomRecordManager();\n\n        this.RoomID = 0;\n\n        this.loopScrollView = this.getComponent(\"LoopScrollView\");\n        this.RegEvent(\"RoomRecordDetail\", this.Event_RoomRecordDetail);\n        this.RegEvent(\"RoomAllRecord\", this.Event_RoomAllRecord);\n        this.RegEvent(\"HeroProperty\", this.Event_HeroProperty);\n\n    },\n    Event_HeroProperty:function (event) {\n        let argDict = event.detail;\n\n        if(argDict[\"Property\"] == \"fastCard\"){\n            this.ShowFastCount();\n        }\n        else if(argDict[\"Property\"] == \"roomCard\"){\n            this.ShowRoomCard();\n        }\n    },\n    Event_RoomAllRecord:function (event) {\n        this.ShowUIVideoChild();\n    },\n\n    Event_RoomRecordDetail:function (event) {\n        let roomID = event.detail[\"roomID\"];\n        this.ShowRoomRecordDetail(roomID);\n    },\n    ShowRoomRecordDetail:function (roomID) {\n        this.ClearAllChildComponentByName(\"UIVideo_Child\");\n\n        this.SetRoomID(roomID);\n        let roomRecordList = this.RoomRecordManager.GetRoomRecordDetail(roomID);\n        let RoomRecordKeyList = Object.keys(roomRecordList);\n        this.loopScrollView.InitScrollData(\"UIVideo_Child02\", this.UIVideo_Child02, RoomRecordKeyList);\n    },\n    SetRoomID:function (roomID) {\n        this.RoomID = roomID;\n    },\n    GetRoomID:function () {\n        return this.RoomID;\n    },\n    OnShow:function () {\n        this.RoomRecordManager.RequestRoomAllRecord();\n        this.ShowFastCount();\n        this.ShowRoomCard();\n        this.ShowHero_NameOrID();\n\n        this.ShowUIVideoChild();\n    },\n    ShowUIVideoChild:function () {\n        this.ClearAllChildComponentByName(\"UIVideo_Child02\");\n        let roomAllRecordList = this.RoomRecordManager.GetRoomAllRecord();\n        let roomAllRecordKeyList = Object.keys(roomAllRecordList);\n\n        this.loopScrollView.InitScrollData(\"UIVideo_Child\", this.UIVideo_Child, roomAllRecordKeyList);\n\n    },\n    ShowFastCount:function () {\n        let fastCard = app.HeroManager().GetHeroProperty(\"fastCard\");\n        this.SetWndProperty(\"UITitle/sp_info/juan/lb_juannum\",\"text\",fastCard);\n    },\n    ShowRoomCard:function () {\n        let heroRoomCard = app.HeroManager().GetHeroProperty(\"roomCard\");\n        this.SetWndProperty(\"UITitle/sp_info/fang/lb_fangnum\",\"text\",heroRoomCard);\n    },\n    ShowHero_NameOrID:function () {\n        let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n        let heroName = app.HeroManager().GetHeroProperty(\"name\");\n        this.SetWndProperty(\"UITitle/sp_info/lb_name\",\"text\",this.ComTool.GetBeiZhuName(heroID,heroName));\n        this.SetWndProperty(\"UITitle/sp_info/lb_id\",\"text\",app.i18n.t(\"UIMain_PIDText\",{\"pid\":this.ComTool.GetPid(heroID)}));\n    },\n\n    //-----------------回调函数------------------\n\n    //---------点击函数---------------------\n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_buy\"){\n            let clientConfig = app.Client.GetClientConfig();\n            this.FormManager.ShowForm(\"UIStore\");\n        }\n        else if(btnName == \"btn_bendi\"){\n            this.ShowSysMsg(\"UIVideoChildSeeVideotape\");\n        }\n        else if(btnName == \"btn_taren\"){\n            this.ShowSysMsg(\"UIVideoChildSeeVideotape\");\n        }\n        else if(btnName == \"btn_back\"){\n            let childComponent = this.GetAllChildComponentByName(\"UIVideo_Child02\");\n            if(childComponent[0]){\n                this.ShowUIVideoChild();\n            }\n            else{\n                this.CloseForm();\n            }\n        }\n        else{\n            this.ErrLog(\"OnClick(%s) not find btnName\",btnName);\n        }\n    },\n\n\n});"]}