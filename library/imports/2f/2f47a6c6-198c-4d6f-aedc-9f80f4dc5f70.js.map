{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\nzdl/assets\\script\\ui\\uiGame\\nzdl\\nzdl_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","cardPrefab","Prefab","content","Node","chutian","zhuangJia","lb_difen","Label","lb_loufen","lbSportsPoint","sp_chunTian","SpriteFrame","OnLoad","GetModel","ComTool","ShareDefine","PokerCard","nzdl_PokerCard","ShowPlayerJieSuan","ShowPlayerHuaCard","ShowPlayerHuImg","huNode","huTypeName","onPlusScore","s","ShowPlayerData","setEnd","playerAll","index","console","log","dPos","louFen","diFen","posResultList","posResult","ShowPlayerItem","active","string","sportsPoint","node","getChildByName","PlayerInfo","WeChatManager","InitHeroHeadImage","weChatHeadImage","getComponent","ShowHeroHead","UpdatePlayData","publicCardList","shouCard","chunTian","fanChunTian","ShowPlayerCard","ShowChuntian","paiLayOut","removeAllChildren","kong","width","heig","cardNum","list","i","length","cardList","j","card","push","cardType","paiNode","children","instantiate","addChild","ShowCard","kongNode","k","Sprite","spriteFrame","cardNode","sameCardNum","isLastCard","isShowLandowner","hideBg","isRazz","GetPokeCard","ClearLabelShow"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASH,QAAQ,sBAAR,CADD;;AAGRI,aAAY;AACXC,cAAYJ,GAAGK,MADJ;AAEXC,WAASN,GAAGO,IAFD;AAGXC,WAASR,GAAGO,IAHD;AAIXE,aAAWT,GAAGO,IAJH;AAKXG,YAAUV,GAAGW,KALF;AAMXC,aAAWZ,GAAGW,KANH;AAOXE,iBAAeb,GAAGW,KAPP;AAQXG,eAAa,CAACd,GAAGe,WAAJ;AARF,EAHJ;;AAcR;AACAC,SAAQ,kBAAY;AACnBlB,MAAI,gBAAJ,IAAwBC,QAAQ,gBAAR,EAA0BkB,QAAlD;AACA,OAAKC,OAAL,GAAepB,IAAIoB,OAAJ,EAAf;AACA,OAAKC,WAAL,GAAmBrB,IAAIqB,WAAJ,EAAnB;AACA,OAAKC,SAAL,GAAiBtB,IAAIuB,cAAJ,EAAjB;AACA,EApBO;AAqBRC,kBArBQ,+BAqBY,CAEnB,CAvBO;AAwBRC,kBAxBQ,+BAwBY,CAEnB,CA1BO;;AA2BRC,kBAAiB,yBAAUC,MAAV,EAAkBC,UAAlB,EAA8B,CAE9C,CA7BO;;AA+BRC,YA/BQ,uBA+BIC,CA/BJ,EA+BO;AACd,MAAIA,IAAI,CAAR,EAAW;AACV,UAAO,MAAMA,CAAb;AACA;AACD,SAAOA,CAAP;AACA,EApCO;;AAqCRC,iBAAgB,wBAAUC,MAAV,EAAkBC,SAAlB,EAA6BC,KAA7B,EAAoC;AACnDC,UAAQC,GAAR,CAAY,gBAAZ,EAA8BJ,MAA9B,EAAsCC,SAAtC,EAAiDC,KAAjD;AACA,MAAIG,OAAOL,OAAO,MAAP,CAAX;AACA,MAAIM,SAASN,OAAO,QAAP,CAAb;AACA,MAAIO,QAAQP,OAAO,OAAP,CAAZ;AACA,MAAIQ,gBAAgBR,OAAO,eAAP,CAApB;AACA,MAAIS,YAAYD,cAAcN,KAAd,CAAhB;AACA,OAAKQ,cAAL,CAAoBD,SAApB;AACA,OAAK9B,SAAL,CAAegC,MAAf,GAAwBN,IAAxB;AACA,OAAKzB,QAAL,CAAcgC,MAAd,GAAuB,QAAQL,KAA/B;AACA,OAAKzB,SAAL,CAAe8B,MAAf,GAAwB,QAAQN,MAAhC;AACA,MAAI,OAAOG,UAAUI,WAAjB,IAAiC,WAArC,EAAkD;AACjD,QAAK9B,aAAL,CAAmB6B,MAAnB,GAA4B,SAASH,UAAUI,WAA/C;AACA,GAFD,MAEO;AACN,QAAK9B,aAAL,CAAmB6B,MAAnB,GAA4B,EAA5B;AACA;AACD,MAAIP,SAASH,KAAb,EAAoB;AACnB,QAAKY,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,WAArD,EAAkEJ,MAAlE,GAA2E,IAA3E;AACA,GAFD,MAEO;AACN,QAAKG,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,WAArD,EAAkEJ,MAAlE,GAA2E,KAA3E;AACA;AACD,MAAIK,aAAaf,UAAUC,KAAV,CAAjB;AACA;AACA,MAAIc,WAAW,KAAX,KAAqBA,WAAW,SAAX,CAAzB,EAAgD;AAC/ChD,OAAIiD,aAAJ,GAAoBC,iBAApB,CAAsCF,WAAW,KAAX,CAAtC,EAAyDA,WAAW,SAAX,CAAzD;AACA;AACD,MAAIG,kBAAkB,KAAKL,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,UAArD,EAAiEK,YAAjE,CAA8E,iBAA9E,CAAtB;AACAD,kBAAgBE,YAAhB,CAA6BL,WAAW,KAAX,CAA7B;AACA,OAAKM,cAAL,CAAoB,KAAKR,IAAzB,EAA+BN,cAAcN,KAAd,CAA/B,EAAqDc,UAArD;AACA,EAlEO;AAmERN,iBAAgB,wBAAUD,SAAV,EAAqB;AACpC,MAAIc,iBAAiBd,UAAU,gBAAV,CAArB;AACA,MAAIe,WAAWf,UAAU,UAAV,CAAf;AACA,MAAIgB,WAAWhB,UAAU,UAAV,CAAf;AACA,MAAIiB,cAAcjB,UAAU,aAAV,CAAlB;AACA,OAAKkB,cAAL,CAAoBJ,cAApB,EAAoCC,QAApC;AACA,OAAKI,YAAL,CAAkBH,QAAlB,EAA4BC,WAA5B;AACA,EA1EO;AA2ERC,iBAAgB,wBAAUJ,cAAV,EAA0BC,QAA1B,EAAoC;AACnD,MAAIK,YAAY,KAAKrD,OAArB;AACAqD,YAAUC,iBAAV;AACA,MAAIC,OAAO,IAAI7D,GAAGO,IAAP,EAAX;AACAsD,OAAKC,KAAL,GAAa,GAAb;AACAD,OAAKE,IAAL,GAAY,GAAZ;AACA,MAAIC,UAAU,CAAd;AACA,MAAIC,OAAO,EAAX;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIb,eAAec,MAAnC,EAA2CD,GAA3C,EAAgD;AAC/C,OAAIE,WAAWf,eAAea,CAAf,CAAf;AACA,QAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAID,SAASD,MAA7B,EAAqCE,GAArC,EAA0C;AACzC,QAAIC,OAAOF,SAASC,CAAT,CAAX;AACAJ,SAAKM,IAAL,CAAUD,IAAV;AACAN;AACA,QAAIK,KAAKD,SAASD,MAAT,GAAkB,CAA3B,EAA8B;AAC7BF,UAAKM,IAAL,CAAU,CAAV;AACAP;AACA;AACD;AACD;AACD,OAAK,IAAIE,KAAI,CAAb,EAAgBA,KAAID,KAAKE,MAAzB,EAAiCD,IAAjC,EAAsC;AACrC,OAAIM,WAAWP,KAAKC,EAAL,CAAf;AACA,OAAIO,UAAUd,UAAUe,QAAV,CAAmBR,EAAnB,CAAd;AACA,OAAIM,WAAW,CAAf,EAAkB;AACjB,QAAI,CAACC,OAAL,EAAc;AACbA,eAAUzE,GAAG2E,WAAH,CAAe,KAAKvE,UAApB,CAAV;AACAuD,eAAUiB,QAAV,CAAmBH,OAAnB;AACA;AACD,SAAKI,QAAL,CAAcL,QAAd,EAAwBC,OAAxB;AACA,IAND,MAMO;AACN,QAAIK,WAAW9E,GAAG2E,WAAH,CAAed,IAAf,CAAf;AACAF,cAAUiB,QAAV,CAAmBE,QAAnB;AACA;AACD;AACD,OAAK,IAAIC,IAAIf,OAAb,EAAsBe,IAAIf,UAAUV,SAASa,MAA7C,EAAqDY,GAArD,EAA0D;AACzD,OAAIN,WAAUd,UAAUe,QAAV,CAAmBK,CAAnB,CAAd;AACA,OAAI,CAACN,QAAL,EAAc;AACbA,eAAUzE,GAAG2E,WAAH,CAAe,KAAKvE,UAApB,CAAV;AACAuD,cAAUiB,QAAV,CAAmBH,QAAnB;AACA;AACD,OAAID,YAAWlB,SAASyB,IAAIf,OAAb,CAAf;AACA,QAAKa,QAAL,CAAcL,SAAd,EAAwBC,QAAxB,EAAiC,CAAjC,EAAoC,IAApC;AACA;AACD,EAtHO;AAuHRf,eAAc,sBAAUH,QAAV,EAAoBC,WAApB,EAAiC;AAC9C,MAAIxB,QAAQ,CAAC,CAAb;AACA,MAAIuB,QAAJ,EAAc;AACbvB,WAAQ,CAAR;AACA,GAFD,MAEO,IAAIwB,WAAJ,EAAiB;AACvBxB,WAAQ,CAAR;AACA;AACD,OAAKxB,OAAL,CAAa0C,YAAb,CAA0BlD,GAAGgF,MAA7B,EAAqCC,WAArC,GAAmD,KAAKnE,WAAL,CAAiBkB,KAAjB,CAAnD;AACA,EA/HO;AAgIR6C,WAAU,kBAAUL,QAAV,EAAoBU,QAApB,EAA8BC,WAA9B,EAA2CC,UAA3C,EAAgH;AAAA,MAAzDC,eAAyD,uEAAvC,KAAuC;AAAA,MAAhCC,MAAgC,uEAAvB,KAAuB;AAAA,MAAhBC,MAAgB,uEAAP,KAAO;;AACzHL,WAASzC,MAAT,GAAkB,IAAlB;AACA,MAAI+B,YAAY,CAAhB,EAAmB;AAClBU,YAASrC,cAAT,CAAwB,YAAxB,EAAsCJ,MAAtC,GAA+C,IAA/C;AACA;AACA,GAHD,MAGO;AACNyC,YAASrC,cAAT,CAAwB,YAAxB,EAAsCJ,MAAtC,GAA+C,KAA/C;AACA;AACD,OAAKrB,SAAL,CAAeoE,WAAf,CAA2BhB,QAA3B,EAAqCU,QAArC,EAA+CC,WAA/C,EAA4DC,UAA5D,EAAwEC,eAAxE,EAAyFC,MAAzF,EAAiGC,MAAjG;AACA,EAzIO;AA0IRE,iBAAgB,0BAAY,CAE3B;AA5IO,CAAT","file":"nzdl_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\nzdl","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n\t\tcardPrefab: cc.Prefab,\n\t\tcontent: cc.Node,\n\t\tchutian: cc.Node,\n\t\tzhuangJia: cc.Node,\n\t\tlb_difen: cc.Label,\n\t\tlb_loufen: cc.Label,\n\t\tlbSportsPoint: cc.Label,\n\t\tsp_chunTian: [cc.SpriteFrame],\n\t},\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tapp[\"nzdl_PokerCard\"] = require(\"nzdl_PokerCard\").GetModel;\n\t\tthis.ComTool = app.ComTool();\n\t\tthis.ShareDefine = app.ShareDefine();\n\t\tthis.PokerCard = app.nzdl_PokerCard();\n\t},\n\tShowPlayerJieSuan() {\n\n\t},\n\tShowPlayerHuaCard() {\n\n\t},\n\tShowPlayerHuImg: function (huNode, huTypeName) {\n\n\t},\n\n\tonPlusScore(s) {\n\t\tif (s > 0) {\n\t\t\treturn '+' + s;\n\t\t}\n\t\treturn s;\n\t},\n\tShowPlayerData: function (setEnd, playerAll, index) {\n\t\tconsole.log(\"ShowPlayerData\", setEnd, playerAll, index);\n\t\tlet dPos = setEnd[\"dPos\"];\n\t\tlet louFen = setEnd[\"louFen\"];\n\t\tlet diFen = setEnd[\"diFen\"];\n\t\tlet posResultList = setEnd[\"posResultList\"];\n\t\tlet posResult = posResultList[index];\n\t\tthis.ShowPlayerItem(posResult);\n\t\tthis.zhuangJia.active = dPos;\n\t\tthis.lb_difen.string = \"底分：\" + diFen;\n\t\tthis.lb_loufen.string = \"搂分：\" + louFen;\n\t\tif (typeof(posResult.sportsPoint) != \"undefined\") {\n\t\t\tthis.lbSportsPoint.string = '比赛分:' + posResult.sportsPoint;\n\t\t} else {\n\t\t\tthis.lbSportsPoint.string = '';\n\t\t}\n\t\tif (dPos === index) {\n\t\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n\t\t}\n\t\tlet PlayerInfo = playerAll[index];\n\t\t//显示头像，如果头像UI\n\t\tif (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n\t\t\tapp.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n\t\t}\n\t\tlet weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n\t\tweChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n\t\tthis.UpdatePlayData(this.node, posResultList[index], PlayerInfo);\n\t},\n\tShowPlayerItem: function (posResult) {\n\t\tlet publicCardList = posResult[\"publicCardList\"];\n\t\tlet shouCard = posResult[\"shouCard\"];\n\t\tlet chunTian = posResult[\"chunTian\"];\n\t\tlet fanChunTian = posResult[\"fanChunTian\"];\n\t\tthis.ShowPlayerCard(publicCardList, shouCard);\n\t\tthis.ShowChuntian(chunTian, fanChunTian);\n\t},\n\tShowPlayerCard: function (publicCardList, shouCard) {\n\t\tlet paiLayOut = this.content;\n\t\tpaiLayOut.removeAllChildren();\n\t\tlet kong = new cc.Node();\n\t\tkong.width = 170;\n\t\tkong.heig = 172;\n\t\tlet cardNum = 0;\n\t\tlet list = [];\n\t\tfor (let i = 0; i < publicCardList.length; i++) {\n\t\t\tlet cardList = publicCardList[i];\n\t\t\tfor (let j = 0; j < cardList.length; j++) {\n\t\t\t\tlet card = cardList[j];\n\t\t\t\tlist.push(card);\n\t\t\t\tcardNum++;\n\t\t\t\tif (j == cardList.length - 1) {\n\t\t\t\t\tlist.push(0);\n\t\t\t\t\tcardNum++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\tlet cardType = list[i];\n\t\t\tlet paiNode = paiLayOut.children[i];\n\t\t\tif (cardType > 0) {\n\t\t\t\tif (!paiNode) {\n\t\t\t\t\tpaiNode = cc.instantiate(this.cardPrefab);\n\t\t\t\t\tpaiLayOut.addChild(paiNode);\n\t\t\t\t}\n\t\t\t\tthis.ShowCard(cardType, paiNode);\n\t\t\t} else {\n\t\t\t\tlet kongNode = cc.instantiate(kong);\n\t\t\t\tpaiLayOut.addChild(kongNode);\n\t\t\t}\n\t\t}\n\t\tfor (let k = cardNum; k < cardNum + shouCard.length; k++) {\n\t\t\tlet paiNode = paiLayOut.children[k];\n\t\t\tif (!paiNode) {\n\t\t\t\tpaiNode = cc.instantiate(this.cardPrefab);\n\t\t\t\tpaiLayOut.addChild(paiNode);\n\t\t\t}\n\t\t\tlet cardType = shouCard[k - cardNum];\n\t\t\tthis.ShowCard(cardType, paiNode, 0, true);\n\t\t}\n\t},\n\tShowChuntian: function (chunTian, fanChunTian) {\n\t\tlet index = -1;\n\t\tif (chunTian) {\n\t\t\tindex = 0;\n\t\t} else if (fanChunTian) {\n\t\t\tindex = 1;\n\t\t}\n\t\tthis.chutian.getComponent(cc.Sprite).spriteFrame = this.sp_chunTian[index];\n\t},\n\tShowCard: function (cardType, cardNode, sameCardNum, isLastCard, isShowLandowner = false, hideBg = false, isRazz = false) {\n\t\tcardNode.active = true;\n\t\tif (cardType == 0) {\n\t\t\tcardNode.getChildByName(\"poker_back\").active = true;\n\t\t\treturn;\n\t\t} else {\n\t\t\tcardNode.getChildByName(\"poker_back\").active = false;\n\t\t}\n\t\tthis.PokerCard.GetPokeCard(cardType, cardNode, sameCardNum, isLastCard, isShowLandowner, hideBg, isRazz);\n\t},\n\tClearLabelShow: function () {\n\t\t\n\t}\n});\n"]}