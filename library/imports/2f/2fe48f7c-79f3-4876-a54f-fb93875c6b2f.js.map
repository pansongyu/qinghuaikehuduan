{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club\\unionChildren/assets\\script\\ui\\club\\unionChildren\\btn_RaceRankZhongzhiNode.js"],"names":["app","require","cc","Class","extends","Component","properties","imgRank","SpriteFrame","onLoad","ComTool","InitData","clubId","unionId","unionPostType","zhongZhiShowStatus","sendPack","sendPackName","self","NetManager","SendPack","serverPack","toptitle","node","getChildByName","active","toggleShowItem","getComponent","Toggle","isChecked","type","InitLeft","InitLeftLb","btn_default","OnClick","name","ClickTopBtn","clickName","topBtnNode","allTopBtn","i","children","length","push","UpdateScrollView","isRefresh","rankScrollView","content","ScrollView","scrollToTop","removeAllChildren","demo","matchItem","child","instantiate","zIndex","Sprite","enabled","Label","string","spriteFrame","clubName","clubSign","consumeValue","bigWinner","promotionShareValue","unionAllMemberPointTotal","zhongZhiTotalPoint","addChild","sortAllChildren","OnClick_BtnWnd","eventTouch","eventData","SoundManager","PlaySound","btnNode","currentTarget","btnName","error","console","log","stack","startsWith","parseInt","replace","GetUnionMemberRankedList","key","OrderBY","orderfield","orderType","orderUpDown","sort","a","b","InitOrderTip","OnClickToggle","event","ShowOrHidePointTotal","tab","lb","getDay","day","today","Date","targetday_milliseconds","getTime","setTime","tYear","getFullYear","tMonth","getMonth","tDate","getDate","doHandleMonth","month","SortByTag","GetUnionCountRankedInfoByZhongZhi","prizePool","setCount","roomSize","finalAllMemberPointTotal"],"mappings":"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","file":"btn_RaceRankZhongzhiNode.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club\\unionChildren","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        imgRank:[cc.SpriteFrame],\n    },\n    onLoad:function(){\n        this.ComTool=app.ComTool();\n    \t// let rankScrollView = this.node.getChildByName(\"rankScrollView\").getComponent(cc.ScrollView);\n     //    rankScrollView.node.on('scroll-to-bottom',this.GetNextPage,this);\n    },\n    InitData:function (clubId, unionId, unionPostType, zhongZhiShowStatus) {\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.unionPostType = unionPostType;\n        let sendPack = {};\n        sendPack.unionId = this.unionId;\n        let sendPackName = \"union.CUnionZhongZhiShowStatusInfo\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){   \n            self.zhongZhiShowStatus = serverPack.zhongZhiShowStatus;\n            let toptitle=self.node.getChildByName(\"topTitle\");\n            toptitle.getChildByName(\"lb_7\").active = self.zhongZhiShowStatus;\n            let toggleShowItem=self.node.getChildByName(\"toggleShowItem\");\n            toggleShowItem.getComponent(cc.Toggle).isChecked = self.zhongZhiShowStatus;\n            self.node.getChildByName(\"lb_unionAllMemberPointTotal\").active = this.zhongZhiShowStatus;\n        }, function(){\n\n        });\n        // this.curPage = 1;\n        this.type=0;//默认显示常用数据-1\n        this.InitLeft();\n        this.InitLeftLb();\n        let btn_default = this.node.getChildByName(\"topBtnNode\").getChildByName(\"btn_tian0\");\n        this.OnClick(btn_default.name,btn_default);\n    },\n    ClickTopBtn:function(clickName){\n    \tlet topBtnNode = this.node.getChildByName(\"topBtnNode\");\n        let allTopBtn = [];\n        for (let i = 0; i < topBtnNode.children.length; i++) {\n            allTopBtn.push(topBtnNode.children[i]);\n        }\n        for (let i = 0; i < allTopBtn.length; i++) {\n            if (allTopBtn[i].name == clickName) {\n                allTopBtn[i].getChildByName(\"img_off\").active = false;\n                allTopBtn[i].getChildByName(\"lb_off\").active = false;\n                allTopBtn[i].getChildByName(\"img_on\").active = true;\n                allTopBtn[i].getChildByName(\"lb_on\").active = true;\n            }else{\n                allTopBtn[i].getChildByName(\"img_off\").active = true;\n                allTopBtn[i].getChildByName(\"lb_off\").active = true;\n                allTopBtn[i].getChildByName(\"img_on\").active = false;\n                allTopBtn[i].getChildByName(\"lb_on\").active = false;\n            }\n        }\n    },\n    // GetNextPage:function(){\n    // \tthis.curPage++;\n    // \tlet sendPack = app.ClubManager().GetUnionSendPackHead();\n    // \tsendPack.pageNum = this.curPage;\n    // \tsendPack.type = this.curType;\n    //     let self = this;\n    //     app.NetManager().SendPack(\"union.CUnionRankingList\",sendPack, function(serverPack){\n    //         self.UpdateScrollView(serverPack, false);\n    //     }, function(){\n    //         app.SysNotifyManager().ShowSysMsg(\"获取列表失败\",[],3);\n    //     });\n    // },\n    UpdateScrollView:function(serverPack, isRefresh){\n        this.serverPack=serverPack;\n    \tlet rankScrollView = this.node.getChildByName(\"rankScrollView\");\n    \tlet content = rankScrollView.getChildByName(\"view\").getChildByName(\"content\");\n    \tif (isRefresh) {\n    \t\trankScrollView.getComponent(cc.ScrollView).scrollToTop();\n    \t\tcontent.removeAllChildren();\n    \t}\n        let demo = this.node.getChildByName(\"demo\");\n    \tdemo.active = false;\n    \tfor (let i = 0; i < serverPack.length; i++) {\n            let matchItem = serverPack[i];\n    \t\tlet child = cc.instantiate(demo);\n            child.zIndex=10+i; //普通数据放后面\n    \t\tif (i%2 == 0) {\n    \t\t\tchild.getComponent(cc.Sprite).enabled = true;\n    \t\t}else{\n    \t\t\tchild.getComponent(cc.Sprite).enabled = false;\n    \t\t}\n            if (i >= 3) {\n                child.getChildByName(\"img_rank\").active = false;\n                child.getChildByName(\"lb_rank\").active = true;\n                child.getChildByName(\"lb_rank\").getComponent(cc.Label).string = i + 1;\n            }else{\n                child.getChildByName(\"img_rank\").getComponent(cc.Sprite).spriteFrame = this.imgRank[i];\n                child.getChildByName(\"img_rank\").active = true;\n                child.getChildByName(\"lb_rank\").active = false;\n                child.getChildByName(\"lb_rank\").getComponent(cc.Label).string = \"\";\n            }\n            child.getChildByName(\"lb_clubName\").getComponent(cc.Label).string =matchItem.clubName;\n            child.getChildByName(\"lb_clubId\").getComponent(cc.Label).string = matchItem.clubSign;\n            child.getChildByName(\"lb_consumeValue\").getComponent(cc.Label).string = matchItem.consumeValue ;\n            child.getChildByName(\"lb_bigWinner\").getComponent(cc.Label).string = matchItem.bigWinner ;\n            child.getChildByName(\"lb_promotionShareValue\").getComponent(cc.Label).string = matchItem.promotionShareValue;\n            child.getChildByName(\"lb_unionAllMemberPointTotal\").getComponent(cc.Label).string = matchItem.unionAllMemberPointTotal;\n            child.getChildByName(\"lb_zhongZhiTotalPoint\").getComponent(cc.Label).string = matchItem.zhongZhiTotalPoint;\n    \t\tchild.active = true;\n    \t\tcontent.addChild(child);\n\n            child.getChildByName(\"lb_unionAllMemberPointTotal\").active = this.zhongZhiShowStatus;\n    \t}\n        content.sortAllChildren();\n    },\n    //控件点击回调\n    OnClick_BtnWnd:function(eventTouch, eventData){\n        try{\n            app.SoundManager().PlaySound(\"BtnClick\");\n            let btnNode = eventTouch.currentTarget;\n            let btnName = btnNode.name;\n            this.OnClick(btnName, btnNode);\n        }\n        catch (error){\n            console.log(\"OnClick_BtnWnd:\"+error.stack);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if(btnName.startsWith(\"btn_tian\")){\n            this.type=parseInt(btnName.replace(\"btn_tian\",''));\n            this.GetUnionMemberRankedList(true);\n            this.InitLeft();\n        }else if(btnName.startsWith(\"lb_\")){\n            //排序\n            let key=parseInt(btnName.replace(\"lb_\",''));\n            this.OrderBY(key);\n        }\n    },\n    OrderBY:function(key){\n        let orderfield=\"\";\n        if(key==3){\n            orderfield=\"clubSign\";//亲友圈账号\n        }else if(key==4){\n            orderfield=\"consumeValue\";//有效耗钻\n        }else if(key==5){\n            orderfield=\"bigWinner\";//大赢家\n        }\n        else if(key==6){\n            orderfield=\"promotionShareValue\";//活跃积分\n        }\n        else if(key==7){\n            orderfield=\"unionAllMemberPointTotal\";//成员总积分\n        }\n        else if(key==8){\n            orderfield=\"zhongZhiTotalPoint\";//最终积分\n        }\n        if(key==this.orderType){\n            if(this.orderUpDown==1){\n                this.orderUpDown=2;\n            }else{\n                this.orderUpDown=1;\n            }\n        }\n        this.orderfield=orderfield;\n        let self=this;\n        this.serverPack.sort(function(a, b){\n            if(self.orderUpDown==1){\n                return b[self.orderfield]-a[self.orderfield];\n            }else{\n                return a[self.orderfield]-b[self.orderfield];\n            }\n        });\n        this.UpdateScrollView(this.serverPack,true);\n        let rankScrollView = this.node.getChildByName(\"rankScrollView\");\n        let content = rankScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        content.sortAllChildren();\n        this.orderType=key;\n        this.InitOrderTip();\n    },\n    OnClickToggle:function(event){\n        let isChecked = event.getComponent(cc.Toggle).isChecked;\n        let sendPack = {};\n        sendPack.unionId = this.unionId;\n        if (isChecked) {\n            sendPack.type = 1;\n        }else{\n            sendPack.type = 0;\n        }\n        let sendPackName = \"union.CUnionChangeZhongZhiShowStatus\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){   \n            self.zhongZhiShowStatus = serverPack.zhongZhiShowStatus;\n            self.ShowOrHidePointTotal(self.zhongZhiShowStatus);\n        }, function(){\n\n        });\n        \n    },\n    ShowOrHidePointTotal:function(isChecked){\n        this.zhongZhiShowStatus = isChecked;\n        this.node.getChildByName(\"lb_unionAllMemberPointTotal\").active = this.zhongZhiShowStatus;\n        let toptitle=this.node.getChildByName(\"topTitle\");\n        toptitle.getChildByName(\"lb_7\").active = this.zhongZhiShowStatus;\n        let rankScrollView = this.node.getChildByName(\"rankScrollView\");\n        let content = rankScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        for (let i = 0; i < content.children.length; i++) {\n            content.children[i].getChildByName(\"lb_unionAllMemberPointTotal\").active = this.zhongZhiShowStatus;\n        }\n    },\n\n    InitOrderTip:function(){\n        let toptitle=this.node.getChildByName(\"topTitle\");\n        for(let i=3;i<=8;i++){\n            toptitle.getChildByName(\"lb_\"+i).getChildByName(\"orderdown\").active=true;\n            toptitle.getChildByName(\"lb_\"+i).getChildByName(\"orderup\").active=true;\n        }\n        if(this.orderType){\n            if(this.orderUpDown==1){\n                //降序\n                toptitle.getChildByName(\"lb_\"+this.orderType).getChildByName(\"orderup\").active=false;\n            }else{\n                //升序\n                toptitle.getChildByName(\"lb_\"+this.orderType).getChildByName(\"orderdown\").active=false;\n            }\n        }\n    },\n    InitLeft:function(){\n        let tab=this.node.getChildByName(\"topBtnNode\");\n        for(let i=0;i<tab.children.length;i++){\n            tab.children[i].getChildByName('img_off').active=i!=this.type;\n            tab.children[i].getChildByName('lb_off').active=i!=this.type;\n            tab.children[i].getChildByName('img_on').active=i==this.type;\n            tab.children[i].getChildByName('lb_on').active=i==this.type;\n        }\n    },\n    InitLeftLb:function(){\n        let tab=this.node.getChildByName(\"topBtnNode\");\n        for(let i=0;i<tab.children.length;i++){\n            if(i<=2 || i == 7){\n                continue; //今天，昨天，前天\n            }\n            let lb=this.getDay(i);\n            tab.children[i].getChildByName(\"lb_on\").getComponent(cc.Label).string=lb;\n            tab.children[i].getChildByName(\"lb_off\").getComponent(cc.Label).string=lb;\n        }\n    },\n    getDay:function(day){\n        var today = new Date();\n        var targetday_milliseconds=today.getTime() - 1000*60*60*24*day;\n        today.setTime(targetday_milliseconds); //注意，这行是关键代码\n        var tYear = today.getFullYear();\n        var tMonth = today.getMonth();\n        var tDate = today.getDate();\n        tMonth = this.doHandleMonth(tMonth + 1);\n        tDate = this.doHandleMonth(tDate);\n        return tMonth+\"月\"+tDate+\"日\";\n    },\n    doHandleMonth:function(month){\n        return month;\n    },\n    SortByTag:function(a,b){\n        if(this.orderUpDown==1){\n            return b[this.orderfield]-a[this.orderfield];\n        }else{\n            return a[this.orderfield]-b[this.orderfield];\n        }\n        \n    },\n    GetUnionMemberRankedList:function(isRefresh) {\n        this.orderType=0;  //默认不排序\n        this.orderUpDown=2;  //1:降序，2:升序\n        this.InitOrderTip();\n        let sendPack = {};\n        sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.unionId = this.unionId;\n        sendPack.type = this.type;\n        let sendPackName = \"union.CUnionMemberRankedList\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n            //根据选择的条数更改间距\n            if (serverPack.length > 0) {\n                self.UpdateScrollView(serverPack,isRefresh);\n            }\n        }, function(){\n\n        });\n        this.GetUnionCountRankedInfoByZhongZhi();\n    },\n    GetUnionCountRankedInfoByZhongZhi:function(){\n        let sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.unionId = this.unionId;\n        sendPack.type = this.type;\n        let sendPackName = \"union.CUnionCountRankedInfoByZhongZhi\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){   \n            self.node.getChildByName(\"lb_prizePool\").getComponent(cc.Label).string=\"总成本：\"+serverPack.prizePool;\n            self.node.getChildByName(\"lb_setCount\").getComponent(cc.Label).string=\"总局数：\"+serverPack.setCount;\n            self.node.getChildByName(\"lb_roomSize\").getComponent(cc.Label).string=\"总开房数：\"+serverPack.roomSize;\n            self.node.getChildByName(\"lb_consumeValue\").getComponent(cc.Label).string=\"总消耗钻石：\"+serverPack.consumeValue;\n            self.node.getChildByName(\"lb_bigWinner\").getComponent(cc.Label).string=\"大赢家数总合：\"+serverPack.bigWinner;\n            self.node.getChildByName(\"lb_unionAllMemberPointTotal\").active = self.zhongZhiShowStatus;\n            self.node.getChildByName(\"lb_unionAllMemberPointTotal\").getComponent(cc.Label).string=\"成员总积分总和：\"+serverPack.unionAllMemberPointTotal;\n            self.node.getChildByName(\"lb_finalAllMemberPointTotal\").getComponent(cc.Label).string=\"最终积分总合：\"+serverPack.finalAllMemberPointTotal;\n        }, function(){\n\n        });\n    },\n});"]}