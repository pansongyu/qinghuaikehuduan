{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\ybgxmj/assets\\script\\ui\\uiGame\\ybgxmj\\ybgxmj_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ComTool","ShareDefine","ShowPlayerHuImg","huNode","huTypeName","huType","HuTypeStringDict","getComponent","Label","string","HuType_DianPao","HuType_JiePao","HuType_ZiMo","HuType_QGH","ShowPlayerData","setEnd","playerAll","index","jin1","jin2","dPos","posResultList","posHuArray","Array","posCount","length","i","posInfo","pos","posHuType","PlayerInfo","node","active","UpdatePlayData","getChildByName","WeChatManager","InitHeroHeadImage","weChatHeadImage","ShowHeroHead","ShowPlayerJieSuan","ShowNode","huInfoAll","huInfo","anGangPoint","ShowLabelName","toString","gangPoint","jieGangPoint","huPoint","piaoFenPoint","shangHuoPoint","huTypeList","huTypeMap","key","LabelName","huTypeDict","PingHu","PPHu","QD","DiHu","QYS","JGD","TianHu","LQD","QDD","QQD","QLQD","MengQing","Gui","ZiMo","GSKH","GSP","JGP","QiangGangHu","HDP","HDL","MQDDH","PiaoFen","Piao","HuPoint"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,sBAAR,CADJ;;AAGLI,gBAAY,EAHP;;AAKL;AACAC,YAAQ,kBAAY;AAChB,aAAKC,OAAL,GAAeP,IAAIO,OAAJ,EAAf;AACA,aAAKC,WAAL,GAAmBR,IAAIQ,WAAJ,EAAnB;AACH,KATI;AAULC,qBAAiB,yBAAUC,MAAV,EAAkBC,UAAlB,EAA8B;AAC3C;;;;AAIA,YAAIC,SAAS,KAAKJ,WAAL,CAAiBK,gBAAjB,CAAkCF,UAAlC,CAAb;AACA,YAAI,OAAOC,MAAP,IAAkB,WAAtB,EAAmC;AAC/BF,mBAAOI,YAAP,CAAoBZ,GAAGa,KAAvB,EAA8BC,MAA9B,GAAuC,EAAvC;AACH,SAFD,MAEO,IAAIJ,UAAU,KAAKJ,WAAL,CAAiBS,cAA/B,EAA+C;AAClDP,mBAAOI,YAAP,CAAoBZ,GAAGa,KAAvB,EAA8BC,MAA9B,GAAuC,IAAvC;AACH,SAFM,MAEA,IAAIJ,UAAU,KAAKJ,WAAL,CAAiBU,aAA/B,EAA8C;AACjDR,mBAAOI,YAAP,CAAoBZ,GAAGa,KAAvB,EAA8BC,MAA9B,GAAuC,IAAvC;AACH,SAFM,MAEA,IAAIJ,UAAU,KAAKJ,WAAL,CAAiBW,WAA/B,EAA4C;AAC/CT,mBAAOI,YAAP,CAAoBZ,GAAGa,KAAvB,EAA8BC,MAA9B,GAAuC,IAAvC;AACH,SAFM,MAEA,IAAIJ,UAAU,KAAKJ,WAAL,CAAiBY,UAA/B,EAA2C;AAC9CV,mBAAOI,YAAP,CAAoBZ,GAAGa,KAAvB,EAA8BC,MAA9B,GAAuC,KAAvC;AACH,SAFM,MAEA;AACHN,mBAAOI,YAAP,CAAoBZ,GAAGa,KAAvB,EAA8BC,MAA9B,GAAuC,EAAvC;AACH;AACJ,KA7BI;AA8BLK,oBAAgB,wBAAUC,MAAV,EAAkBC,SAAlB,EAA6BC,KAA7B,EAAoC;AAChD,YAAIC,OAAOH,OAAOG,IAAlB;AACA,YAAIC,OAAOJ,OAAOI,IAAlB;AACA,YAAIC,OAAOL,OAAOK,IAAlB;AACA,YAAIC,gBAAgBN,OAAO,eAAP,CAApB;AACA,YAAIO,aAAa,IAAIC,KAAJ,EAAjB;AACA,YAAIC,WAAWH,cAAcI,MAA7B;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,QAApB,EAA8BE,GAA9B,EAAmC;AAC/B,gBAAIC,UAAUN,cAAcK,CAAd,CAAd;AACA,gBAAIE,MAAMD,QAAQ,KAAR,CAAV;AACA,gBAAIE,YAAY,KAAK5B,WAAL,CAAiBK,gBAAjB,CAAkCqB,QAAQ,QAAR,CAAlC,CAAhB;AACAL,uBAAWM,GAAX,IAAkBC,SAAlB;AACH;AACD,YAAIC,aAAad,UAAUC,KAAV,CAAjB;AACA,aAAKc,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,aAAKC,cAAL,CAAoB,KAAKF,IAAzB,EAA+BV,cAAcJ,KAAd,CAA/B,EAAqDa,UAArD,EAAiEZ,IAAjE,EAAuEC,IAAvE;AACA,YAAIhB,SAAS,KAAK4B,IAAL,CAAUG,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,QAAnD,CAAb;AACA,aAAKhC,eAAL,CAAqBC,MAArB,EAA6BkB,cAAcJ,KAAd,EAAqB,QAArB,CAA7B;;AAEA,YAAIG,SAASH,KAAb,EAAoB;AAChB,iBAAKc,IAAL,CAAUG,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,WAArD,EAAkEF,MAAlE,GAA2E,IAA3E;AACH,SAFD,MAEO;AACH,iBAAKD,IAAL,CAAUG,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,WAArD,EAAkEF,MAAlE,GAA2E,KAA3E;AACH;AACD;AACA,YAAIF,WAAW,KAAX,KAAqBA,WAAW,SAAX,CAAzB,EAAgD;AAC5CrC,gBAAI0C,aAAJ,GAAoBC,iBAApB,CAAsCN,WAAW,KAAX,CAAtC,EAAyDA,WAAW,SAAX,CAAzD;AACH;AACD,YAAIO,kBAAkB,KAAKN,IAAL,CAAUG,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,UAArD,EAAiE3B,YAAjE,CAA8E,iBAA9E,CAAtB;AACA8B,wBAAgBC,YAAhB,CAA6BR,WAAW,KAAX,CAA7B;AACH,KA5DI;AA6DLS,uBAAmB,2BAAUC,QAAV,EAAoBC,SAApB,EAA+B;AAC9C,YAAIC,SAASD,UAAU,UAAV,CAAb;AACA,YAAIC,OAAOC,WAAP,GAAqB,CAAzB,EAA4B;AACxB,iBAAKC,aAAL,CAAmBJ,SAASN,cAAT,CAAwB,aAAxB,CAAnB,EAA2D,SAASQ,OAAOC,WAAP,CAAmBE,QAAnB,EAApE;AACH;AACD,YAAIH,OAAOI,SAAP,GAAmB,CAAvB,EAA0B;AACtB,iBAAKF,aAAL,CAAmBJ,SAASN,cAAT,CAAwB,aAAxB,CAAnB,EAA2D,SAASQ,OAAOI,SAAP,CAAiBD,QAAjB,EAApE;AACH;AACD,YAAIH,OAAOK,YAAP,GAAsB,CAA1B,EAA6B;AACzB,iBAAKH,aAAL,CAAmBJ,SAASN,cAAT,CAAwB,aAAxB,CAAnB,EAA2D,SAASQ,OAAOK,YAAP,CAAoBF,QAApB,EAApE;AACH;AACD,YAAIH,OAAOM,OAAP,GAAiB,CAArB,EAAwB;AACpB,iBAAKJ,aAAL,CAAmBJ,SAASN,cAAT,CAAwB,aAAxB,CAAnB,EAA2D,QAAQQ,OAAOM,OAAP,CAAeH,QAAf,EAAnE;AACH;AACD,YAAIH,OAAOO,YAAP,GAAsB,CAA1B,EAA6B;AACzB,iBAAKL,aAAL,CAAmBJ,SAASN,cAAT,CAAwB,aAAxB,CAAnB,EAA2D,SAASQ,OAAOO,YAAP,CAAoBJ,QAApB,EAApE;AACH;AACD,YAAIH,OAAOQ,aAAP,GAAuB,CAA3B,EAA8B;AAC1B,iBAAKN,aAAL,CAAmBJ,SAASN,cAAT,CAAwB,aAAxB,CAAnB,EAA2D,OAAOQ,OAAOQ,aAAP,CAAqBL,QAArB,EAAlE;AACH;AACD,YAAIM,aAAaT,OAAOU,SAAxB;AACA,aAAK,IAAIC,GAAT,IAAgBF,UAAhB,EAA4B;AACxB,iBAAKP,aAAL,CAAmBJ,SAASN,cAAT,CAAwB,aAAxB,CAAnB,EAA2D,KAAKoB,SAAL,CAAeD,GAAf,IAAsB,GAAtB,GAA4BF,WAAWE,GAAX,EAAgBR,QAAhB,EAAvF;AACH;AACD;AACA;AACA;AACA;AACA;AACH,KA1FI;AA2FLS,eAAW,mBAAUjD,MAAV,EAAkB;AACzB,YAAIkD,aAAa;AACbC,oBAAQ,IADK;AAEbC,kBAAM,KAFO;AAGbC,gBAAI,KAHS;AAIbC,kBAAM,IAJO;AAKbC,iBAAK,KALQ;AAMbC,iBAAK,KANQ;AAObC,oBAAQ,IAPK;AAQbC,iBAAK,KARQ;AASbC,iBAAK,KATQ;AAUbC,iBAAK,KAVQ;AAWbC,kBAAM,MAXO;;AAabC,sBAAU,IAbG;AAcbC,iBAAK,GAdQ;AAebC,kBAAM,IAfO;AAgBbC,kBAAM,KAhBO;AAiBbC,iBAAK,KAjBQ;AAkBbC,iBAAK,KAlBQ;AAmBbC,yBAAa,KAnBA;AAoBbC,iBAAK,KApBQ;AAqBbC,iBAAK,KArBQ;AAsBbC,mBAAO,OAtBM;AAuBbC,qBAAS,IAvBI;;AAyBbC,kBAAM,GAzBO;AA0BbC,qBAAS;AA1BI,SAAjB;AA4BA,eAAOxB,WAAWlD,MAAX,CAAP;AACH;AAzHI,CAAT","file":"ybgxmj_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\ybgxmj","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseMJ_winlost_child\"),\n\n    properties: {},\n\n    // use this for initialization\n    OnLoad: function () {\n        this.ComTool = app.ComTool();\n        this.ShareDefine = app.ShareDefine();\n    },\n    ShowPlayerHuImg: function (huNode, huTypeName) {\n        /*huLbIcon\n         *  0:单吊，1：点炮，2：单游，3：胡，4：六金，5：平胡，6:抢杠胡 7:抢金，8：三游，9：四金倒，10：三金倒，11：三金游，12：十三幺\n         *  13：双游，14：天胡，15：五金，16：自摸 17:接炮\n         */\n        let huType = this.ShareDefine.HuTypeStringDict[huTypeName];\n        if (typeof(huType) == \"undefined\") {\n            huNode.getComponent(cc.Label).string = '';\n        } else if (huType == this.ShareDefine.HuType_DianPao) {\n            huNode.getComponent(cc.Label).string = '点泡';\n        } else if (huType == this.ShareDefine.HuType_JiePao) {\n            huNode.getComponent(cc.Label).string = '接炮';\n        } else if (huType == this.ShareDefine.HuType_ZiMo) {\n            huNode.getComponent(cc.Label).string = '自摸';\n        } else if (huType == this.ShareDefine.HuType_QGH) {\n            huNode.getComponent(cc.Label).string = '抢杠胡';\n        } else {\n            huNode.getComponent(cc.Label).string = '';\n        }\n    },\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        let jin1 = setEnd.jin1;\n        let jin2 = setEnd.jin2;\n        let dPos = setEnd.dPos;\n        let posResultList = setEnd[\"posResultList\"];\n        let posHuArray = new Array();\n        let posCount = posResultList.length;\n        for (let i = 0; i < posCount; i++) {\n            let posInfo = posResultList[i];\n            let pos = posInfo[\"pos\"];\n            let posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n            posHuArray[pos] = posHuType;\n        }\n        let PlayerInfo = playerAll[index];\n        this.node.active = true;\n        this.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2);\n        let huNode = this.node.getChildByName('jiesuan').getChildByName('hutype');\n        this.ShowPlayerHuImg(huNode, posResultList[index]['huType']);\n\n        if (dPos === index) {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n        }\n        //显示头像，如果头像UI\n        if (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n    },\n    ShowPlayerJieSuan: function (ShowNode, huInfoAll) {\n        let huInfo = huInfoAll['endPoint'];\n        if (huInfo.anGangPoint > 0) {\n            this.ShowLabelName(ShowNode.getChildByName('label_lists'), \"暗杠：+\" + huInfo.anGangPoint.toString());\n        }\n        if (huInfo.gangPoint > 0) {\n            this.ShowLabelName(ShowNode.getChildByName('label_lists'), \"补杠：+\" + huInfo.gangPoint.toString());\n        }\n        if (huInfo.jieGangPoint > 0) {\n            this.ShowLabelName(ShowNode.getChildByName('label_lists'), \"明杠：+\" + huInfo.jieGangPoint.toString());\n        }\n        if (huInfo.huPoint > 0) {\n            this.ShowLabelName(ShowNode.getChildByName('label_lists'), \"胡：+\" + huInfo.huPoint.toString());\n        }\n        if (huInfo.piaoFenPoint > 0) {\n            this.ShowLabelName(ShowNode.getChildByName('label_lists'), \"漂分：+\" + huInfo.piaoFenPoint.toString());\n        }\n        if (huInfo.shangHuoPoint > 0) {\n            this.ShowLabelName(ShowNode.getChildByName('label_lists'), \"买X\" + huInfo.shangHuoPoint.toString());\n        }\n        let huTypeList = huInfo.huTypeMap;\n        for (let key in huTypeList) {\n            this.ShowLabelName(ShowNode.getChildByName('label_lists'), this.LabelName(key) + \":\" + huTypeList[key].toString());\n        }\n        // for (let huType in huInfo) {\n        //     let huPoint = huInfo[huType];\n        //     this.ShowLabelName(ShowNode.getChildByName('label_lists'),this.LabelName(huType)+\"： \"+huPoint);\n        //     console.log(\"ShowPlayerJieSuan\", huType, huPoint);\n        // }\n    },\n    LabelName: function (huType) {\n        let huTypeDict = {\n            PingHu: \"平胡\",\n            PPHu: \"大对子\",\n            QD: \"小七对\",\n            DiHu: \"地胡\",\n            QYS: \"清一色\",\n            JGD: \"金钩钓\",\n            TianHu: \"天胡\",\n            LQD: \"龙七对\",\n            QDD: \"清大对\",\n            QQD: \"清七对\",\n            QLQD: \"清龙七对\",\n\n            MengQing: \"门清\",\n            Gui: \"归\",\n            ZiMo: \"自摸\",\n            GSKH: \"杠上花\",\n            GSP: \"杠上炮\",\n            JGP: \"金钩炮\",\n            QiangGangHu: \"抢杠胡\",\n            HDP: \"海底炮\",\n            HDL: \"海底捞\",\n            MQDDH: \"门清对对胡\",\n            PiaoFen: \"飘分\",\n\n            Piao: \"飘\",\n            HuPoint: \"胡分\",\n        };\n        return huTypeDict[huType];\n    },\n});\n"]}