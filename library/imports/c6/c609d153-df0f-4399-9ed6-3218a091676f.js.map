{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIUserSetPL.js"],"names":["app","require","cc","Class","extends","properties","unionTitle","SpriteFrame","clubTitle","OnCreateInit","OnShow","data","isUnion","isPromoter","lb_TargetPL","node","getChildByName","getComponent","RichText","myisminister","Label","string","active","Sprite","spriteFrame","ComTool","GetBeiZhuName","pid","name","lb_curPL","targetPL","lb_owerPL","owerPL","EditBox","tuisaiPoint","UpdateCurPL","OnClick","btnName","btnNode","percentStr","percentFloat","parseFloat","sendPack","packName","ClubManager","GetUnionSendPackHead","opClubId","clubId","targetClubId","opPid","type","value","SendPointPack","SysNotifyManager","ShowSysMsg","FormManager","ShowForm","Math","abs","CloseForm","ErrLog","self","NetManager","SendPack","serverPack","changedValue","newPath","GetUnionTypeByLastClubData","GetFormComponentByFormName","GetPromoterList","SetWaitForConfirm","msgID","msgArg","cbArg","content","lbSure","lbCancle","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType","backArgList"],"mappings":"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","file":"UIUserSetPL.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        unionTitle:cc.SpriteFrame,\n        clubTitle:cc.SpriteFrame,\n    },\n\n    OnCreateInit: function () {\n\n    },\n    OnShow: function (data,isUnion=true,isPromoter=false) {\n        this.data = data;\n        this.isUnion = isUnion;\n        this.isPromoter = isPromoter;\n        let lb_TargetPL = this.node.getChildByName(\"lb_TargetPL\").getComponent(cc.RichText);\n        if (this.data.myisminister > 0) {\n            this.node.getChildByName(\"btn_Add\").getChildByName(\"lb_btnName\").getComponent(cc.Label).string = \"增 加\";\n            this.node.getChildByName(\"btn_Del\").getChildByName(\"lb_btnName\").getComponent(cc.Label).string = \"退 赛\";\n            this.node.getChildByName(\"lb_tip_1\").active = true;\n            this.node.getChildByName(\"btn_help\").active = false;\n            this.node.getChildByName(\"img_title\").getComponent(cc.Sprite).spriteFrame = this.unionTitle;\n            lb_TargetPL.string = \"<color=#705d52>授权</c><color=#f8772c>\" + this.ComTool.GetBeiZhuName(data.pid,data.name,9) + \"（ID:\" + data.pid + \"）\" + \"</color><color=#705d52>可裁判的比赛分</c>\";\n        }else{\n            this.node.getChildByName(\"btn_Add\").getChildByName(\"lb_btnName\").getComponent(cc.Label).string = \"补 偿\";\n            this.node.getChildByName(\"btn_Del\").getChildByName(\"lb_btnName\").getComponent(cc.Label).string = \"退 赛\";\n            this.node.getChildByName(\"lb_tip_1\").active = false;\n            this.node.getChildByName(\"btn_help\").active = true;\n            this.node.getChildByName(\"img_title\").getComponent(cc.Sprite).spriteFrame = this.clubTitle;\n            lb_TargetPL.string = \"<color=#705d52>因异常修改</c><color=#f8772c>\" + this.ComTool.GetBeiZhuName(data.pid,data.name,9) + \"（ID:\" + data.pid + \"）\" + \"</color><color=#705d52>的比赛分</c>\";\n        }\n        let lb_curPL = this.node.getChildByName(\"lb_curPL\").getComponent(cc.Label);\n        lb_curPL.string = \"该玩家当前拥有比赛分：\" + data.targetPL;\n        let lb_owerPL = this.node.getChildByName(\"lb_owerPL\").getComponent(cc.Label);\n        lb_owerPL.string = \"您当前可操作比赛分：\" + data.owerPL;\n        //初始化比赛分输入框\n        this.node.getChildByName(\"PLEditBox\").getComponent(cc.EditBox).string = \"\";\n\n        this.tuisaiPoint=data.targetPL;\n    },\n    UpdateCurPL:function(targetPL){\n        let lb_curPL = this.node.getChildByName(\"lb_curPL\").getComponent(cc.Label);\n        lb_curPL.string = \"该玩家当前拥有比赛分：\" + targetPL;\n        this.tuisaiPoint=targetPL;\n    },\n    OnClick:function(btnName, btnNode){\n        let percentStr = this.node.getChildByName(\"PLEditBox\").getComponent(cc.EditBox).string;\n        let percentFloat = parseFloat(percentStr);\n        this.node.getChildByName(\"PLEditBox\").getComponent(cc.EditBox).string=\"\"; //防止二次点击，每次点击都清空输入框\n        if(btnName == \"btn_Add\"){\n            if (percentFloat <= this.data.owerPL) {\n                let sendPack = {};\n                let packName = \"\";\n                if (this.isUnion && !this.isPromoter) {\n                    sendPack = app.ClubManager().GetUnionSendPackHead();\n                    sendPack.opClubId = this.data.opClubId;\n                    packName = \"union.CUnionSportsPointUpdate\";\n                }else if (!this.isUnion && this.isPromoter) {\n                    sendPack.clubId = this.data.targetClubId;\n                    packName = \"club.CClubSubordinateLevelSportsPointUpdate\";\n                }else{\n                    sendPack.clubId = app.ClubManager().GetUnionSendPackHead().clubId;\n                    packName = \"club.CClubSportsPointUpdate\";\n                }\n                sendPack.opPid = this.data.pid;\n                sendPack.type = 0;\n                sendPack.value = parseFloat(percentStr);\n                this.SendPointPack(packName, sendPack);\n            }else{\n                app.SysNotifyManager().ShowSysMsg(\"请输入小于自己可操作比赛分的纯数字\",[],3);\n            }\n        }else if(btnName == \"btn_Del\"){\n            app.FormManager().ShowForm(\"ui/club/UIUserOutRace\",this.data,this.isUnion,this.isPromoter,percentStr);\n            // this.SetWaitForConfirm('FORCE_OUT_UNION',this.ShareDefine.Confirm,[],[this.data.targetPL], \"玩家身上拥有\"+this.data.targetPL+\"竞技点值，是否将玩家竞技清零并退赛\");\n            // if (percentFloat > 0 && percentFloat <= this.data.targetPL) {\n            //     let sendPack = {};\n            //     let packName = \"\";\n            //     if (this.isUnion && !this.isPromoter) {\n            //         sendPack = app.ClubManager().GetUnionSendPackHead();\n            //         sendPack.opClubId = this.data.opClubId;\n            //         packName = \"union.CUnionSportsPointUpdate\";\n            //     }else if (!this.isUnion && this.isPromoter) {\n            //         sendPack.clubId = this.data.targetClubId;\n            //         packName = \"club.CClubSubordinateLevelSportsPointUpdate\";\n            //     }else{\n            //         sendPack.clubId = app.ClubManager().GetUnionSendPackHead().clubId;\n            //         packName = \"club.CClubSportsPointUpdate\";\n            //     }\n            //     sendPack.opPid = this.data.pid;\n            //     sendPack.type = 1;\n            //     sendPack.value = parseFloat(percentStr);\n            //     this.SendPointPack(packName, sendPack);\n            // }else{\n            //     app.SysNotifyManager().ShowSysMsg(\"请输入大于该玩家所拥有比赛分的纯数字\",[],3);\n            // }\n        }\n        else if(btnName == \"btn_tuisai\"){\n                let sendPack = {};\n                let packName = \"\";\n                if (this.isUnion && !this.isPromoter) {\n                    sendPack = app.ClubManager().GetUnionSendPackHead();\n                    sendPack.opClubId = this.data.opClubId;\n                    packName = \"union.CUnionSportsPointUpdate\";\n                }else if (!this.isUnion && this.isPromoter) {\n                    sendPack.clubId = this.data.targetClubId;\n                    packName = \"club.CClubSubordinateLevelSportsPointUpdate\";\n                }else{\n                    sendPack.clubId = app.ClubManager().GetUnionSendPackHead().clubId;\n                    packName = \"club.CClubSportsPointUpdate\";\n                }\n                sendPack.opPid = this.data.pid;\n                if(this.tuisaiPoint>0){\n                    sendPack.type = 1;\n                }else{\n                    sendPack.type = 0;\n                }\n                sendPack.value =Math.abs(this.tuisaiPoint);\n                this.SendPointPack(packName, sendPack);\n        }\n        else if(btnName == \"btn_close\"){\n            this.CloseForm();\n        }else if(btnName == \"btn_help\"){\n            this.node.getChildByName(\"helpNode\").active = !this.node.getChildByName(\"helpNode\").active;\n        }else{\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\n        }\n    },\n    SendPointPack:function(packName, sendPack){\n        let self = this;\n        app.NetManager().SendPack(packName,sendPack, function(serverPack){\n            if (serverPack.type == 0) {\n                app.SysNotifyManager().ShowSysMsg(\"成功设置比赛分\",[],3);\n            }else{\n                app.SysNotifyManager().ShowSysMsg(\"玩家退赛成功，已将玩家\"+serverPack.value+\"竞技点值 清零并退赛\");\n            }\n\n            let lb_curPL = self.node.getChildByName(\"lb_curPL\").getComponent(cc.Label);\n            lb_curPL.string = \"该玩家当前拥有比赛分：\" + serverPack.changedValue;\n            if (self.isPromoter) {\n                self.CloseForm();\n                let newPath = 'ui/club/UIPromoterAllManager';\n                if (app.ClubManager().GetUnionTypeByLastClubData()==1) {\n                    newPath = 'ui/club_2/UIPromoterAllManager_2';\n                }\n                self.FormManager.GetFormComponentByFormName(newPath).GetPromoterList(true);\n            }\n        }, function(){\n            // app.SysNotifyManager().ShowSysMsg(\"设置比赛分失败\",[],3);\n        });\n    },\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[],content = \"\", lbSure =\"\", lbCancle=\"\"){\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg,content,lbSure,lbCancle);\n    },\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return\n        }\n        if(msgID == \"FORCE_OUT_UNION\"){\n            let sendPack = {};\n            let packName = \"\";\n            if (this.isUnion && !this.isPromoter) {\n                sendPack = app.ClubManager().GetUnionSendPackHead();\n                sendPack.opClubId = this.data.opClubId;\n                packName = \"union.CUnionSportsPointUpdate\";\n            }else if (!this.isUnion && this.isPromoter) {\n                sendPack.clubId = this.data.targetClubId;\n                packName = \"club.CClubSubordinateLevelSportsPointUpdate\";\n            }else{\n                sendPack.clubId = app.ClubManager().GetUnionSendPackHead().clubId;\n                packName = \"club.CClubSportsPointUpdate\";\n            }\n            sendPack.opPid = this.data.pid;\n            sendPack.type = 1;\n            sendPack.value = backArgList[0];\n            this.SendPointPack(packName, sendPack);\n        }\n    },\n});\n"]}