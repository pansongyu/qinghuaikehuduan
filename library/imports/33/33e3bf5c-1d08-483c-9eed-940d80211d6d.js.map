{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\sstx/assets\\script\\ui\\uiGame\\sstx\\sstx_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","dudiyou_icon","SpriteFrame","icon_you","OnLoad","ShowPlayerData","setEnd","playerAll","index","player","posResultList","point","roomPoint","ranksScore","winLosePoint","dPos","node","getChildByName","active","pos","winNode","loseNode","getComponent","Label","string","endType","finishOrder","Sprite","spriteFrame","ranksType","difen","lb_difen","multiple","ranksTypeMap","lb_zhuafen","threePoint","lb_threepoint","lb_threepointTitle","lb_roomPoint","lb_sportsPointTitle","sportsPoint","playerInfo","i","length","pid","head","ShowHeroHead","playerName","name","substring","id","ComTool","GetPid"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,aAASH,QAAQ,yBAAR,CADD;;AAGRI,gBAAY;AACLC,sBAAc,CAACJ,GAAGK,WAAJ,CADT;AAELC,kBAAU,CAACN,GAAGK,WAAJ;AAFL,KAHJ;;AAQR;AACAE,YAAQ,kBAAY,CAEnB,CAXO;AAYRC,oBAAe,wBAASC,MAAT,EAAgBC,SAAhB,EAA0BC,KAA1B,EAAgC;AACxC,YAAIC,SAASH,OAAOI,aAAP,CAAqBF,KAArB,CAAb;;AAEA,YAAIG,QAASF,OAAOE,KAApB;AACA,YAAIC,YAAYH,OAAOG,SAAvB;AACA,YAAIC,aAAaJ,OAAOK,YAAxB,CAAoC,cAApC;;AAEA,YAAIC,OAAOT,OAAOS,IAAlB;;AAEA;AACA,aAAKC,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,WAArD,EAAkEC,MAAlE,GAA4ET,OAAOU,GAAP,IAAcJ,IAA1F;;AAEA;AACA,YAAIK,UAAU,KAAKJ,IAAL,CAAUC,cAAV,CAAyB,YAAzB,CAAd;AACA,YAAII,WAAW,KAAKL,IAAL,CAAUC,cAAV,CAAyB,aAAzB,CAAf;AACAG,gBAAQF,MAAR,GAAiB,KAAjB;AACAG,iBAASH,MAAT,GAAkB,KAAlB;;AAEA,YAAGP,QAAQ,CAAX,EAAa;AACTS,oBAAQF,MAAR,GAAiB,IAAjB;AACAE,oBAAQE,YAAR,CAAqBzB,GAAG0B,KAAxB,EAA+BC,MAA/B,GAAwC,MAAMb,KAA9C;AAEH,SAJD,MAKI;AACAU,qBAASH,MAAT,GAAkB,IAAlB;AACAG,qBAASC,YAAT,CAAsBzB,GAAG0B,KAAzB,EAAgCC,MAAhC,GAAyCb,KAAzC;AAEH;AACD,YAAIE,aAAa,CAAjB,EAAoB;AAChB,iBAAKG,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,QAArD,EAA+DC,MAA/D,GAAwE,IAAxE;AACA,iBAAKF,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,SAArD,EAAgEC,MAAhE,GAAyE,KAAzE;AACH,SAHD,MAGO,IAAGL,aAAa,CAAhB,EAAkB;AACrB,iBAAKG,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,QAArD,EAA+DC,MAA/D,GAAwE,KAAxE;AACA,iBAAKF,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,SAArD,EAAgEC,MAAhE,GAAyE,IAAzE;AACH,SAHM,MAGA;AACH,iBAAKF,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,QAArD,EAA+DC,MAA/D,GAAwE,KAAxE;AACA,iBAAKF,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,SAArD,EAAgEC,MAAhE,GAAyE,KAAzE;AACH;;AAED;AACA,YAAIO,UAAUhB,OAAOgB,OAArB,CAxCwC,CAwCX;AAC7B,YAAIC,cAAc,CAAlB;AACA,YAAID,WAAW,KAAf,EAAsB;AAClBC,0BAAc,CAAd;AACH,SAFD,MAEO,IAAID,WAAW,KAAf,EAAsB;AACzBC,0BAAc,CAAd;AACH,SAFM,MAEA,IAAID,WAAW,OAAf,EAAwB;AAC3BC,0BAAc,CAAd;AACH,SAFM,MAEA,IAAID,WAAW,MAAf,EAAuB;AAC1BC,0BAAc,CAAd;AACH,SAFM,MAEA;AACHA,0BAAc,CAAC,CAAf;AACH;AACD,YAAIA,cAAc,CAAlB,EAAqB;AACjB,iBAAKV,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,KAArD,EAA4DK,YAA5D,CAAyEzB,GAAG8B,MAA5E,EAAoFC,WAApF,GAAkG,KAAKzB,QAAL,CAAcuB,cAAc,CAA5B,CAAlG;AACH,SAFD,MAEO;AACH,iBAAKV,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,KAArD,EAA4DK,YAA5D,CAAyEzB,GAAG8B,MAA5E,EAAoFC,WAApF,GAAkG,EAAlG;AACH;;AAED;AACA,YAAIC,YAAYpB,OAAOoB,SAAvB;AACA,YAAGA,aAAa,CAAhB,EAAkB;AACd,iBAAKb,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,QAArD,EAA+DK,YAA/D,CAA4EzB,GAAG8B,MAA/E,EAAuFC,WAAvF,GAAqG,EAArG;AACH,SAFD,MAEK;AACD,iBAAKZ,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,QAArD,EAA+DK,YAA/D,CAA4EzB,GAAG8B,MAA/E,EAAuFC,WAAvF,GAAqG,KAAK3B,YAAL,CAAkB4B,YAAY,CAA9B,CAArG;AACH;;AAED;AACA,YAAIC,QAAQxB,OAAOwB,KAAnB;AACA,YAAIC,WAAW,KAAKf,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAf;AACA,YAAIe,WAAW,EAAf;AACAA,iBAAS,CAAT,IAAc,GAAd;AACAA,iBAAS,CAAT,IAAc,GAAd;AACAA,iBAAS,CAAT,IAAc,IAAd;AACAD,iBAAST,YAAT,CAAsBzB,GAAG0B,KAAzB,EAAgCC,MAAhC,GAAyCQ,SAASF,KAAT,CAAzC;;AAEA;AACA,YAAIG,eAAe3B,OAAO2B,YAA1B;AACA,YAAIC,aAAa,KAAKlB,IAAL,CAAUC,cAAV,CAAyB,YAAzB,CAAjB;AACA,YAAGgB,aAAaJ,SAAb,IAA0B,CAA7B,EAA+B;AAC3BK,uBAAWZ,YAAX,CAAwBzB,GAAG0B,KAA3B,EAAkCC,MAAlC,GAA2C,MAAMS,aAAaJ,SAAb,CAAjD;AACH,SAFD,MAEK;AACDK,uBAAWZ,YAAX,CAAwBzB,GAAG0B,KAA3B,EAAkCC,MAAlC,GAA2CS,aAAaJ,SAAb,CAA3C;AACH;;AAED;AACA,YAAIM,aAAa1B,OAAO0B,UAAxB;AACA,YAAIC,gBAAgB,KAAKpB,IAAL,CAAUC,cAAV,CAAyB,eAAzB,CAApB;AACA,YAAIoB,qBAAqBD,cAAcnB,cAAd,CAA6B,oBAA7B,CAAzB;AACA,YAAGkB,aAAa,CAAhB,EAAkB;AACdC,0BAAcd,YAAd,CAA2BzB,GAAG0B,KAA9B,EAAqCC,MAArC,GAA8C,MAAMW,UAApD;AACAE,+BAAmBf,YAAnB,CAAgCzB,GAAG0B,KAAnC,EAA0CC,MAA1C,GAAmD,KAAnD;AACH,SAHD,MAGM,IAAGW,aAAa,CAAhB,EAAkB;AACpBC,0BAAcd,YAAd,CAA2BzB,GAAG0B,KAA9B,EAAqCC,MAArC,GAA+CW,UAA/C;AACAE,+BAAmBf,YAAnB,CAAgCzB,GAAG0B,KAAnC,EAA0CC,MAA1C,GAAmD,KAAnD;AACH,SAHK,MAGD;AACDY,0BAAcd,YAAd,CAA2BzB,GAAG0B,KAA9B,EAAqCC,MAArC,GAA8C,EAA9C;AACAa,+BAAmBf,YAAnB,CAAgCzB,GAAG0B,KAAnC,EAA0CC,MAA1C,GAAmD,EAAnD;AACH;;AAGD;AACA,YAAIc,eAAe,KAAKtB,IAAL,CAAUC,cAAV,CAAyB,cAAzB,CAAnB;AACA,YAAGL,YAAY,CAAf,EAAiB;AACb0B,yBAAahB,YAAb,CAA0BzB,GAAG0B,KAA7B,EAAoCC,MAApC,GAA6C,MAAMZ,SAAnD;AACH,SAFD,MAGI;AACA0B,yBAAahB,YAAb,CAA0BzB,GAAG0B,KAA7B,EAAoCC,MAApC,GAA6CZ,SAA7C;AACH;AACD;AACA,YAAI2B,sBAAsB,KAAKvB,IAAL,CAAUC,cAAV,CAAyB,qBAAzB,CAA1B;AACA,YAAIR,OAAO+B,WAAX,EAAwB;AACpB,gBAAG/B,OAAO+B,WAAP,GAAqB,CAAxB,EAA0B;AACtBD,oCAAoBrB,MAApB,GAA6B,IAA7B;AACAqB,oCAAoBtB,cAApB,CAAmC,gBAAnC,EAAqDK,YAArD,CAAkEzB,GAAG0B,KAArE,EAA4EC,MAA5E,GAAqF,MAAMf,OAAO+B,WAAlG;AACH,aAHD,MAII;AACAD,oCAAoBrB,MAApB,GAA6B,IAA7B;AACAqB,oCAAoBtB,cAApB,CAAmC,gBAAnC,EAAqDK,YAArD,CAAkEzB,GAAG0B,KAArE,EAA4EC,MAA5E,GAAqFf,OAAO+B,WAA5F;AACH;AACJ,SATD,MASK;AACDD,gCAAoBrB,MAApB,GAA6B,KAA7B;AACH;;AAED,YAAIuB,aAAa,IAAjB;AACA,aAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAInC,UAAUoC,MAA5B,EAAmCD,GAAnC,EAAuC;AACnC,gBAAGjC,OAAOmC,GAAP,IAAcrC,UAAUmC,CAAV,EAAaE,GAA9B,EAAkC;AAC9BH,6BAAalC,UAAUmC,CAAV,CAAb;AACA;AACH;AACJ;;AAED,YAAIG,OAAO,KAAK7B,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,MAArD,EAA6DA,cAA7D,CAA4E,UAA5E,EAAwFK,YAAxF,CAAqG,iBAArG,CAAX;AACAuB,aAAKC,YAAL,CAAkBL,WAAWG,GAA7B;AACA;AACA,YAAIG,aAAa,EAAjB;AACAA,qBAAaN,WAAWO,IAAxB;AACA,YAAGD,WAAWJ,MAAX,GAAoB,CAAvB,EAAyB;AACrBI,yBAAaA,WAAWE,SAAX,CAAqB,CAArB,EAAwB,CAAxB,IAA6B,KAA1C;AACH;AACD,YAAID,OAAO,KAAKhC,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,YAArD,EAAmEK,YAAnE,CAAgFzB,GAAG0B,KAAnF,CAAX;AACAyB,aAAKxB,MAAL,GAAcuB,UAAd;;AAEA,YAAIG,KAAK,KAAKlC,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,UAArD,EAAiEK,YAAjE,CAA8EzB,GAAG0B,KAAjF,CAAT;AACA2B,WAAG1B,MAAH,GAAY,QAAQ7B,IAAIwD,OAAJ,GAAcC,MAAd,CAAqBX,WAAW,KAAX,CAArB,CAApB;AACH;AA7JI,CAAT","file":"sstx_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\sstx","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BasePoker_winlost_child\"),\n\n\tproperties: {\n        dudiyou_icon: [cc.SpriteFrame],\n        icon_you: [cc.SpriteFrame],\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\n\t},\n\tShowPlayerData:function(setEnd,playerAll,index){\n        let player = setEnd.posResultList[index];\n\n        let point  = player.point;\n        let roomPoint = player.roomPoint;\n        let ranksScore = player.winLosePoint/*ranksScore*/;\n\n        let dPos = setEnd.dPos;\n\n        //显示庄\n        this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = (player.pos == dPos);\n\n        //玩家分数\n        let winNode = this.node.getChildByName(\"lb_win_num\");\n        let loseNode = this.node.getChildByName(\"lb_lose_num\");\n        winNode.active = false;\n        loseNode.active = false;\n\n        if(point > 0){\n            winNode.active = true;\n            winNode.getComponent(cc.Label).string = \"+\" + point;\n            \n        }\n        else{\n            loseNode.active = true;\n            loseNode.getComponent(cc.Label).string = point;\n            \n        }\n        if (ranksScore > 0) {\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_win\").active = true;\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_lost\").active = false;\n        } else if(ranksScore < 0){\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_win\").active = false;\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_lost\").active = true;\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_win\").active = false;\n            this.node.getChildByName(\"user_info\").getChildByName(\"bg_lost\").active = false;\n        }\n\n        //显示游数\n        let endType = player.endType;//游数  0为默认值\n        let finishOrder = 0;\n        if (endType == \"ONE\") {\n            finishOrder = 1;\n        } else if (endType == \"TWO\") {\n            finishOrder = 2;\n        } else if (endType == \"THREE\") {\n            finishOrder = 3;\n        } else if (endType == \"FOUR\") {\n            finishOrder = 4;\n        } else {\n            finishOrder = -1;\n        }\n        if (finishOrder > 0) {\n            this.node.getChildByName(\"user_info\").getChildByName('you').getComponent(cc.Sprite).spriteFrame = this.icon_you[finishOrder - 1];\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName('you').getComponent(cc.Sprite).spriteFrame = \"\";\n        }\n\n        //显示敌友\n        let ranksType = player.ranksType;\n        if(ranksType == 0){\n            this.node.getChildByName(\"user_info\").getChildByName('img_du').getComponent(cc.Sprite).spriteFrame = \"\";\n        }else{\n            this.node.getChildByName(\"user_info\").getChildByName('img_du').getComponent(cc.Sprite).spriteFrame = this.dudiyou_icon[ranksType - 1];\n        }\n\n        //倍数\n        let difen = setEnd.difen;\n        let lb_difen = this.node.getChildByName(\"lb_difen\");\n        let multiple = {};\n        multiple[0] = \"1\";\n        multiple[1] = \"5\";\n        multiple[2] = \"10\";\n        lb_difen.getComponent(cc.Label).string = multiple[difen];\n\n        //显示抓分\n        let ranksTypeMap = setEnd.ranksTypeMap;\n        let lb_zhuafen = this.node.getChildByName(\"lb_zhuafen\");\n        if(ranksTypeMap[ranksType] > 0){\n            lb_zhuafen.getComponent(cc.Label).string = \"+\" + ranksTypeMap[ranksType];\n        }else{\n            lb_zhuafen.getComponent(cc.Label).string = ranksTypeMap[ranksType];\n        }\n\n        //显示拖三憋三\n        let threePoint = player.threePoint;\n        let lb_threepoint = this.node.getChildByName(\"lb_threepoint\");\n        let lb_threepointTitle = lb_threepoint.getChildByName(\"lb_threepointTitle\");\n        if(threePoint > 0){\n            lb_threepoint.getComponent(cc.Label).string = \"+\" + threePoint;\n            lb_threepointTitle.getComponent(cc.Label).string = \"拖三:\";\n        }else if(threePoint < 0){\n            lb_threepoint.getComponent(cc.Label).string =  threePoint;\n            lb_threepointTitle.getComponent(cc.Label).string = \"憋三:\";\n        }else{\n            lb_threepoint.getComponent(cc.Label).string = \"\";\n            lb_threepointTitle.getComponent(cc.Label).string = \"\";\n        }\n        \n\n        //房间分\n        let lb_roomPoint = this.node.getChildByName(\"lb_roomPoint\");\n        if(roomPoint > 0){\n            lb_roomPoint.getComponent(cc.Label).string = \"+\" + roomPoint;\n        }\n        else{\n            lb_roomPoint.getComponent(cc.Label).string = roomPoint;\n        }\n        //比赛分\n        let lb_sportsPointTitle = this.node.getChildByName(\"lb_sportsPointTitle\");\n        if (player.sportsPoint) {\n            if(player.sportsPoint > 0){\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + player.sportsPoint;\n            }\n            else{\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = player.sportsPoint;\n            }\n        }else{\n            lb_sportsPointTitle.active = false;\n        }\n\n        let playerInfo = null;\n        for(let i = 0;i < playerAll.length;i++){\n            if(player.pid == playerAll[i].pid){\n                playerInfo = playerAll[i];\n                break;\n            }\n        }\n        \n        let head = this.node.getChildByName(\"user_info\").getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        head.ShowHeroHead(playerInfo.pid);\n        //玩家名字\n        let playerName = \"\";\n        playerName = playerInfo.name;\n        if(playerName.length > 6){\n            playerName = playerName.substring(0, 6) + '...';\n        }\n        let name = this.node.getChildByName(\"user_info\").getChildByName(\"lable_name\").getComponent(cc.Label);\n        name.string = playerName;\n\n        let id = this.node.getChildByName(\"user_info\").getChildByName(\"label_id\").getComponent(cc.Label);\n        id.string = \"ID:\" + app.ComTool().GetPid(playerInfo[\"pid\"]);\n    },\n});\n"]}