{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIUserChangeSection.js"],"names":["app","require","cc","Class","extends","properties","lb_selfNum","Label","lb_xiajiNum","OnCreateInit","isChangeStart","OnShow","data","unionSectionId","node","parent","active","ResetNumber","string","shareToSelfValue","parseFloat","minAllowShareToValue","toFixed","OnClick","btnName","btnNode","CloseForm","FormManager","GetFormComponentByFormName","UpdateShareToSelfValue","Click_BtnNumber","num","substring","length","SysNotifyManager","ShowSysMsg","indexOf","split","xiajiNum"],"mappings":"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","file":"UIUserChangeSection.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["/*\n UIJoin 登陆界面\n*/\nvar app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        lb_selfNum:cc.Label,\n        lb_xiajiNum:cc.Label,\n    },\n    OnCreateInit: function () {\n        this.isChangeStart = true;\n    },\n\n    OnShow: function (data) {\n        this.data = data;\n        if (this.data.unionSectionId == -1) {\n            this.lb_xiajiNum.node.parent.active = false;\n        }else{\n            this.lb_xiajiNum.node.parent.active = true;\n        }\n        this.ResetNumber();\n    },\n\n    ResetNumber: function () {\n        this.isChangeStart = true;\n        this.lb_selfNum.string = this.data.shareToSelfValue;\n        this.lb_xiajiNum.string = parseFloat(this.data.minAllowShareToValue - this.data.shareToSelfValue).toFixed(2);\n    },\n    //---------点击函数---------------------\n    OnClick: function (btnName, btnNode) {\n        if (btnName === \"btn_close\") {\n            this.CloseForm();\n        } else if (btnName === \"btn_reset\") {\n            this.ResetNumber();\n        } else if (btnName === \"btn_save\") {\n            let data = {};\n            data.unionSectionId = this.data.unionSectionId;\n            data.shareToSelfValue = parseFloat(this.lb_selfNum.string);\n            this.FormManager.GetFormComponentByFormName(\"ui/club/UIUserSetSection\").UpdateShareToSelfValue(data);\n            this.CloseForm();\n        } else {\n            this.Click_BtnNumber(btnName);\n        }\n    },\n\n    Click_BtnNumber: function (btnName) {\n        let num = btnName.substring(btnName.length - 1);\n        if (this.isChangeStart) {\n            if (num == \".\") {\n                app.SysNotifyManager().ShowSysMsg(\"请输入正确的数字\", [], 3);\n                return;\n            }\n            this.lb_selfNum.string = num;\n        }else{\n            if (num == \".\" && this.lb_selfNum.string.indexOf(\".\") > -1) {\n                app.SysNotifyManager().ShowSysMsg(\"请输入正确的数字\", [], 3);\n                return;\n            }\n            if (this.lb_selfNum.string.split(\".\").length > 1 && this.lb_selfNum.string.split(\".\")[1].length >= 2) {\n                app.SysNotifyManager().ShowSysMsg(\"不能输入超过小数点后两位\", [], 3);\n                return;\n            }\n            this.lb_selfNum.string += num;\n        }\n        //分配给自己的不能大于可分配的值\n        let xiajiNum = parseFloat(this.data.minAllowShareToValue - parseFloat(this.lb_selfNum.string)).toFixed(2);\n        if (xiajiNum < 0) {\n            app.SysNotifyManager().ShowSysMsg(\"分配给自己的不能大于可分配的值\", [], 4);\n            this.ResetNumber();\n            return;\n        }\n        this.lb_xiajiNum.string = xiajiNum;\n        this.isChangeStart = false;\n    },\n});\n"]}