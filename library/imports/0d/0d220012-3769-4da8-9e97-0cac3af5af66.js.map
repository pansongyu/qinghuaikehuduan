{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_2/assets\\script\\ui\\club_2\\UIUnionManagerZhongZhi.js"],"names":["app","require","cc","Class","extends","properties","zhanduiDetailNode","Node","OnCreateInit","WeChatManager","InitEvent","NetManager","RegEvent","Event_CodeError","event","code","OnShow","clubId","unionId","unionName","unionPostType","myisminister","unionSign","levelPromotion","btn_defaultName","UpdateLeftBtn","ClubManager","UNION_GENERAL","lastClickBtnName","lb_Title","node","getChildByName","getComponent","Label","string","btn_default","OnClick","name","btn_newRaceRankZhongzhi","btn_RaceManageZhongzhi","Club_MINISTER_MGRSS","active","UNION_CLUB","UNION_MANAGE","UNION_CREATE","ClickLeftBtn","clickName","rightNode","allRightBtn","i","children","length","push","isClickAnyWnd","leftNode","allLeftBtn","InitData","SetWaitForConfirm","msgID","type","msgArg","cbArg","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType","backArgList","btnName","btnNode","CloseForm"],"mappings":"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","file":"UIUnionManagerZhongZhi.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_2","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        zhanduiDetailNode:cc.Node,\n    },\n\n    OnCreateInit: function () {\n        this.WeChatManager=app.WeChatManager();\n        this.InitEvent();\n    },\n    InitEvent:function(){\n        //基础网络包\n        this.NetManager=app.NetManager();\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\n    },\n    Event_CodeError:function(event){\n        let code = event[\"Code\"];\n    },\n    //--------------显示函数-----------------\n    OnShow:function(clubId, unionId, unionName, unionPostType, myisminister, unionSign, levelPromotion, btn_defaultName=\"btn_newRaceRankZhongzhi\"){\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.unionPostType = unionPostType;\n        this.myisminister = myisminister;\n        this.unionName = unionName;\n        this.unionSign = unionSign;\n        this.levelPromotion = levelPromotion;\n        this.UpdateLeftBtn();\n        if (this.unionPostType == app.ClubManager().UNION_GENERAL && this.levelPromotion > 0) {//普通成员\n            btn_defaultName = \"btn_RaceManageZhongzhi\";\n        }\n        this.lastClickBtnName = \"\";\n        let lb_Title = this.node.getChildByName(\"bg_create\").getChildByName(\"lb_Title\");\n        lb_Title.getComponent(cc.Label).string = unionName + \"（ID:\" + unionSign + \"）\";\n        let btn_default = this.node.getChildByName(\"left\").getChildByName(btn_defaultName);\n        this.OnClick(btn_default.name,btn_default);\n    },\n    UpdateLeftBtn:function(){\n        let btn_newRaceRankZhongzhi = this.node.getChildByName(\"left\").getChildByName(\"btn_newRaceRankZhongzhi\");\n        let btn_RaceManageZhongzhi = this.node.getChildByName(\"left\").getChildByName(\"btn_RaceManageZhongzhi\");\n        if(this.myisminister == app.ClubManager().Club_MINISTER_MGRSS){//赛事管理\n            btn_RaceManageZhongzhi.active = true;\n            btn_newRaceRankZhongzhi.active = true;\n        }else if (this.unionPostType == app.ClubManager().UNION_GENERAL) {//普通成员\n            btn_RaceManageZhongzhi.active = false;\n            btn_newRaceRankZhongzhi.active = false;\n            if (this.levelPromotion > 0) {\n                btn_RaceManageZhongzhi.active = true;\n            }\n        }else if(this.unionPostType == app.ClubManager().UNION_CLUB){//亲友圈创建者\n            btn_RaceManageZhongzhi.active = true;\n            btn_newRaceRankZhongzhi.active = true;\n        }else if(this.unionPostType == app.ClubManager().UNION_MANAGE){//赛事管理\n            btn_RaceManageZhongzhi.active = true;\n            btn_newRaceRankZhongzhi.active = true;\n        }else if(this.unionPostType == app.ClubManager().UNION_CREATE){//赛事创建者\n            btn_RaceManageZhongzhi.active = true;\n            btn_newRaceRankZhongzhi.active = true;\n        }\n\n    },\n    ClickLeftBtn:function(clickName){\n        let rightNode = this.node.getChildByName(\"right\");\n        let allRightBtn = [];\n        for (let i = 0; i < rightNode.children.length; i++) {\n            allRightBtn.push(rightNode.children[i]);\n        }\n        for (let i = 0; i < allRightBtn.length; i++) {\n            if (allRightBtn[i].name == this.lastClickBtnName + \"Node\") {\n                if (allRightBtn[i].getComponent(allRightBtn[i].name).isClickAnyWnd) {\n                    allRightBtn[i].getComponent(allRightBtn[i].name).isClickAnyWnd = false;\n                    return;\n                }\n            }\n        }\n        this.lastClickBtnName = clickName;\n        let leftNode = this.node.getChildByName(\"left\");\n        let allLeftBtn = [];\n        for (let i = 0; i < leftNode.children.length; i++) {\n            allLeftBtn.push(leftNode.children[i]);\n        }\n        for (let i = 0; i < allLeftBtn.length; i++) {\n            if (allLeftBtn[i].name == clickName) {\n                allLeftBtn[i].getChildByName(\"img_off\").active = false;\n                allLeftBtn[i].getChildByName(\"lb_off\").active = false;\n                allLeftBtn[i].getChildByName(\"img_on\").active = true;\n                allLeftBtn[i].getChildByName(\"lb_on\").active = true;\n            }else{\n                allLeftBtn[i].getChildByName(\"img_off\").active = true;\n                allLeftBtn[i].getChildByName(\"lb_off\").active = true;\n                allLeftBtn[i].getChildByName(\"img_on\").active = false;\n                allLeftBtn[i].getChildByName(\"lb_on\").active = false;\n            }\n        }\n        for (let i = 0; i < allRightBtn.length; i++) {\n            if (allRightBtn[i].name == clickName + \"Node\") {\n                allRightBtn[i].active = true;\n                allRightBtn[i].getComponent(allRightBtn[i].name).InitData(this.clubId, this.unionId, this.unionPostType, this.myisminister, this.unionName, this.unionSign, this.levelPromotion);\n            }else{\n                allRightBtn[i].active = false;\n            }\n        }\n    },\n    //---------点击函数---------------------\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[]){\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\n    },\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            if('MSG_UNOIN_SAVE' == msgID){\n                this.ClickLeftBtn(backArgList[0]);\n            }\n            return;\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if('btn_close'==btnName){\n            if (this.zhanduiDetailNode.active && this.unionPostType != app.ClubManager().UNION_GENERAL) {\n                this.zhanduiDetailNode.active = false;\n                return;\n            }\n            this.CloseForm();\n        }else if('btn_RaceManageZhongzhi'==btnName){\n            this.ClickLeftBtn(btnName);\n        }else if('btn_newRaceRankZhongzhi'==btnName){\n            this.ClickLeftBtn(btnName);\n        }\n    },\n});"]}