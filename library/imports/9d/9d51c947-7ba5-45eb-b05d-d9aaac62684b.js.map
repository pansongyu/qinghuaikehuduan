{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIClubUserMessageNew.js"],"names":["app","require","cc","Class","extends","properties","jiantouSprite","SpriteFrame","allMsgTypeDemo","Prefab","OnCreateInit","btn_msg_more","node","getChildByName","btn_msg_sanshitian","btn_msg_santian","btn_msg_yesterday","btn_msg_today","messageScrollView","RegEvent","Event_UnionDynamic","pageMsgNum","clubNameColor","nameColor","actionColor","valueColor","Msg_AllType","OnShow","clubId","unionId","unionName","unionSign","pid","opClubId","btn_defaultName","lb_Title","getComponent","Label","string","content","DestroyAllChildren","ScrollView","scrollToTop","Layout","updateLayout","curDateType","ShowBtn","chooseType","curServerPage","curClientPage","needGetNewMsg","allMsgList","btn_default","OnClick","name","active","ClubManager","GetUnionTypeByLastClubData","btnLable","GetMsgListByPage","tempMsgList","length","startIndex","endIndex","i","push","UpdateScrollView","msgList","isRefresh","SysNotifyManager","ShowSysMsg","msgType","GetMsgTypeByExecType","execType","console","log","demo","msgNode","instantiate","InitData","addChild","totalNum","toFixed","indexOf","btnName","btnNode","CloseForm","img_jiantou","Sprite","spriteFrame","SendPackByType","startsWith","replace","ClickLeftBtn","ErrLog","clickName","leftNode","allLeftBtn","children","isClearMsgList","sendPack","getType","pageNum","self","NetManager","SendPack","serverPack","concat","num","opPid","event","unionDynamicItemList"],"mappings":"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","file":"UIClubUserMessageNew.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["/*\n    UIMessage 模态消息界面\n*/\n\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        jiantouSprite:[cc.SpriteFrame],\n        allMsgTypeDemo:[cc.Prefab]\n    },\n\n    //初始化\n    OnCreateInit:function(){\n        this.btn_msg_more = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_more\");\n        this.btn_msg_sanshitian = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_sanshitian\");\n        this.btn_msg_santian = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_santian\");\n        this.btn_msg_yesterday = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_yesterday\");\n        this.btn_msg_today = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_today\");\n        let messageScrollView = this.node.getChildByName(\"messageScrollView\");\n\n\n        this.RegEvent(\"OnUnionDynamic\", this.Event_UnionDynamic, this);\n\n        this.pageMsgNum = 20;\n\n        this.clubNameColor = \"<color=#fa59bc>\";\n        this.nameColor = \"<color=#67b619>\";\n        this.actionColor = \"<color=#e94817>\";\n        this.valueColor = \"<color=#e6910b>\";\n        this.Msg_AllType = [\n        //异常补偿的消息0\n        [\n        /**\n         * 赛事疲劳值增加 this.UNION_EXEC_SPORTS_POINT_ADD = \n         */\n        1,\n        /**\n         * 亲友圈疲劳值增加 this.UNION_CLUB_EXEC_SPORTS_POINT_ADD = \n         */\n        114,\n        /**\n         * 补偿增加比赛分 this.UNION_EXEC_COMPENSATE_SPORTS_POINT_ADD= \n         */\n        124,\n        /**\n        * 补偿增加比赛分 this.UNION_EXEC_COMPENSATE_SPORTS_POINT_ADD_SELF= \n        */\n        133],\n        //异常处罚的消息1\n        [\n        /**\n         * 赛事疲劳值减少 this.UNION_EXEC_SPORTS_POINT_MINUS = \n         */\n        2,\n\n        /**\n         * 亲友圈疲劳值减少 this.UNION_CLUB_EXEC_SPORTS_POINT_MINUS = \n         */\n        115,\n        /**\n         * 补偿减少比赛分 this.UNION_EXEC_COMPENSATE_SPORTS_POINT_MINUS= \n         */\n        125,\n        /**\n        * 补偿减少比赛分 this.UNION_EXEC_COMPENSATE_SPORTS_POINT_MINUS_SELF= \n        */\n        134],\n        //授权增加的消息2\n        [\n        /**\n         * 授权增加比赛分 this.UNION_EXEC_EMPOWER_SPORTS_POINT_ADD= \n         */\n        122,\n        /**\n        * 授权增加比赛分 this.UNION_EXEC_EMPOWER_SPORTS_POINT_ADD_SELF= \n        */\n        131,\n        /**\n         * 跨级变换增加 CLUB_KUAJI_SPOINTCHANGE_ADD\n         */\n        1020],\n        //授权减少的消息3\n        [\n        /**\n         * 授权减少比赛分this.UNION_EXEC_EMPOWER_SPORTS_POINT_MINUS= \n         */\n        123,\n        /**\n        * 授权减少比赛分this.UNION_EXEC_EMPOWER_SPORTS_POINT_MINUS_SELF= \n        */\n        132,\n        /**\n         * 跨级变换减少 CLUB_KUAJI_SPOINTCHANGE_SUB\n         */\n        1021],\n        //报名费的消息4\n        [\n        /**\n         * 房费竞技点(赢家报名费)this.UNION_ROOM_EXEC_SPORTS_POINT = \n         */\n        119,\n        /**\n         * 报名费增加this.UNION_ROOM_EXEC_SPORTS_POINT_ENTRY_FEE_ADD= \n         */\n        126,\n        /**\n         * 报名费增加新类型this.UNION_ROOM_EXEC_SPORTS_POINT_ENTRY_FEE_ADDNew= \n         */\n        1006,\n        1008,\n        /**\n         * 推广员竞技点收益收入分成到保险箱UNION_EXEC_PROMOTION_SHARE_INCOME_CASEPOINT\n         */\n        1013],\n        //输赢比赛分的消息5\n        [\n        /**\n         * 比赛分增加 this.UNION_ROOM_EXEC_SPORTS_POINT_ADD = \n         */\n        120,\n        /**\n         * 比赛分减少 this.UNION_ROOM_EXEC_SPORTS_POINT_MINUS = \n         */\n        121],\n        //洗牌费的消息6\n        [\n        /**\n         * 洗牌消耗的比赛分this.UNION_ROOM_QIEPAI_CONSUME= \n         */\n        129,\n        /**\n         * 洗牌收入的比赛分this.UNION_ROOM_QIEPAI_INCOME= \n         */\n        130],\n        //保险柜的消息7\n        [\n        /**\n         * 保险箱增加新类型this.PLAYER_CASE_SPORTS_POINT_ADD= \n         */\n        1009,\n        /**\n         * 保险箱减少新类型this.PLAYER_CASE_SPORTS_POINT_SUB= \n         */\n        1010,\n        /**\n         * 保险箱关闭新类型this.UNION_CASE_SPORTS_POINT_CLOSE= \n         */\n        1011],\n        //分层修改的消息8\n        [\n        /**\n         * 分层修改this.UNION_EXEC_BILI_CHANGE = \n         */\n        3,\n        /**\n         * 预留值修改this.UNION_EXEC_RESERVED_VALUE_CHANGE = \n         */\n        48,\n        /**\n         * 亲友圈收益变为区间分成UNION_EXEC_SHARE_SECTION\n         */\n        49],\n        //踢出玩家的消息9\n        [\n        /**\n         * 被踢出，玩家强制从保险箱取出this.UNION_CASE_SPORTS_POINT_TICHU= \n         */\n        1012],\n        //预警值消息10\n        [\n        /**\n         * 推广员预警值关闭this.UNION_EXEC_SPORTS_WARNING_CLOSE= \n         */\n        40,\n        /**\n         * 推广员预警值修改this.UNION_EXEC_SPORTS_WARNING_CHANGE= \n         */\n        41,\n        /**\n         * 个人预警值关闭this.UNION_EXEC_PERSONAL_SPORTS_WARNING_CLOSE= \n         */\n        46,\n        /**\n         * 个人预警值修改this.UNION_EXEC_PERSONAL_SPORTS_WARNING_CHANGE= \n         */\n        47],\n        //审核比赛分消息11\n        [\n        /**\n         * 发起审核增加比赛分this.UNION_EXEC_EXAMINE_SPORTS_POINT_ADD_EXE= \n         */\n        137,\n        /**\n         * 发起审核减少比赛分this.UNION_EXEC_EXAMINE_SPORTS_POINT_MINUS_EXE= \n         */\n        138,\n        /**\n         * 被审核增加比赛分this.UNION_EXEC_EXAMINE_SPORTS_POINT_ADD_OP= \n         */\n        139,\n        /**\n         * 被审核减少比赛分this.UNION_EXEC_EXAMINE_SPORTS_POINT_MINUS_Op= \n         */\n        140],\n        //区间分成消息12\n        [\n        /**\n         * 推广员区间分成修改PROMOTION_EXEC_SHARE_SECTION_CHANGE\n         */\n        50,\n        /**\n         * 推广员区间分成分牌修改PROMOTION_EXEC_SHARE_SECTION_ALLOW_CHANGE\n         */\n        51],\n        //区间分成消息13\n        [\n        /**\n         * 新报名费\n         */\n        1014],\n        //区间分成消息14\n        [\n        /**\n        * 生存积分关闭\n        */\n        1016,\n        /**\n         * 生存积分开启\n         */\n        1017,\n        /**\n         * 生存积分变换\n         */\n        1018,\n        /*\n        * 淘汰分\n        */\n        1019],\n        //区间分成消息15\n        [\n        //直属玩家被踢出 CLUB_ZHI_SHU_TICHU\n        1022,\n        //直属玩家加入 CLUB_ZHI_SHU_JIARU\n        1023\n        ],\n        //区间分成消息16\n        [\n        //直属玩家被修改归属 CLUB_ZHI_SHU_CHANGE_BELONG\n        1024\n        ]\n        ];\n    },\n\n    //---------显示函数--------------------\n    OnShow:function(clubId,unionId,unionName, unionSign,pid=0,opClubId=0,  btn_defaultName=\"btn_ChooseType_0\"){\n        let lb_Title = this.node.getChildByName(\"bg_create\").getChildByName(\"lb_Title\");\n        lb_Title.getComponent(cc.Label).string = unionName + \"（ID:\" + unionSign + \"）\";\n\n        let messageScrollView = this.node.getChildByName(\"messageScrollView\");\n        let content = messageScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        this.DestroyAllChildren(content);\n        messageScrollView.getComponent(cc.ScrollView).scrollToTop();\n        content.getComponent(cc.Layout).updateLayout();\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.pid = pid;\n        this.opClubId = opClubId;\n        this.curDateType = 0;\n        this.ShowBtn();\n        this.chooseType = 0;\n        //服务端下发的页数\n        this.curServerPage = 1;\n        this.curClientPage = 1;\n        this.needGetNewMsg = false;\n        this.allMsgList = [];//客户端本地缓存消息，避免翻页频繁请求\n        let btn_default = this.node.getChildByName(\"left\").getChildByName(btn_defaultName);\n        this.OnClick(btn_default.name,btn_default);\n\n\n        //是否显示生存任务\n        this.node.getChildByName(\"left\").getChildByName(\"btn_ChooseType_8\").active=app.ClubManager().GetUnionTypeByLastClubData()==1;\n        this.node.getChildByName(\"left\").getChildByName(\"btn_ChooseType_9\").active=app.ClubManager().GetUnionTypeByLastClubData()==1;\n        this.node.getChildByName(\"left\").getChildByName(\"btn_ChooseType_6\").active=app.ClubManager().GetUnionTypeByLastClubData()==0; //中至的不显示保险柜\n        //btn_ChooseType_6\n        this.node.getChildByName(\"left\").getChildByName(\"btn_ChooseType_3\").active=false;\n\n        // btn_default = this.node.getChildByName(\"time\").getChildByName(\"btn_msg_today\");\n        // this.OnClick(btn_default.name,btn_default);\n    },\n\n    ShowBtn:function(){\n        this.btn_msg_today.active = false;\n        this.btn_msg_yesterday.active = false;\n        this.btn_msg_santian.active = false;\n        this.btn_msg_sanshitian.active = false;\n        let btnLable = this.btn_msg_more.getChildByName(\"label\").getComponent(cc.Label);\n        if (this.curDateType == 0) {\n            btnLable.string = \"今  天\";\n        }else if (this.curDateType == 1) {\n            btnLable.string = \"昨  天\";\n        }else if (this.curDateType == 2) {\n            btnLable.string = \"近三天\";\n        }else if (this.curDateType == 3) {\n            btnLable.string = \"近三十天\";\n        }else if (this.curDateType == 5) {\n            btnLable.string = \"近七天\";\n        }\n    },\n    //获取\n    GetMsgListByPage:function(){\n        let tempMsgList = [];\n        if (this.allMsgList.length > (this.curClientPage - 1)*this.pageMsgNum) {\n            let startIndex = (this.curClientPage - 1)*this.pageMsgNum;\n            let endIndex = startIndex + this.pageMsgNum;\n            if ((this.allMsgList.length - endIndex) <= (this.pageMsgNum*2)) {\n                this.needGetNewMsg = true;\n            }\n            for (let i = startIndex; i < endIndex; i++) {\n                if (typeof(this.allMsgList[i]) != \"undefined\") {\n                    tempMsgList.push(this.allMsgList[i]);\n                }else{\n                    this.needGetNewMsg = false;\n                    break;\n                }\n            }\n        }\n        return tempMsgList;\n    },\n    UpdateScrollView:function(msgList, isRefresh){\n        if (msgList.length == 0 && this.curClientPage > 1) {\n            app.SysNotifyManager().ShowSysMsg('已经到最后一页了',[],3);\n            return;\n        }\n        this.node.getChildByName(\"page\").getChildByName(\"lb_page\").getComponent(cc.Label).string = this.curClientPage;\n        let messageScrollView = this.node.getChildByName(\"messageScrollView\");\n        let content = messageScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        if (isRefresh) {\n            this.DestroyAllChildren(content);\n            messageScrollView.getComponent(cc.ScrollView).scrollToTop();\n            content.getComponent(cc.Layout).updateLayout();\n        }\n        for (let i = 0; i < msgList.length; i++) {\n            let msgType = this.GetMsgTypeByExecType(msgList[i].execType);\n            if (msgType == -1) {\n                console.log(\"未知消息类型:\"+msgList[i].execType);\n                continue;\n            }\n            let demo = this.allMsgTypeDemo[msgType];\n            if (typeof(demo) == \"undefined\" || demo == null) {\n                console.log(\"未找到消息预设体:\"+msgType);\n                continue;\n            }\n            let msgNode = cc.instantiate(demo);\n            msgNode.getComponent(msgNode.name).InitData(msgList[i]);\n            content.addChild(msgNode);\n        }\n        this.node.getChildByName(\"total\").getComponent(cc.Label).string = \"总计:\" + (this.totalNum || 0).toFixed(2)\n    },\n    GetMsgTypeByExecType:function(execType){\n        for (let i = 0; i < this.Msg_AllType.length; i++) {\n            if (this.Msg_AllType[i].indexOf(execType) > -1) {\n                return i;\n            }\n        }\n        return -1;\n    },\n    //---------点击函数---------------------\n\tOnClick:function(btnName, btnNode){\n\t\tif('btn_close'==btnName){\n            this.CloseForm();\n        }else if('btn_msg_more'==btnName){\n            this.btn_msg_today.active = !this.btn_msg_today.active;\n            this.btn_msg_yesterday.active = !this.btn_msg_yesterday.active;\n            this.btn_msg_santian.active = !this.btn_msg_santian.active;\n            //this.btn_msg_sanshitian.active = !this.btn_msg_sanshitian.active;\n            let img_jiantou = this.btn_msg_more.getChildByName(\"img_jiantou\").getComponent(cc.Sprite);\n            if (this.btn_msg_today.active) {\n                img_jiantou.spriteFrame = this.jiantouSprite[1];\n            }else{\n                img_jiantou.spriteFrame = this.jiantouSprite[0];\n            }\n        }else if('btn_msg_today' == btnName){\n            this.curDateType = 0;\n            this.ShowBtn();\n            this.SendPackByType(true, true);\n        }else if('btn_msg_yesterday' == btnName){\n            this.curDateType = 1;\n            this.ShowBtn();\n            this.SendPackByType(true, true);\n        }else if('btn_msg_santian' == btnName){\n            this.curDateType = 2;\n            this.ShowBtn();\n            this.SendPackByType(true, true);\n        }else if('btn_msg_sanshitian' == btnName){\n            this.curDateType = 3;\n            this.ShowBtn();\n            this.SendPackByType(true, true);\n        }else if('btn_next' == btnName){\n            if (this.needGetNewMsg) {\n                this.curServerPage++;\n                this.SendPackByType(true, false);\n            }\n            this.curClientPage++;\n            let msgList = this.GetMsgListByPage();\n            if (msgList.length > 0) {\n                this.UpdateScrollView(msgList, true);\n            }else{\n                this.curClientPage--;\n            }\n        }else if('btn_last' == btnName){\n            if (this.curClientPage <= 1) {\n                return;\n            }\n            this.curClientPage--;\n            let msgList = this.GetMsgListByPage();\n            this.UpdateScrollView(msgList, true);\n        }else if (btnName.startsWith(\"btn_ChooseType_\")) {\n            this.curServerPage = 1;\n            this.curClientPage = 1;\n            this.needGetNewMsg = false;\n            this.allMsgList = [];\n            this.chooseType = btnName.replace('btn_ChooseType_','');\n            this.ClickLeftBtn(btnName);\n            this.node.getChildByName(\"total\").active = (this.chooseType == 7)\n        }\n        else{\n\t\t\tthis.ErrLog(\"OnClick:%s not find\", btnName);\n\t\t}\n\t},\n\n    ClickLeftBtn:function(clickName){\n        let leftNode = this.node.getChildByName(\"left\");\n        let allLeftBtn = [];\n        for (let i = 0; i < leftNode.children.length; i++) {\n            allLeftBtn.push(leftNode.children[i]);\n        }\n        for (let i = 0; i < allLeftBtn.length; i++) {\n            if (allLeftBtn[i].name == clickName) {\n                allLeftBtn[i].getChildByName(\"img_off\").active = false;\n                allLeftBtn[i].getChildByName(\"lb_off\").active = false;\n                allLeftBtn[i].getChildByName(\"img_on\").active = true;\n                allLeftBtn[i].getChildByName(\"lb_on\").active = true;\n            }else{\n                allLeftBtn[i].getChildByName(\"img_off\").active = true;\n                allLeftBtn[i].getChildByName(\"lb_off\").active = true;\n                allLeftBtn[i].getChildByName(\"img_on\").active = false;\n                allLeftBtn[i].getChildByName(\"lb_on\").active = false;\n            }\n        }\n        this.SendPackByType(true, true);\n    },\n    SendPackByType:function(isRefresh, isClearMsgList){\n        let sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.unionId = this.unionId;\n        sendPack.getType = this.curDateType;\n        sendPack.chooseType = this.chooseType;\n        sendPack.pageNum = this.curServerPage;\n        let self = this;\n        if (this.pid == 0) {\n            app.NetManager().SendPack(\"club.CClubSportsPointDynamicByPid\",sendPack, function(serverPack){\n                self.totalNum = 0\n                if (isClearMsgList) {\n                    self.allMsgList = serverPack;\n                } else {\n                    self.allMsgList.concat(serverPack);\n                }\n                for (let i = 0; i < self.allMsgList.length; i++) {\n                    self.totalNum += (self.allMsgList[i].num || 0)\n                }\n                self.curServerPage = 1; //服务端只有第一页的数据走原接口返回，其他走通知消息\n                self.curClientPage = 1;\n                self.UpdateScrollView(self.GetMsgListByPage(), isRefresh);\n            }, function(){\n                app.SysNotifyManager().ShowSysMsg(\"获取列表失败\",[],3);\n            });\n        }else{\n            if (this.opClubId == 0) {\n                sendPack.pid = this.pid;\n                app.NetManager().SendPack(\"club.CClubSportsPointMemberDynamicByPid\",sendPack, function(serverPack){\n                    if (isClearMsgList) {\n                        self.allMsgList = serverPack;\n                    }else{\n                        self.allMsgList.concat(serverPack);\n                    }\n                    self.curServerPage = 1;//服务端只有第一页的数据走原接口返回，其他走通知消息\n                    self.curClientPage = 1;\n                    self.UpdateScrollView(self.GetMsgListByPage(), isRefresh);\n                }, function(){\n\n                }); \n            }else{\n                sendPack.opPid = this.pid;\n                sendPack.opClubId = this.opClubId;\n                app.NetManager().SendPack(\"union.CUnionSportsPointMemberDynamicByPid\",sendPack, function(serverPack){\n                    if (isClearMsgList) {\n                        self.allMsgList = serverPack;\n                    }else{\n                        self.allMsgList.concat(serverPack);\n                    }\n                    self.curServerPage = 1;//服务端只有第一页的数据走原接口返回，其他走通知消息\n                    self.curClientPage = 1;\n                    self.UpdateScrollView(self.GetMsgListByPage(), isRefresh);\n                }, function(){\n\n                });\n            }\n        }\n    },\n    //接收服务端异步通知消息，合并消息数组\n    Event_UnionDynamic:function(event){\n        for (let i = 0; i < event.unionDynamicItemList.length; i++) {\n            if (this.allMsgList.indexOf(event.unionDynamicItemList[i]) < 0) {\n                this.allMsgList.push(event.unionDynamicItemList[i]);\n            }\n        }\n        // this.allMsgList.concat(event.unionDynamicItemList);\n        this.curServerPage = event.pageNum;\n        this.needGetNewMsg = false;\n    },\n});\n"]}