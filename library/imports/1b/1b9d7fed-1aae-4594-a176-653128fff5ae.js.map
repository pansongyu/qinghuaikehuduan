{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIClubManagerNew.js"],"names":["app","require","cc","Class","extends","properties","btn_outclub","Node","btn_dissolveclub","btn_diamond","OnCreateInit","OnShow","clubId","unionId","myisminister","ClubManager","Club_MINISTER_CREATER","active","SetWaitForConfirm","msgID","type","msgArg","cbArg","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType","backArgList","SendPlayerStateChange","HeroManager","GetHeroProperty","Enum_Leave","FormManager","CloseFormReal","CloseForm","OnClick","btnName","btnNode","ShareDefine","Confirm","ShowForm","ErrLog"],"mappings":"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","file":"UIClubManagerNew.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["/*\n    UIMessage 模态消息界面\n*/\n\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        btn_outclub:cc.Node,\n        btn_dissolveclub:cc.Node,\n        btn_diamond:cc.Node,\n    },\n\n    //初始化\n    OnCreateInit:function(){\n\n    },\n\n    //---------显示函数--------------------\n    OnShow:function(clubId,unionId,myisminister){\n        this.clubId = clubId;\n        this.unionId=unionId;\n        this.myisminister = myisminister;\n        if (this.myisminister == app.ClubManager().Club_MINISTER_CREATER) {\n            this.btn_outclub.active = false;\n            this.btn_dissolveclub.active = true;\n            this.btn_diamond.active = unionId==0;\n        }else{\n            this.btn_outclub.active = true;\n            this.btn_dissolveclub.active = false;\n            this.btn_diamond.active = false;\n        }\n    },\n    //---------点击函数---------------------\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[]){\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\n    },\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return\n        }\n        if('MSG_CLUB_DissolveRoom' == msgID){\n            //this.FormManager.ShowForm('ui/club/UIClubDissolve',this.clubId,this.myisminister);\n            //app.ClubManager().SendCloseClub(this.clubId);\n            //this.FormManager.CloseFormReal('ui/club/UIClubMain');\n        }else if('MSG_CLUB_EXIT' == msgID){\n            app.ClubManager().SendPlayerStateChange(this.clubId,app.HeroManager().GetHeroProperty(\"pid\"),app.ClubManager().Enum_Leave);\n            this.FormManager.CloseFormReal('ui/club/UIClubMain');\n        }\n        this.CloseForm();\n    },\n    //---------点击函数---------------------\n\n\tOnClick:function(btnName, btnNode){\n\t\tif('btn_close'==btnName){\n        \tthis.CloseForm();\n        }else if('btn_outclub'==btnName){\n            this.SetWaitForConfirm('MSG_CLUB_EXIT',this.ShareDefine.Confirm,[],[]);\n        }else if('btn_dissolveclub'==btnName){\n            this.FormManager.ShowForm('ui/club/UIClubDissolve',this.clubId,0,1);\n            this.CloseForm();\n            //this.SetWaitForConfirm('MSG_CLUB_DissolveRoom',this.ShareDefine.Confirm,[],[]);\n        }else if('btn_diamond'==btnName){\n            this.FormManager.ShowForm('ui/club/UIClubDiamond',this.clubId,this.unionId);\n            this.CloseForm();\n            //this.SetWaitForConfirm('MSG_CLUB_DissolveRoom',this.ShareDefine.Confirm,[],[]);\n        }else{\n\t\t\tthis.ErrLog(\"OnClick:%s not find\", btnName);\n\t\t}\n\t},\n});\n"]}