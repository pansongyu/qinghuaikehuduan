{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\dbmanager\\Confirm/assets\\script\\dbmanager\\Confirm\\ConfirmManager.js"],"names":["app","require","ConfirmManager","BaseClass","extend","Init","JS_Name","_ConfirmFunc","_ConfirmMsgID","_ConfirmBackArgList","SysNotifyManager","Log","SetWaitForConfirmForm","curFunc","msgID","backArgList","ErrLog","SetConfirmArgList","ShowConfirm","confirmType","msgArgList","content","lbSure","lbCancle","GetSysMsgContentByMsgID","FormManager","ShowForm","CloseAllBox","ShowBuyMsg","ShowUseMsg","OnConFirmResult","clickType","func","argList","g_ConfirmManager","exports","GetModel"],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;AAcA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;AACA;;;AAGA,IAAIC,iBAAiBF,IAAIG,SAAJ,CAAcC,MAAd,CAAqB;;AAEzC;;;AAGAC,OAAK,gBAAU;AACd,OAAKC,OAAL,GAAe,gBAAf;AACA;AACA,OAAKC,YAAL,GAAoB,IAApB;;AAEA;AACA,OAAKC,aAAL,GAAqB,EAArB;;AAEA;AACA,OAAKC,mBAAL,GAA2B,EAA3B;;AAEA,OAAKC,gBAAL,GAAwBV,IAAIU,gBAAJ,EAAxB;AACA,OAAKC,GAAL,CAAS,uBAAT;AAEA,EAnBwC;;AAsBzC;;;;;;AAMAC,wBAAsB,+BAASC,OAAT,EAAkBC,KAAlB,EAAyBC,WAAzB,EAAqC;;AAE1D;AACA,MAAG,OAAOF,OAAP,IAAmB,UAAtB,EAAiC;AAChC,QAAKG,MAAL,CAAY,mCAAZ,EAAiDH,OAAjD,EAA0DC,KAA1D;AACA;AACA;AACD,OAAKP,YAAL,GAAoBM,OAApB;AACA,OAAKL,aAAL,GAAqBM,KAArB;AACA,OAAKL,mBAAL,GAA2BM,WAA3B;AACA,EAtCwC;;AAwCzC;;;;;;AAMAE,oBAAkB,2BAASF,WAAT,EAAqB;AACtC,OAAKN,mBAAL,GAA2BM,WAA3B;AACA,EAhDwC;;AAkDzC;;;;;;AAMAG,cAAY,qBAASC,WAAT,EAAsBL,KAAtB,EAA6BM,UAA7B,EAA+E;AAAA,MAAtCC,OAAsC,uEAA5B,EAA4B;AAAA,MAAxBC,MAAwB,uEAAhB,EAAgB;AAAA,MAAZC,QAAY,uEAAH,EAAG;;AAC1F,MAAIF,WAAW,EAAf,EAAmB;AAClBA,aAAU,KAAKX,gBAAL,CAAsBc,uBAAtB,CAA8CV,KAA9C,EAAqDM,UAArD,CAAV;AACA;AACDpB,MAAIyB,WAAJ,GAAkBC,QAAlB,CAA2B,WAA3B,EAAwC,WAAxC,EAAqDP,WAArD,EAAkEL,KAAlE,EAAyEM,UAAzE,EAAqFC,OAArF,EAA8FC,MAA9F,EAAsGC,QAAtG;AACA,EA7DwC;;AA+DzC;;;;;;AAMAI,cAAY,uBAAU,CACrB,CAtEwC;;AAwEzC;;;;;;AAMAC,aAAW,oBAASd,KAAT,EAAgBM,UAAhB,EAA2B;AACrCpB,MAAIyB,WAAJ,GAAkBC,QAAlB,CAA2B,gBAA3B,EAA6CZ,KAA7C,EAAoDM,UAApD;AACA,EAhFwC;;AAmFzC;;;;;;AAMAS,aAAW,oBAASf,KAAT,EAAgBM,UAAhB,EAA2B;AACrC,OAAKJ,MAAL,CAAY,YAAZ;AACA,EA3FwC;;AA6FzC;;;;;;AAMAc,kBAAgB,yBAASC,SAAT,EAAmB;;AAElC,MAAG,CAAC,KAAKxB,YAAT,EAAsB;AACrB;AACA;;AAED,MAAG,OAAO,KAAKA,YAAZ,IAA6B,UAAhC,EAA2C;AAC1C,QAAKS,MAAL,CAAY,iCAAZ,EAA+C,KAAKT,YAApD;AACA;AACA;AACD;AACA,MAAIO,QAAQ,KAAKN,aAAjB;AACA,MAAIwB,OAAO,KAAKzB,YAAhB;AACA,MAAI0B,UAAU,KAAKxB,mBAAnB;;AAEA,OAAKF,YAAL,GAAoB,IAApB;AACA,OAAKE,mBAAL,GAA2B,EAA3B;;AAEAuB,OAAKD,SAAL,EAAgBjB,KAAhB,EAAuBmB,OAAvB;AACA;;AAtHwC,CAArB,CAArB;;AA0HA;AACA,IAAIC,mBAAmB,IAAvB;;AAEA;;;AAGAC,QAAQC,QAAR,GAAmB,YAAU;AAC5B,KAAI,CAACF,gBAAL,EACCA,mBAAmB,IAAIhC,cAAJ,EAAnB;;AAED,QAAOgC,gBAAP;AAEA,CAND","file":"ConfirmManager.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\dbmanager\\Confirm","sourcesContent":["/*\n * \tConfirmManager.js\n * \t2次确认框管理器\n * \n *\tauthor:hongdian\n *\tdate:2014-10-28\n *\tversion:1.0\n *\n * 修改时间 修改人 修改内容:\n * \n * change: \"2014-10-28 20:24\" hongdian 同步C++\n * \n */\n\nvar app = require('app');\n/**\n * 类构造\n */\nvar ConfirmManager = app.BaseClass.extend({\n\t\n\t/**\n\t * 初始化函数\n\t */\n\tInit:function(){\n\t\tthis.JS_Name = \"ConfirmManager\";\n\t\t//等待玩家确认执行函数\n\t\tthis._ConfirmFunc = null;\n\n\t\t//等待事件类型\n\t\tthis._ConfirmMsgID = \"\";\n\n\t\t//等待事件附加参数列表\n\t\tthis._ConfirmBackArgList = [];\n\n\t\tthis.SysNotifyManager = app.SysNotifyManager();\n\t\tthis.Log(\"create ConfirmManager\");\n\n\t},\n\n\t\n\t/**\n\t * 记录等待确认界面事件\n\t * @param {}  curFunc 回调函数\n\t * @return {} 0/1\n\t * @remarks {} PY调用  \n\t */\n\tSetWaitForConfirmForm:function(curFunc, msgID, backArgList){\n\n\t\t//界面不存在\n\t\tif(typeof(curFunc) != \"function\"){\n\t\t\tthis.ErrLog(\"SetWaitForConfirmForm(%s,%s)error\", curFunc, msgID);\n\t\t\treturn;\n\t\t}\n\t\tthis._ConfirmFunc = curFunc;\n\t\tthis._ConfirmMsgID = msgID;\n\t\tthis._ConfirmBackArgList = backArgList;\n\t},\n\n\t/**\n\t * 修改事件回调参数列表\n\t * @param {}  curFunc 回调函数\n\t * @return {} 0/1\n\t * @remarks {} PY调用\n\t */\n\tSetConfirmArgList:function(backArgList){\n\t\tthis._ConfirmBackArgList = backArgList;\n\t},\n\n\t/**\n\t * 带有\"确定\"和\"取消\"按钮的消息提示框\n\t * @param {}  msgID 提示信息id\n\t * @return {} 0/1\n\t * @remarks {} PY调用      \n\t */\n\tShowConfirm:function(confirmType, msgID, msgArgList, content = \"\", lbSure =\"\", lbCancle=\"\"){\n\t\tif (content == \"\") {\n\t\t\tcontent = this.SysNotifyManager.GetSysMsgContentByMsgID(msgID, msgArgList);\n\t\t}\n\t\tapp.FormManager().ShowForm(\"UIMessage\", \"OnConFirm\", confirmType, msgID, msgArgList, content, lbSure, lbCancle)\n\t},\n\n\t/**\n\t * 关闭全部提示框界面\n\t * @param {}  self 类本身 \n\t * @return {} 无\n\t * @remarks {} 函数详细说明:关闭全部提示框界面\n\t */\n\tCloseAllBox:function(){\n\t},\n\n\t/**\n\t * 显示购买按钮\n\t * @param {}  msgID 提示信息id\n\t * @return {} 0/1\n\t * @remarks {} PY调用\n\t */\n\tShowBuyMsg:function(msgID, msgArgList){\n\t\tapp.FormManager().ShowForm(\"UIAmountAffirm\", msgID, msgArgList)\n\t},\n\n\n\t/**\n\t * 使用道具界面\n\t * @param {}  msgID 提示信息id\n\t * @return {} 0/1\n\t * @remarks {} PY调用\n\t */\n\tShowUseMsg:function(msgID, msgArgList){\n\t\tthis.ErrLog(\"ShowUseMsg\")\n\t},\n\n\t/**\n\t * 等待确认框回调函数\n\t * @param {}  result \n\t * @return {} null\n\t * @remarks {} null\n\t */\n\tOnConFirmResult:function(clickType){\n\n\t\tif(!this._ConfirmFunc){\n\t\t\treturn\n\t\t}\n\n\t\tif(typeof(this._ConfirmFunc) != \"function\"){\n\t\t\tthis.ErrLog(\"OnConFirm _ConfirmFunc:%s error\", this._ConfirmFunc);\n\t\t\treturn;\n\t\t}\n\t\t//清空\n\t\tvar msgID = this._ConfirmMsgID;\n\t\tvar func = this._ConfirmFunc;\n\t\tvar argList = this._ConfirmBackArgList;\n\n\t\tthis._ConfirmFunc = null;\n\t\tthis._ConfirmBackArgList = [];\n\n\t\tfunc(clickType, msgID, argList);\n\t},\n\n})\n\n//定义单例\nvar g_ConfirmManager = null;\n\n/**\n * 绑定模块外部方法\n */\nexports.GetModel = function(){\n\tif (!g_ConfirmManager)\n\t\tg_ConfirmManager = new ConfirmManager();\n\n\treturn g_ConfirmManager\n\n}\n"]}