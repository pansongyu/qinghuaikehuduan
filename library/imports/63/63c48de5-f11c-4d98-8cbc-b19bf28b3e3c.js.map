{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIUserSetPercent.js"],"names":["app","require","cc","Class","extends","properties","OnCreateInit","OnShow","data","lb_TargetPercent","node","getChildByName","getComponent","RichText","string","name","substr","pid","lb_curPercent","Label","shareType","shareFixedValue","EditBox","active","shareValue","InitShareType","isChange","SetIsChange","ToggleContainer","updateShareType","Toggle","isChecked","updateShareType_3","SetNotChange","GetShareType","toggle1","toggle3","OnClick","btnName","btnNode","percentStr","SysNotifyManager","ShowSysMsg","parseFloat","SetWaitForConfirm","ShareDefine","ConfirmYN","opClubId","opPid","FormManager","ShowForm","CloseForm","unionFlag","ErrLog","msgID","type","msgArg","cbArg","content","lbSure","lbCancle","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType","backArgList","sendPack","ClubManager","GetUnionSendPackHead","value","self","NetManager","SendPack","serverPack"],"mappings":"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","file":"UIUserSetPercent.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n\n    },\n\n    OnCreateInit: function () {\n\n    },\n    OnShow: function (data) {\n        this.data = data;\n        let lb_TargetPercent = this.node.getChildByName(\"lb_TargetPercent\").getComponent(cc.RichText);\n        lb_TargetPercent.string = \"<color=#705d52>修改</c><color=#f8772c>\" + data.name.substr(0,9) + \"（ID:\" + data.pid + \"）\" + \"</color><color=#705d52>的活跃计算值</c>\";\n        let lb_curPercent = this.node.getChildByName(\"lb_curPercent\").getComponent(cc.Label);\n        if(data.shareType==1){\n            //固定值\n            lb_curPercent.string = \"该玩家当前活跃计算值：\" + data.shareFixedValue;\n            this.node.getChildByName(\"PercentEditBox\").getComponent(cc.EditBox).string =  data.shareFixedValue;\n            this.node.getChildByName(\"PercentEditBox2\").getComponent(cc.EditBox).string =\"\";\n            this.node.getChildByName(\"btn_detail_value\").active=true;\n            this.node.getChildByName(\"btn_detail_percent\").active=false;\n            this.node.getChildByName(\"btn_detail_section\").active=false;\n        }else if(data.shareType==0){\n            lb_curPercent.string = \"该玩家当前活跃计算值：\" + data.shareValue+\"%\";\n            this.node.getChildByName(\"PercentEditBox\").getComponent(cc.EditBox).string =\"\";\n            this.node.getChildByName(\"PercentEditBox2\").getComponent(cc.EditBox).string = data.shareValue;\n            this.node.getChildByName(\"btn_detail_value\").active=false;\n            this.node.getChildByName(\"btn_detail_percent\").active=true;\n            this.node.getChildByName(\"btn_detail_section\").active=false;\n        }else{\n            lb_curPercent.string = \"\";\n            this.node.getChildByName(\"PercentEditBox\").getComponent(cc.EditBox).string =\"\";\n            this.node.getChildByName(\"PercentEditBox2\").getComponent(cc.EditBox).string = \"\";\n            this.node.getChildByName(\"btn_detail_value\").active=false;\n            this.node.getChildByName(\"btn_detail_percent\").active=false;\n            this.node.getChildByName(\"btn_detail_section\").active=true;\n        }\n        this.InitShareType(data.shareType);\n        //初始化比赛分输入框\n        this.isChange=false;\n    },\n    SetIsChange:function(){\n        this.isChange=true;\n        let ToggleContainer=this.node.getChildByName(\"ToggleContainer\");\n        let updateShareType = ToggleContainer.getChildByName(\"toggle1\").getComponent(cc.Toggle).isChecked;\n        let updateShareType_3 = ToggleContainer.getChildByName(\"toggle3\").getComponent(cc.Toggle).isChecked;\n        if (updateShareType) {\n            this.node.getChildByName(\"btn_detail_value\").active=true;\n            this.node.getChildByName(\"btn_detail_percent\").active=false;\n            this.node.getChildByName(\"btn_detail_section\").active=false;\n        }else if (updateShareType_3) {\n            this.node.getChildByName(\"btn_detail_value\").active=false;\n            this.node.getChildByName(\"btn_detail_percent\").active=false;\n            this.node.getChildByName(\"btn_detail_section\").active=true;\n        }else{\n            this.node.getChildByName(\"btn_detail_value\").active=false;\n            this.node.getChildByName(\"btn_detail_percent\").active=true;\n            this.node.getChildByName(\"btn_detail_section\").active=false;\n        }\n    },\n    SetNotChange:function(){\n        this.isChange=true;\n    },\n    InitShareType:function(shareType){\n        let ToggleContainer=this.node.getChildByName(\"ToggleContainer\");\n        if(shareType==0){\n            ToggleContainer.getChildByName(\"toggle1\").getComponent(cc.Toggle).isChecked=false;\n            ToggleContainer.getChildByName(\"toggle2\").getComponent(cc.Toggle).isChecked=true;\n            ToggleContainer.getChildByName(\"toggle3\").getComponent(cc.Toggle).isChecked=false;\n        }else if(shareType==1){\n            ToggleContainer.getChildByName(\"toggle1\").getComponent(cc.Toggle).isChecked=true;\n            ToggleContainer.getChildByName(\"toggle2\").getComponent(cc.Toggle).isChecked=false;\n            ToggleContainer.getChildByName(\"toggle3\").getComponent(cc.Toggle).isChecked=false;\n        }else{\n            ToggleContainer.getChildByName(\"toggle1\").getComponent(cc.Toggle).isChecked=false;\n            ToggleContainer.getChildByName(\"toggle2\").getComponent(cc.Toggle).isChecked=false;\n            ToggleContainer.getChildByName(\"toggle3\").getComponent(cc.Toggle).isChecked=true;\n        }\n    },\n    GetShareType:function(){\n        let ToggleContainer=this.node.getChildByName(\"ToggleContainer\");\n        let toggle1=ToggleContainer.getChildByName(\"toggle1\").getComponent(cc.Toggle).isChecked;\n        let toggle3=ToggleContainer.getChildByName(\"toggle3\").getComponent(cc.Toggle).isChecked;\n        if(toggle1){\n            return 1;\n        }else if (toggle3){\n            return 2;\n        }\n        return 0;\n    },\n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_sure\"){\n                //固定值\n                let shareType=this.GetShareType();\n                let percentStr =-1;\n                if(shareType==1){\n                    //固定值\n                    percentStr = this.node.getChildByName(\"PercentEditBox\").getComponent(cc.EditBox).string;\n                }else if(shareType==0){\n                    //百分比\n                    percentStr = this.node.getChildByName(\"PercentEditBox2\").getComponent(cc.EditBox).string;\n                    if(percentStr>100){\n                        app.SysNotifyManager().ShowSysMsg(\"请输入小于100的数字\",[],3);\n                        return;\n                    }\n                }else{\n                    //区间\n                    percentStr = 0;\n                }\n                if (parseFloat(percentStr) >= 0) {\n                    this.SetWaitForConfirm('SureChangePercent',this.ShareDefine.ConfirmYN,[],[percentStr, shareType], \"切换分成方式将导致分支下所有推广员的分成方式一起改变，需要重新设置，确认是否切换\");\n                    // let sendPack = app.ClubManager().GetUnionSendPackHead();\n                    // sendPack.opClubId = this.data.opClubId;\n                    // sendPack.opPid = this.data.pid;\n                    // sendPack.value = parseFloat(percentStr);\n                    // sendPack.shareType = shareType;\n                    // let self = this;\n                    // app.NetManager().SendPack(\"union.CUnionPromotionShareInfo\",sendPack, function(serverPack){\n                    //     app.SysNotifyManager().ShowSysMsg(\"成功设置活跃计算值\",[],3);\n                    //     self.CloseForm();\n                    // }, function(){\n                    //     app.SysNotifyManager().ShowSysMsg(\"设置活跃计算值失败\",[],3);\n                    // });\n                }else{\n                    app.SysNotifyManager().ShowSysMsg(\"请输入纯数字\",[],3);\n                }\n        }else if(btnName == \"btn_detail_value\"){\n            let data = {};\n            data.opClubId = this.data.opClubId;\n            data.opPid = this.data.pid;\n            data.shareFixedValue=this.data.shareFixedValue;\n            app.FormManager().ShowForm(\"ui/club/UIUserSetPercentDetail\",data, 1);\n            this.CloseForm();\n        }else if(btnName == \"btn_detail_percent\"){\n            let data = {};\n            data.opClubId = this.data.opClubId;\n            data.opPid = this.data.pid;\n            data.shareValue=this.data.shareValue;\n            app.FormManager().ShowForm(\"ui/club/UIUserSetPercentDetail\",data, 0);\n            this.CloseForm();\n        }else if(btnName == \"btn_detail_section\"){\n            let data = {};\n            data.opClubId = this.data.opClubId;\n            data.opPid = this.data.pid;\n            data.unionFlag = 1;\n            data.shareValue=this.data.shareValue;\n            app.FormManager().ShowForm(\"ui/club/UIUserSetSection\",data);\n            this.CloseForm();\n        }else if(btnName == \"btn_close\"){\n            if(this.isChange==false){\n                this.CloseForm();\n            }else{\n                this.SetWaitForConfirm('SaveLeft',this.ShareDefine.ConfirmYN,[],[], \"退出将不保存修改，确认退出？\");\n            }\n            \n        }else{\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\n        }\n    },\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[],content = \"\", lbSure =\"\", lbCancle=\"\"){\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg,content,lbSure,lbCancle);\n    },\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return\n        }\n        if(msgID == \"SaveLeft\"){\n            this.CloseForm();\n        }else if(msgID == \"SureChangePercent\"){\n            let sendPack = app.ClubManager().GetUnionSendPackHead();\n            sendPack.opClubId = this.data.opClubId;\n            sendPack.opPid = this.data.pid;\n            sendPack.value = parseFloat(backArgList[0]);\n            sendPack.shareType = backArgList[1];\n            let self = this;\n            app.NetManager().SendPack(\"union.CUnionPromotionShareInfo\",sendPack, function(serverPack){\n                app.SysNotifyManager().ShowSysMsg(\"成功设置活跃计算值\",[],3);\n                self.CloseForm();\n            }, function(){\n                app.SysNotifyManager().ShowSysMsg(\"设置活跃计算值失败\",[],3);\n            });\n        }\n    },\n\n});\n"]}