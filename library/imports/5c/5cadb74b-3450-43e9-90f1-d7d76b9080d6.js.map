{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\UIResult.js"],"names":["app","require","cc","Class","extends","properties","bg","Node","btn_look","btn_jiesuan","lb_name","Label","la_jifen","sp_type_bg1","sp_type_bg2","sp_type_bg3","zimo","sihongzhong","qiangganghu","qidui","sp_result","nd_meinv","huangzuang","seat","Sprite","benjiasheng","SpriteFrame","xiajiasheng","duijiasheng","shangjiasheng","sheng","sheng1","sheng2","sp_man_number","lb_manum01","lb_manum02","lb_manum03","lb_manum04","btn_head","nd_card","btn_goon","btn_exit","OnCreateInit","FormManager","MaCount","RegEvent","Event_RoomEnd","HZRoomMgr","ComTool","WeChatHeadImage","getComponent","ShowBtnGoonExit","Click_btn_look","active","Click_btn_jiesuan","Event_TouchStart","Event_TouchEnd","OnShow","InitShowPlayerInfo","ShowPlayerZiMo","state","GetEnterRoom","GetRoomProperty","ShareDefine","RoomState_End","string","RoomPosMgr","GetRoomPosMgr","clientPos","GetClientPos","clientDownPos","GetClientDownPos","clientFacePos","GetClientFacePos","clientUpPos","GetClientUpPos","roomSet","GetRoomSet","setEnd","GetRoomSetProperty","posHuList","huPos","huType","zhongMa","maCardList","posCount","length","allPosInfo","index","posInfo","pos","posHuType","HuType_NotHu","Check_HuType","clientPoint","clientDownPoint","clientFacePoint","clientUpPoint","point1","join","point2","point3","point4","ShowPosInfo","SoundManager","PlaySound","huPlayerInfo","GetPlayerInfoByPos","pid","ShowHeroHead","huPoint","console","log","spriteFrame","roomConfig","GetRoomConfig","zhama","HZZhaMa_TwoMa","HZZhaMa_FourMa","HZZhaMa_SixMa","HZZhaMa_Ymqz","HZZhaMa_Yzdm","maCount","value","Math","floor","path","SetWndProperty","i","pai","toString","paiType","charAt","StringAddNumSuffix","Log","pos1Point","pos2Point","pos3Point","pos4Point","HuType_ZiMo","HuType_QGH","HuType_FHZ","OnClick","btnName","btnNode","Click_btn_goon","CloseForm","ShowForm","ErrLog","room","roomID","GameManager","SendContinueGame"],"mappings":"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","file":"UIResult.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        bg:cc.Node,\n        btn_look:cc.Node,\n        btn_jiesuan:cc.Node,\n        lb_name:cc.Label,\n        la_jifen:cc.Label,\n\n        sp_type_bg1:cc.Node,\n        sp_type_bg2:cc.Node,\n        sp_type_bg3:cc.Node,\n\n        zimo:cc.Node,\n        sihongzhong:cc.Node,\n        qiangganghu:cc.Node,\n        qidui:cc.Node,\n\t    sp_result:cc.Node,\n\t    nd_meinv:cc.Node,\n\n\t    huangzuang:cc.Node,\n\n        seat:cc.Sprite,\n        benjiasheng:cc.SpriteFrame,\n        xiajiasheng:cc.SpriteFrame,\n        duijiasheng:cc.SpriteFrame,\n        shangjiasheng:cc.SpriteFrame,\n        sheng:cc.Sprite,\n        sheng1:cc.SpriteFrame,\n        sheng2:cc.SpriteFrame,\n\n        sp_man_number:cc.Label,\n\n        lb_manum01:cc.Label,\n        lb_manum02:cc.Label,\n        lb_manum03:cc.Label,\n        lb_manum04:cc.Label,\n\n        btn_head:cc.Node,\n    //    shandianLabel:cc.Label,\n\n        nd_card:cc.Node,\n\n        btn_goon:cc.Node,\n        btn_exit:cc.Node,\n    },\n\n    OnCreateInit: function () {\n        this.FormManager = app.FormManager();\n\t    this.MaCount = 8;\n\n       /* this.btn_look.on(\"touchstart\", this.Event_TouchStart, this);\n        this.btn_look.on(\"touchend\", this.Event_TouchEnd, this);\n        this.btn_look.on(\"touchcancel\", this.Event_TouchEnd, this);*/\n\n        this.RegEvent(\"RoomEnd\", this.Event_RoomEnd);\n\n        this.HZRoomMgr = app.HZRoomMgr();\n        this.ComTool = app.ComTool();\n\n        this.WeChatHeadImage = this.btn_head.getComponent(\"WeChatHeadImage\");\n\n    },\n    //-----------回调函数------------------\n    Event_RoomEnd:function () {\n        this.ShowBtnGoonExit();\n    },\n    Click_btn_look:function () {\n        this.bg.active = false;\n        this.btn_look.active=false;\n        this.btn_jiesuan.active=true;\n    },\n    Click_btn_jiesuan:function () {\n        this.bg.active = true;\n        this.btn_look.active=true;\n        this.btn_jiesuan.active=false;\n    },\n    Event_TouchStart:function () {\n        this.bg.active = false;\n    },\n    Event_TouchEnd:function () {\n        this.bg.active = true;\n    },\n\n    OnShow: function () {\n\n        this.ShowBtnGoonExit();\n\n        this.InitShowPlayerInfo();\n\n        this.ShowPlayerZiMo();\n    },\n    ShowBtnGoonExit:function () {\n        let state = app.HZRoomMgr().GetEnterRoom().GetRoomProperty(\"state\");\n        if(state == this.ShareDefine.RoomState_End){\n            this.btn_goon.active = 0;\n            this.btn_exit.active = 1;\n        }\n        else {\n            this.btn_goon.active = 1;\n            this.btn_exit.active = 0;\n        }\n    },\n    InitShowPlayerInfo:function () {\n        this.lb_manum01.string = \"\";\n        this.lb_manum02.string = \"\";\n        this.lb_manum03.string = \"\";\n        this.lb_manum04.string = \"\";\n\n        this.lb_name.string = \"\";\n        this.la_jifen.string = \"\";\n    },\n    ShowPlayerZiMo:function () {\n        let RoomPosMgr = this.HZRoomMgr.GetEnterRoom().GetRoomPosMgr();\n        let clientPos = RoomPosMgr.GetClientPos();\n        let clientDownPos = RoomPosMgr.GetClientDownPos();\n        let clientFacePos = RoomPosMgr.GetClientFacePos();\n        let clientUpPos = RoomPosMgr.GetClientUpPos();\n\n        let roomSet = this.HZRoomMgr.GetEnterRoom().GetRoomSet();\n        let setEnd = roomSet.GetRoomSetProperty(\"setEnd\");\n        let posHuList = setEnd[\"posHuList\"];\n\n\n        let huPos = -1;\n        let huType = \"\";\n        let zhongMa = 0;\n        let maCardList = [];\n\t    let posCount = posHuList.length;\n\n\t    let allPosInfo = {};\n\n\t    for(let index=0; index<posCount; index++){\n\t\t    let posInfo = posHuList[index];\n\t\t\tlet pos = posInfo[\"pos\"];\n\t\t    let posHuType = posInfo[\"huType\"];\n\n\t\t    allPosInfo[pos] = posInfo;\n\n\t\t    if(posHuType != this.ShareDefine.HuType_NotHu){\n\t\t\t    huPos = pos;\n\t\t\t    huType = posHuType;\n\t\t\t    zhongMa = posInfo[\"zhongMa\"];\n\t\t\t    maCardList = posInfo[\"maCardList\"];\n\t\t\t    // break\n\t\t    }\n\n\t    }\n\n        this.Check_HuType(huType);\n\t    let clientPoint = allPosInfo[clientPos][\"point\"];\n\t    let clientDownPoint = allPosInfo[clientDownPos][\"point\"];\n\t    let clientFacePoint = allPosInfo[clientFacePos][\"point\"];\n\t    let clientUpPoint = allPosInfo[clientUpPos][\"point\"];\n\n\t    let point1 = clientPoint > 0 ? [\"+\", clientPoint].join(\"\") : clientPoint;\n\t    let point2 = clientDownPoint > 0 ? [\"+\", clientDownPoint].join(\"\") : clientDownPoint;\n\t    let point3 = clientFacePoint > 0 ? [\"+\", clientFacePoint].join(\"\") : clientFacePoint;\n\t    let point4 = clientUpPoint > 0 ? [\"+\", clientUpPoint].join(\"\") : clientUpPoint;\n\n\t    this.ShowPosInfo(point1, point2, point3, point4);\n\n\t//    this.shandianLabel.string = allPosInfo[clientPos][\"flashCnt\"];\n\n\t    //如果有人胡了\n\t    if(huPos != -1){\n            app.SoundManager().PlaySound(\"shengli\");\n\t\t    this.sp_man_number.string =  zhongMa;\n\n\t\t    let huPlayerInfo = this.HZRoomMgr.GetEnterRoom().GetRoomPosMgr().GetPlayerInfoByPos(huPos);\n\t\t    this.lb_name.string = huPlayerInfo[\"name\"];\n\t\t    let pid = huPlayerInfo[\"pid\"];\n\t\t    this.WeChatHeadImage.ShowHeroHead(pid);\n\n\t\t    let huPoint = allPosInfo[huPos][\"point\"];\n\t\t    this.la_jifen.string = huPoint > 0 ? [\"+\",huPoint].join(\"\") : huPoint;\n            console.log(\"huPos:\",huPos);\n            console.log(\"clientPos:\",clientPos);\n            console.log(\"clientDownPos:\",clientDownPos);\n            console.log(\"clientFacePos:\",clientFacePos);\n            console.log(\"clientUpPos:\",clientUpPos);\n\t\t    if(huPos == clientPos){\n\t\t\t    this.seat.spriteFrame = this.benjiasheng;\n\t\t\t    this.sheng.spriteFrame = this.sheng1;\n\t\t    }\n\t\t    else if(huPos == clientDownPos){\n\t\t\t    this.seat.spriteFrame = this.xiajiasheng;\n\t\t\t    this.sheng.spriteFrame = this.sheng2;\n\t\t    }\n\t\t    else if(huPos == clientFacePos){\n\t\t        \n\t\t\t    this.seat.spriteFrame = this.duijiasheng;\n\t\t\t    this.sheng.spriteFrame = this.sheng2;\n\t\t\t    \n\t\t    }\n\t\t    else if(huPos == clientUpPos){\n\t\t\t    this.seat.spriteFrame = this.shangjiasheng;\n\t\t\t    this.sheng.spriteFrame = this.sheng2;\n\t\t    }\n\t\t    let roomConfig = this.HZRoomMgr.GetEnterRoom().GetRoomConfig();\n\t\t    let zhama = roomConfig[\"zhama\"];\n\t\t    if(\n\t\t\t    zhama == this.ShareDefine.HZZhaMa_TwoMa\n\t\t\t    ||\n\t\t\t    zhama == this.ShareDefine.HZZhaMa_FourMa\n\t\t\t    ||\n\t\t\t    zhama == this.ShareDefine.HZZhaMa_SixMa\n\t\t    ){\n\t\t\t    this.sp_type_bg1.active = 0;\n\t\t\t    this.sp_type_bg2.active = 0;\n\t\t\t    this.sp_type_bg3.active = 1;\n\t\t    }\n\t\t    else if(zhama == this.ShareDefine.HZZhaMa_Ymqz){\n\t\t\t    this.sp_type_bg1.active = 0;\n\t\t\t    this.sp_type_bg2.active = 1;\n\t\t\t    this.sp_type_bg3.active = 0;\n\t\t    }\n\t\t    else if(zhama == this.ShareDefine.HZZhaMa_Yzdm){\n\t\t\t    this.sp_type_bg1.active = 1;\n\t\t\t    this.sp_type_bg2.active = 0;\n\t\t\t    this.sp_type_bg3.active = 0;\n\t\t    }\n\n\t\t    let maCount = maCardList.length;\n\t\t    if(maCount == 1){\n                let value = [\"CardShow\", Math.floor(maCardList[0]/100)].join(\"\");\n                let path = \"bg/sp_result/sp_dingma/nd_card/sp_card01\";\n                this.SetWndProperty(path, \"active\", 1);\n                this.SetWndProperty(path, \"image\", value);\n            }\n            else if(maCount > 1){\n                for(let i = 0; i < maCount; i++){\n                    let pai = maCardList[i].toString();\n                    let paiType = pai.charAt(1);\n                    let path = this.ComTool.StringAddNumSuffix(\"bg/sp_result/sp_dingma/nd_card/sp_card\", i+1, 2);\n                    if(paiType == 1 || paiType == 5 || paiType == 9){\n                        let value = [\"CardShow\", Math.floor(maCardList[i]/100)].join(\"\");\n\n                        this.SetWndProperty(path, \"active\", 1);\n                        this.SetWndProperty(path, \"image\", value);\n                    }\n                    else{\n                        this.SetWndProperty(path, \"active\", 0);\n                    }\n                }\n            }\n            else{\n                this.Log(\"maCardList not find\", maCardList);\n            }\n\n\n\t\t    for(let index=maCount+1; index <= this.MaCount; index++){\n\t\t\t    let path = this.ComTool.StringAddNumSuffix(\"bg/sp_result/sp_dingma/nd_card/sp_card\", index, 2);\n\t\t\t    this.SetWndProperty(path, \"active\", 0);\n\t\t    }\n\t    }\n    },\n\n\tShowPosInfo:function (pos1Point, pos2Point, pos3Point, pos4Point) {\n\t\tthis.lb_manum01.string = pos1Point;\n\t\tthis.lb_manum02.string = pos2Point;\n\t\tthis.lb_manum03.string = pos3Point;\n\t\tthis.lb_manum04.string = pos4Point;\n\t},\n\n    Check_HuType:function (huType) {\n        if(huType == this.ShareDefine.HuType_ZiMo){\n\t        this.huangzuang.active = 0;\n\t        this.nd_meinv.active = 1;\n\t        this.sp_result.active = 1;\n\n            this.zimo.active = 1;\n            this.qiangganghu.active = 0;\n            this.qidui.active = 0;\n            this.sihongzhong.active = 0;\n        }\n        else if(huType == this.ShareDefine.HuType_QGH){\n\t        this.huangzuang.active = 0;\n\t        this.nd_meinv.active = 1;\n\t        this.sp_result.active = 1;\n\n            this.zimo.active = 0;\n            this.qiangganghu.active = 1;\n            this.qidui.active = 0;\n            this.sihongzhong.active = 0;\n        }\n        else if(huType == this.ShareDefine.HuType_FHZ){\n\t        this.huangzuang.active = 0;\n\t        this.nd_meinv.active = 1;\n\t        this.sp_result.active = 1;\n\n            this.zimo.active = 0;\n            this.qiangganghu.active = 0;\n            this.qidui.active = 0;\n            this.sihongzhong.active = 1;\n\n        }\n        //荒庄\n        else {\n            app.SoundManager().PlaySound(\"lost\");\n\t        this.huangzuang.active = 1;\n\t        this.nd_meinv.active = 0;\n\t        this.sp_result.active = 0;\n        }\n    },\n    //---------设置接口---------------\n\n    //---------点击函数---------------------\n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_goon\"){\n            this.Click_btn_goon();\n            this.CloseForm();\n        }\n        else if(btnName == \"btn_exit\"){\n            this.FormManager.ShowForm(\"UIResultTotal\");\n            this.CloseForm();\n        }\n         else if(btnName == \"btn_look\"){\n            this.Click_btn_look();\n\t    }else if(btnName == \"btn_jiesuan\"){\n\t        this.Click_btn_jiesuan();\n\t    }\n        else{\n            this.ErrLog(\"OnClick not find btnName\",btnName);\n        }\n    },\n    Click_btn_goon:function () {\n        let room = this.HZRoomMgr.GetEnterRoom();\n        if(!room){\n            this.ErrLog(\"Click_btn_ready not enter room\");\n            return\n        }\n        let roomID = room.GetRoomProperty(\"roomID\");\n\n        //this.HZRoomMgr.SendContinueGame(roomID);\n        app.GameManager().SendContinueGame(roomID);\n    },\n\n});\n"]}