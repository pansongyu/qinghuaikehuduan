{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIPromoterManager.js"],"names":["app","require","cc","Class","extends","properties","OnCreateInit","WeChatManager","InitEvent","NetManager","RegEvent","Event_CodeError","event","code","OnShow","clubId","unionId","myisPartner","unionPostType","myisminister","unionSign","btn_defaultName","lastClickBtnName","btn_default","node","getChildByName","OnClick","name","UpdateLeftBtn","btn_PromoterList","btn_PromoterMsg","btn_PromoterXiaShuList","ClubManager","Club_MINISTER_CREATER","active","ClickLeftBtn","clickName","rightNode","allRightBtn","i","children","length","push","leftNode","allLeftBtn","getComponent","InitData","SetWaitForConfirm","msgID","type","msgArg","cbArg","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType","backArgList","btnName","btnNode","CloseForm"],"mappings":"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","file":"UIPromoterManager.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n\n    },\n\n    OnCreateInit: function () {\n        this.WeChatManager=app.WeChatManager();\n        this.InitEvent();\n    },\n    InitEvent:function(){\n        //基础网络包\n        this.NetManager=app.NetManager();\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\n    },\n    Event_CodeError:function(event){\n        let code = event[\"Code\"];\n    },\n    //--------------显示函数-----------------\n    OnShow:function(clubId, unionId, myisPartner, unionPostType, myisminister, unionSign, btn_defaultName=\"btn_PromoterList\"){\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.myisPartner = myisPartner;\n        this.unionPostType = unionPostType;\n        this.myisminister = myisminister;\n        this.unionSign = unionSign;\n        this.lastClickBtnName = \"\";\n        let btn_default = this.node.getChildByName(\"left\").getChildByName(btn_defaultName);\n        this.OnClick(btn_default.name,btn_default);\n        this.UpdateLeftBtn();\n    },\n    UpdateLeftBtn:function(){\n        let btn_PromoterList = this.node.getChildByName(\"left\").getChildByName(\"btn_PromoterList\");\n        let btn_PromoterMsg = this.node.getChildByName(\"left\").getChildByName(\"btn_PromoterMsg\");\n        let btn_PromoterXiaShuList = this.node.getChildByName(\"left\").getChildByName(\"btn_PromoterXiaShuList\");\n        //如果是创建者打开\n        if (this.myisminister == app.ClubManager().Club_MINISTER_CREATER) {\n            btn_PromoterList.active = true;\n            btn_PromoterXiaShuList.active = false;\n        }else{\n            btn_PromoterList.active = false;\n            btn_PromoterXiaShuList.active = true;\n        }\n    },\n    ClickLeftBtn:function(clickName){\n        let rightNode = this.node.getChildByName(\"right\");\n        let allRightBtn = [];\n        for (let i = 0; i < rightNode.children.length; i++) {\n            allRightBtn.push(rightNode.children[i]);\n        }\n        this.lastClickBtnName = clickName;\n        let leftNode = this.node.getChildByName(\"left\");\n        let allLeftBtn = [];\n        for (let i = 0; i < leftNode.children.length; i++) {\n            allLeftBtn.push(leftNode.children[i]);\n        }\n        for (let i = 0; i < allLeftBtn.length; i++) {\n            if (allLeftBtn[i].name == clickName) {\n                allLeftBtn[i].getChildByName(\"img_off\").active = false;\n                allLeftBtn[i].getChildByName(\"lb_off\").active = false;\n                allLeftBtn[i].getChildByName(\"img_on\").active = true;\n                allLeftBtn[i].getChildByName(\"lb_on\").active = true;\n            }else{\n                allLeftBtn[i].getChildByName(\"img_off\").active = true;\n                allLeftBtn[i].getChildByName(\"lb_off\").active = true;\n                allLeftBtn[i].getChildByName(\"img_on\").active = false;\n                allLeftBtn[i].getChildByName(\"lb_on\").active = false;\n            }\n        }\n        for (let i = 0; i < allRightBtn.length; i++) {\n            if (allRightBtn[i].name == clickName + \"Node\") {\n                allRightBtn[i].active = true;\n                allRightBtn[i].getComponent(allRightBtn[i].name).InitData(this.clubId, this.unionId, this.unionPostType, this.myisminister, this.myisPartner);\n            }else{\n                allRightBtn[i].active = false;\n            }\n        }\n    },\n    //---------点击函数---------------------\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[]){\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\n    },\n    OnConFirm:function(clickType, msgID, backArgList){\n        if(clickType != \"Sure\"){\n            return;\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if('btn_close'==btnName){\n            this.CloseForm();\n        }else if('btn_PromoterList'==btnName){\n            this.ClickLeftBtn(btnName);\n        }else if('btn_PromoterMsg'==btnName){\n            this.ClickLeftBtn(btnName);\n        }else if('btn_PromoterXiaShuList'==btnName){\n            this.ClickLeftBtn(btnName);\n        }\n    },\n});"]}