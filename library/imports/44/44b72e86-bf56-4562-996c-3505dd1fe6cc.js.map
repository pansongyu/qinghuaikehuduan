{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\xgpdk/assets\\script\\ui\\uiGame\\xgpdk\\xgpdk_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","icon_fct","SpriteFrame","icon_ct","icon_piao","OnLoad","ShowPlayerData","setEnd","playerAll","index","player","posResultList","point","winNode","node","getChildByName","loseNode","active","getComponent","Label","string","piaoHua","piaoNode","Sprite","spriteFrame","lb_sportsPointTitle","sportsPoint","beishu","doubleNum","difen","baseMark","icon_robClose","robClose","playerInfo","i","length","pid","head","ShowHeroHead","playerName","name","substring","id","ComTool","GetPid"],"mappings":"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","file":"xgpdk_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\xgpdk","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseComponent\"),\n\n\tproperties: {\n        icon_fct:cc.SpriteFrame,\n        icon_ct:cc.SpriteFrame,\n        icon_piao: [cc.SpriteFrame],\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\n\t},\n    ShowPlayerData:function(setEnd,playerAll,index){\n        let player = setEnd.posResultList[index];\n\n        let point  = player.point;\n\n        //玩家分数\n        let winNode = this.node.getChildByName(\"lb_win_num\");\n        let loseNode = this.node.getChildByName(\"lb_lose_num\");\n        winNode.active = false;\n        loseNode.active = false;\n\n        if(point > 0){\n            winNode.active = true;\n            winNode.getComponent(cc.Label).string = \"+\" + point;\n        }\n        else{\n            loseNode.active = true;\n            loseNode.getComponent(cc.Label).string = point;\n        }\n\n        //飘花\n        let piaoHua  = player.piaoHua;\n        let piaoNode = this.node.getChildByName(\"user_info\").getChildByName(\"piao\");\n        if(piaoHua > -1){\n            piaoNode.getComponent(cc.Sprite).spriteFrame = this.icon_piao[piaoHua];\n            piaoNode.active = true;\n        }else{\n            piaoNode.getComponent(cc.Sprite).spriteFrame = \"\";\n            piaoNode.active = false;\n        }\n\n        //比赛分\n        let lb_sportsPointTitle = this.node.getChildByName(\"lb_sportsPointTitle\");\n        if (player.sportsPoint) {\n            if(player.sportsPoint > 0){\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + player.sportsPoint;\n            }\n            else{\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = player.sportsPoint;\n            }\n        }else{\n            lb_sportsPointTitle.active = false;\n        }\n        \n        //倍数\n        this.node.getChildByName(\"lb_beiShu\").active = true;\n        let beishu = this.node.getChildByName(\"lb_beiShu\").getComponent(cc.Label);\n\n        beishu.string = player.doubleNum;\n\n        //底分\n        this.node.getChildByName(\"lb_difen\").active = true;\n        let difen = this.node.getChildByName(\"lb_difen\").getComponent(cc.Label);\n        difen.string = player.baseMark;\n\n        //显示春天或者反春天\n        let icon_robClose = this.node.getChildByName(\"icon_robClose\");\n        icon_robClose.active = true;\n        \n        if (player.robClose == -1) {\n            icon_robClose.getComponent(cc.Sprite).spriteFrame = this.icon_fct;\n        }else if (player.robClose == 1) {\n            icon_robClose.getComponent(cc.Sprite).spriteFrame = this.icon_ct;    \n        }else{\n            icon_robClose.active = false;\n        }\n\n\n        let playerInfo = null;\n        for(let i = 0;i < playerAll.length;i++){\n            if(player.pid == playerAll[i].pid){\n                playerInfo = playerAll[i];\n                break;\n            }\n        }\n        \n        let head = this.node.getChildByName(\"user_info\").getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        head.ShowHeroHead(playerInfo.pid);\n        //玩家名字\n        let playerName = \"\";\n        playerName = playerInfo.name;\n        if(playerName.length > 6){\n            playerName = playerName.substring(0, 6) + '...';\n        }\n        let name = this.node.getChildByName(\"user_info\").getChildByName(\"lable_name\").getComponent(cc.Label);\n        name.string = playerName;\n\n        let id = this.node.getChildByName(\"user_info\").getChildByName(\"label_id\").getComponent(cc.Label);\n        id.string = \"ID:\" + app.ComTool().GetPid(playerInfo[\"pid\"]);\n    },\n});\n"]}