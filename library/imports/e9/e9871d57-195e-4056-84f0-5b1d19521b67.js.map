{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\chmj/assets\\script\\ui\\uiGame\\chmj\\chmjChildCreateRoom.js"],"names":["app","require","fzmjChildCreateRoom","cc","Class","extends","properties","Click_btn_create","createType","FormManager","CloseForm","isSpiltRoomCard","GetIdxByKey","renshu","getCurSelectRenShu","needCostData","getCostData","sign","getCostDataBySign","ErrLog","hasRoomCard","HeroManager","GetHeroProperty","jushuIndex","length","costCoun","CostCount","AaCostCount","WinCostCount","setCount","SetCount","sendPack","CreateSendPack","jushu","renshuIndex","fangfei","unionData","cfgData","item","configData","dataType","linshi2","i","clubId","roomKey","unionId","unionRoomKey","clubData","gameIndex","gameType","configData2","Toggles","isCheck","getChildByName","active","push","localStr","toString","SetLocalConfig","clubWinnerPayConsume","default1","new1","parseInt","getComponent","EditBox","string","default2","new2","clubCostType","realGameType","gameId","ShareDefine","GametTypeNameDict","toUpperCase","Client","SetGameType","LocalDataManager","SetConfigProperty","tempObj","CreateRoomCheckSubGame","newNeedCostData","idx","data","Sign","jiesan","xianShi","piaozi","fangjian","kexuanwanfa","gaoji","console","error","getDefaultSign","GetLocalConfig","keyFlag","gameCreateConfig","hasOwnProperty","UpdateTogglesLabel","TogglesNode","isRefreshJushu","curKey","name","substring","reg","defaultSign","key","GameName","Key","AAfangfeiDatas","WinfangfeiDatas","FangZhufangfeiDatas","clubGuanLiFangFeiDatas","clubWinFangFeiDatas","clubAAFangFeiDatas","unionGuanliFangFeiDatas","title","Title","replace","Label","descList","ToggleDesc","split","children","publicCosts","SpiltCosts","curCostData","mark","signStr","ClubCostCount","ClubWinCostCount","ClubAaCostCount","UnionCostCount","descInde","startsWith","needCount","ffNodes","hasHideNode","spacing","Spacing","s","needNode","parent","isFirstNode","isResetPos","x","disCost","disCount","Math","ceil","OnToggleClick","event","toggles","target","toggle","toggleIndex","needClearList","needShowIndexList","ClearToggleCheck","UpdateLabelColor","Toggle","module","exports"],"mappings":"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cAA/B,CAA8C,WAA9C,EAA2DC,MAA3D,GAAoE,KAApE,CAFmC,CAEuC;AAC1E;AACH,qBAJD,MAIO;AACH,6BAAKH,OAAL,CAAa,aAAb,EAA4BT,GAA5B,EAA+BY,MAA/B,GAAwC,IAAxC;AACA;AACA;AACH;AACJ;AACJ;AACJ;AACJ,KA1gB8B;AA2gB/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH+F,mBAAe,uBAAUC,KAAV,EAAiB;AAC/B,aAAK7I,WAAL,CAAiBC,SAAjB,CAA2B,cAA3B;AACA,YAAI6I,UAAUD,MAAME,MAAN,CAAaX,MAA3B;AACA,YAAIY,SAASH,MAAME,MAAnB;AACA,YAAI/C,MAAM8C,QAAQlD,IAAR,CAAaC,SAAb,CAAwB,UAAD,CAAa9E,MAApC,EAA4C+H,QAAQlD,IAAR,CAAa7E,MAAzD,CAAV;AACA,YAAIkI,cAAc5F,SAAS2F,OAAOpD,IAAP,CAAYC,SAAZ,CAAuB,QAAD,CAAW9E,MAAjC,EAAyCiI,OAAOpD,IAAP,CAAY7E,MAArD,CAAT,IAAyE,CAA3F;AACA,YAAImI,gBAAgB,EAApB;AACA,YAAIC,oBAAoB,EAAxB;AACAD,wBAAgB,KAAKxG,OAAL,CAAasD,GAAb,CAAhB;AACAmD,0BAAkBrG,IAAlB,CAAuBmG,WAAvB;AACA,YAAI,WAAWjD,GAAX,IAAkB,YAAYA,GAA9B,IAAqC,aAAaA,GAAtD,EAA2D;AAC1D,iBAAKoD,gBAAL,CAAsBF,aAAtB,EAAqCC,iBAArC;AACA,iBAAKE,gBAAL,CAAsBP,OAAtB;AACA,iBAAKtD,kBAAL,CAAwBsD,OAAxB,EAAiC,KAAjC;AACA;AACA,SALD,MAKM,IAAG,UAAU9C,GAAb,EAAiB;AACb,gBAAI,UAAU,KAAKxD,QAAnB,EAA6B;AACzB,oBAAIgC,MAAM,CAAV;AACA,qBAAI,IAAIvC,IAAE,CAAV,EAAaA,IAAE,KAAKmF,WAAL,CAAiBrG,MAAhC,EAAwCkB,GAAxC,EAA4C;AACxC,wBAAI,KAAKmF,WAAL,CAAiBnF,CAAjB,EAAoByC,IAApB,IAA6BuE,cAAc,CAA/C,EAAmD;AAC/C,4BAAI3B,UAAW2B,cAAc,CAAf,IAAqB,CAArB,GAAyB,GAAzB,GAA+B,GAA7C;AACA,6BAAKvG,OAAL,CAAa,OAAb,EAAsB8B,GAAtB,EAA2B5B,cAA3B,CAA0C,OAA1C,EAAmDU,YAAnD,CAAgE5D,GAAGmH,KAAnE,EAA0ErD,MAA1E,GAAmF,KAAK4D,WAAL,CAAiBnF,CAAjB,EAAoBZ,QAApB,GAA+BiG,OAAlH;AACA9C;AACH;AACJ;AACJ;AACJ,SAXD,MAYD,IAAG,iBAAiBwB,GAApB,EAAwB;AACnB;AACA;AACA;AACA;AACA;AACH,SANF,MAMO,IAAI,YAAYA,GAAhB,EAAqB;AACvB;AACA;AACA;AACA;AACA;AACA;AACH,SAPK,MAOA,IAAI,WAAWA,GAAf,EAAoB;AACtB,gBAAI,KAAKiD,WAAT,EAAsB;AAAC;AACnB,qBAAKG,gBAAL,CAAsB,KAAK1G,OAAL,CAAa,QAAb,CAAtB,EAA8C,CAAC,CAAD,CAA9C;AACA,qBAAK2G,gBAAL,CAAsB,KAAK3G,OAAL,CAAa,QAAb,EAAuB,CAAvB,EAA0B0F,MAAhD;AACA;AACA,qBAAKgB,gBAAL,CAAsB,KAAK1G,OAAL,CAAa,aAAb,CAAtB;AACA,qBAAK2G,gBAAL,CAAsB,KAAK3G,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B0F,MAArD;AACH;AACJ;AACP,YAAIU,QAAQxF,YAAR,CAAqB5D,GAAG4J,MAAxB,CAAJ,EAAqC;AAAC;AACrCH,gCAAoB,EAApB;AACA,iBAAK,IAAIlH,MAAI,CAAb,EAAgBA,MAAIiH,cAAcnI,MAAlC,EAA0CkB,KAA1C,EAA+C;AAC9C,oBAAIoF,OAAO6B,cAAcjH,GAAd,EAAiBW,cAAjB,CAAgC,WAAhC,EAA6CC,MAAxD;AACA;AACA,oBAAIwE,QAAQpF,OAAKgH,WAAjB,EAA8B;AAC7BE,sCAAkBrG,IAAlB,CAAuBb,GAAvB;AACA;AACD;AAHA,qBAIK,IAAI,CAACoF,IAAD,IAASpF,OAAKgH,WAAlB,EAA+B;AACnCE,0CAAkBrG,IAAlB,CAAuBb,GAAvB;AACA;AACD;AACD;AACD,aAAKmH,gBAAL,CAAsBF,aAAtB,EAAqCC,iBAArC;AACA,aAAKE,gBAAL,CAAsBP,OAAtB,EAA+B,aAAa9C,GAAb,GAAmB,IAAnB,GAA0B,KAAzD;AACA;AA7wBiC,CAAT,CAA1B;;AAgxBAuD,OAAOC,OAAP,GAAiB/J,mBAAjB","file":"chmjChildCreateRoom.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\chmj","sourcesContent":["/*\n创建房间子界面\n */\nvar app = require(\"app\");\n\nvar fzmjChildCreateRoom = cc.Class({\n\textends: require(\"BaseChildCreateRoom\"),\n\n    properties: {},\n    //创建房间\n    Click_btn_create:function(createType){\n        this.FormManager.CloseForm(\"UIMessageTip\");\n        let isSpiltRoomCard = this.GetIdxByKey('fangfei');\n        let renshu = [];\n        if(isSpiltRoomCard){\n            renshu = this.getCurSelectRenShu();\n        }\n        renshu = this.getCurSelectRenShu();//发给服务器人数用选的\n        let needCostData = this.getCostData(renshu);\n        let sign = this.GetIdxByKey('sign');    // 模式\n        needCostData = this.getCostDataBySign(needCostData, sign+1)\n        if(!needCostData){\n            this.ErrLog('Click_btn_create Not CostData');\n            return null;\n        }\n        let hasRoomCard = app.HeroManager().GetHeroProperty(\"roomCard\");\n\n        let jushuIndex = this.GetIdxByKey('jushu');\n        if(-1 == jushuIndex || jushuIndex >= needCostData.length){\n            this.ErrLog('Click_btn_create error -1 == jushuIndex || jushuIndex >= needCostData.length');\n            return null;\n        }\n        let costCoun = 0;\n        if (isSpiltRoomCard == 0) {\n            //房主付\n            costCoun = needCostData[jushuIndex].CostCount;\n        }else if (isSpiltRoomCard == 1) {\n            //AA付\n            costCoun = needCostData[jushuIndex].AaCostCount;\n        }else if (isSpiltRoomCard == 2) {\n            //大赢家付\n            costCoun = needCostData[jushuIndex].WinCostCount;\n        }\n        // if(this.clubData==null){\n        //     if(hasRoomCard < costCoun){//金币不足\n        //         let desc = app.SysNotifyManager().GetSysMsgContentByMsgID(\"MSG_NotRoomCard\");\n        //         app.ConfirmManager().SetWaitForConfirmForm(this.OnConFirm.bind(this), \"goBuyCard\", []);\n        //         app.FormManager().ShowForm(\"UIMessage\", null, app.ShareDefine().ConfirmBuyGoTo, 0, 0, desc)\n        //         return null;\n        //     }\n        // }\n        let setCount = needCostData[jushuIndex].SetCount;\n        let sendPack = this.CreateSendPack(renshu, setCount, isSpiltRoomCard);\n        //把人数，局数，房费索引传给服务端用作修改房间显示当前配置用\n        let jushu = this.GetIdxByKey('jushu');\n        sendPack.jushu = jushu;\n        let renshuIndex = this.GetIdxByKey('renshu');\n        sendPack.renshu = renshuIndex;\n        let fangfei = this.GetIdxByKey('fangfei');\n        sendPack.fangfei = fangfei;\n        //记录到本地缓存\n        if (this.unionData == null || this.unionData.cfgData == null) {\n            for(var item in sendPack) {\n                let configData=sendPack[item];\n                let dataType=typeof(configData);\n                if(dataType=='object'){\n                    let linshi2='0';\n                    for(let i=0;i<configData.length;i++){\n                        if(i==0){\n                            linshi2=configData[0]+1;\n                        }else{\n                            linshi2=linshi2+','+(configData[i]+1);\n                        }\n                    }\n                    configData=linshi2;\n                }else{\n                    if(item=='playerNum'){\n                        item='renshu';\n                    }else if(item=='setCount'){\n                        item='jushu';\n                    }else if(item=='paymentRoomCardType'){\n                        item='fangfei';\n                    }else if(item=='cardNum'){\n                        item='shoupai';\n                    }else if(item=='resultCalc'){\n                        item='jiesuan';\n                    }else if(item=='maxAddDouble'){\n                        item='fengdingbeishu';\n                    }\n                    configData=this.GetIdxByKey(item)+1;\n                }\n                let clubId = 0;\n                let roomKey = '0';\n                let unionId = 0;\n                let unionRoomKey = \"0\";\n                if(this.clubData){\n                    clubId = this.clubData.clubId;\n                    roomKey = this.clubData.gameIndex;\n                }\n                if (this.unionData) {\n                    unionId = this.unionData.unionId;\n                    unionRoomKey = this.unionData.roomKey;\n                }\n                if(item =='kexuanwanfa' && \"pdk_lyfj\" ==  this.gameType){\n                    let configData2=[];\n                    for(let i=0;i<this.Toggles['kexuanwanfa'].length;i++){\n                        let isCheck = this.Toggles['kexuanwanfa'][i].getChildByName('checkmark').active;\n                        if(isCheck){\n                            configData2.push(i+1);\n                        }\n                    }\n                    //本地保存必须是字符串（真机上不支持别的类型）\n                    let localStr='1';\n                    for(let i=0;i<configData2.length;i++){\n                        if(i == 0){\n                            localStr = configData2[0].toString();\n                        }else{\n                            localStr = localStr + ',' + configData2[i];\n                        }\n                    }\n                    this.SetLocalConfig(item,localStr,clubId,roomKey,unionId,unionRoomKey);\n                }else{\n                    this.SetLocalConfig(item,configData,clubId,roomKey,unionId,unionRoomKey);\n                }\n            }\n        }\n        \n\n        if(1 == createType || 3 == createType){\n            if(this.clubData){\n                sendPack.clubId = this.clubData.clubId;\n                sendPack.gameIndex = this.clubData.gameIndex;\n                if(this.clubData!=null){\n                    if(isSpiltRoomCard == 0){\n                        this.clubWinnerPayConsume=0;\n                    }else if(isSpiltRoomCard == 1){\n                        let default1=this.Toggles['fangfei'][1].getChildByName('fangfeiNode').getChildByName('needNum').clubWinnerPayConsume;\n                        let new1=parseInt(this.Toggles['fangfei'][1].getChildByName('editbox').getComponent(cc.EditBox).string);\n                        if(new1>0 && new1>default1){\n                            this.clubWinnerPayConsume=new1;\n                        }else{\n                            this.clubWinnerPayConsume=default1;\n                        }\n                    }else if(isSpiltRoomCard == 2){\n                        let default2=this.Toggles['fangfei'][2].getChildByName('fangfeiNode').getChildByName('needNum').clubWinnerPayConsume;\n                        let new2=parseInt(this.Toggles['fangfei'][2].getChildByName('editbox').getComponent(cc.EditBox).string);\n                        if(new2>0 && new2>default2){\n                            this.clubWinnerPayConsume=new2;\n                        }else{\n                            this.clubWinnerPayConsume=default2;\n                        }\n                    }\n                }else{\n                    this.clubWinnerPayConsume=0;\n                }\n                sendPack.clubWinnerPayConsume=this.clubWinnerPayConsume;\n                if(this.clubWinnerPayConsume>0){\n                    sendPack.clubCostType=1;\n                }else{\n                    sendPack.clubCostType=0;\n                }\n                createType = 3;\n            }\n        }\n        sendPack.createType=createType;\n        let realGameType = this.gameType\n        if (this.gameType == \"sss_zz\" || this.gameType == \"sss_dr\") {\n            realGameType = \"sss\";\n        }\n        let gameId = app.ShareDefine().GametTypeNameDict[realGameType.toUpperCase()];\n        sendPack.gameType = gameId;\n        app.Client.SetGameType(realGameType);\n        this.LocalDataManager.SetConfigProperty(\"SysSetting\", \"LastGameType\",this.gameType);\n        if (this.unionData) {\n            let tempObj = {\n                \"realGameType\":realGameType,\n                \"sendPack\":sendPack\n            }\n            return tempObj;\n        }else{\n            app.Client.CreateRoomCheckSubGame(realGameType, sendPack);\n        }\n        \n        // if(!cc.sys.isNative){\n        //     let self = this;\n        //     app.NetManager().SendPack(\"room.CBaseCreateRoom\", sendPack, function(event){\n        //         app.SysNotifyManager().ShowSysMsg(\"创建房间成功\",[],3);\n        //     }, function(event){\n        //         app.SysNotifyManager().ShowSysMsg(\"创建房间失败\",[],3);\n        //     });\n        // }\n        \n    },\n\n    getCostDataBySign: function (needCostData, sign) {\n        let newNeedCostData = [];\n        for (let idx = 0; idx < needCostData.length; idx++) {\n            const data = needCostData[idx];\n            if(data.Sign == sign){\n                newNeedCostData.push(data);\n            }            \n        }\n        return newNeedCostData;\n    },\n\t//需要自己重写\n\tCreateSendPack: function (renshu, setCount, isSpiltRoomCard) {\n\t\tlet sendPack = {};\n        let jiesan = this.GetIdxByKey('jiesan');\n        let xianShi = this.GetIdxByKey('xianShi');\n        let piaozi = this.GetIdxByKey('piaozi');  // 漂子\n        let sign = this.GetIdxByKey('sign');    // 模式\n\n        let fangjian=[];\n        let kexuanwanfa=[];\n        let gaoji=[];\n        for(let i=0;i<this.Toggles['fangjian'].length;i++){\n            if(this.Toggles['fangjian'][i].getChildByName('checkmark').active){\n                fangjian.push(i);\n            }\n        }\n        for(let i=0;i<this.Toggles['kexuanwanfa'].length;i++){\n            if(this.Toggles['kexuanwanfa'][i].getChildByName('checkmark').active){\n                kexuanwanfa.push(i);\n            }\n        }\n        for(let i=0;i<this.Toggles['gaoji'].length;i++){\n            if(this.Toggles['gaoji'][i].getChildByName('checkmark').active){\n                gaoji.push(i);\n            }\n        }\n        sendPack = {\n                    \"xianShi\":xianShi,\n                    \"jiesan\":jiesan,\n                    \"playerMinNum\":renshu[0],\n                    \"playerNum\":renshu[1],\n                    \"setCount\":setCount,\n                    \"paymentRoomCardType\":isSpiltRoomCard,\n                    \"fangjian\":fangjian,\n                    \"gaoji\":gaoji,\n                    \"kexuanwanfa\":kexuanwanfa,\n                    \"piaozi\":piaozi,\n                    \"sign\":sign+1,      \n                    // \"xianShi\":xianShi,\n                    // \"beishu\": beishu,\n                    // \"jiesan\":jiesan,\n                    // \"playerMinNum\":renshu[0],\n                    // \"playerNum\":renshu[1],\n                    // \"setCount\":setCount,\n                    // \"paymentRoomCardType\":isSpiltRoomCard,\n                    // \"fangjian\":fangjian,\n                    // \"gaoji\":gaoji,\n                    // \"kexuanwanfa\":kexuanwanfa,\n                    // \"wanfa\":isAutoZiMo,\n        };\n        console.error(sendPack)\n\t\treturn sendPack;\n    },\n\n    getDefaultSign:function () {\n        //尝试获取缓存\n        let clubId = 0;\n        let roomKey = '0';\n        let unionId = 0;\n        let unionRoomKey = '0';\n        let sign = null;\n        if(this.clubData){\n            clubId = this.clubData.clubId;\n            roomKey = this.clubData.gameIndex;\n            sign = this.GetLocalConfig(\"sign\",roomKey,unionId,unionRoomKey);\n        }\n        //第一次创建俱乐部房间没有roomKey为0\n        if(!sign)\n            sign = this.GetLocalConfig(\"sign\",clubId,roomKey,unionId,unionRoomKey);\n\n        if(!!sign && typeof(sign) != \"undefined\"){\n            return sign;\n        }\n\n        for (const keyFlag in this.gameCreateConfig) {\n            if (this.gameCreateConfig.hasOwnProperty(keyFlag)) {\n                const data = this.gameCreateConfig[keyFlag];\n                if(\"sign\" == data[\"Key\"]) {\n                    return data[\"ShowIndexs\"];  // \"1\", \"2\" -> \"锅子,局数\"\n                }\n            }\n        }\n    },\n    UpdateTogglesLabel: function (TogglesNode, isRefreshJushu = true) {\n        let curKey = TogglesNode.name.substring(('Toggles_').length, TogglesNode.name.length);\n        let reg = /\\/s/g;\n        let defaultSign = this.getDefaultSign(); // \"1\", \"2\" -> \"锅子,局数\"\n        for (let key in this.gameCreateConfig) {\n            if (this.gameType == this.gameCreateConfig[key].GameName) {\n                if (curKey == this.gameCreateConfig[key].Key) {\n                    let AAfangfeiDatas = [];\n                    let WinfangfeiDatas = [];\n                    let FangZhufangfeiDatas = [];\n                    let clubGuanLiFangFeiDatas = [];\n                    let clubWinFangFeiDatas = [];\n                    let clubAAFangFeiDatas = [];\n                    let unionGuanliFangFeiDatas = [];\n                    let title = this.gameCreateConfig[key].Title.replace(reg, ' ');\n                    TogglesNode.getChildByName('title').getComponent(cc.Label).string = title;\n                    let descList = [];\n                    if ('jushu' != curKey) {//局数读roomcost\n                        descList = this.gameCreateConfig[key].ToggleDesc.split(',');\n                        if (this.clubData && 'fangfei' == curKey) {\n                            descList = ['管理付'];\n                        } else if (this.unionData && 'fangfei' == curKey) {\n                            descList = ['盟主付'];\n                        }\n                        if (descList.length != TogglesNode.children.length - 2) {//减去标题和帮助按钮\n                            this.ErrLog('gameCreate config ToggleDesc and Toggle count error');\n                            break;\n                        }\n                    }\n                    let jushuIndex = -1;\n                    let renshuIndex = -1;\n                    let renshu = [];//0表示读房主支付配置\n                    if ('renshu' == curKey || 'fangfei' == curKey || 'jushu' == curKey) {\n\n                        let publicCosts = this.getCostData(renshu);\n                        let sign = this.GetIdxByKey('sign');    // 模式\n                        // publicCosts = this.getCostDataBySign(publicCosts, sign+1)\n\n                        if (this.Toggles['renshu'])\n                            renshu = this.getCurSelectRenShu();\n\n                        let SpiltCosts = this.getCostData(renshu);\n                        // SpiltCosts = this.getCostDataBySign(SpiltCosts, sign+1)\n                        let curCostData = null;\n                        if (0 == renshu.length) {\n                            curCostData = publicCosts;\n                        }\n                        else {\n                            curCostData = SpiltCosts;\n                        }\n                        if (this.Toggles['jushu']) {\n                            this.curCostData = curCostData;\n                            jushuIndex = 0;\n                            for (let i = 0; i < this.Toggles['jushu'].length; i++) {\n                                let mark = this.Toggles['jushu'][i].getChildByName('checkmark').active;\n                                if (mark) {\n                                    jushuIndex = i;\n                                    break;\n                                }\n                                jushuIndex++;\n                            }\n                            if (isRefreshJushu == true) {\n                                let idx = 0;\n                                for (let i = 0; i < curCostData.length; i++) {\n                                    this.curCostData = curCostData;\n                                    if (curCostData[i].Sign == defaultSign) {\n                                        let signStr = defaultSign == 1 ? \"锅\" : \"局\";\n                                        this.Toggles['jushu'][idx].getChildByName('label').getComponent(cc.Label).string = this.curCostData[i].SetCount + signStr;\n                                        idx++;\n                                    }\n                                }\n                            }\n                        }\n                        if (this.Toggles['fangfei'] && -1 != jushuIndex) {\n                            if (jushuIndex < publicCosts.length) {\n                                AAfangfeiDatas.push(publicCosts[jushuIndex].AaCostCount);\n                                WinfangfeiDatas.push(publicCosts[jushuIndex].WinCostCount);\n                                FangZhufangfeiDatas.push(publicCosts[jushuIndex].CostCount);\n\n                                clubGuanLiFangFeiDatas.push(publicCosts[jushuIndex].ClubCostCount);\n                                clubWinFangFeiDatas.push(publicCosts[jushuIndex].ClubWinCostCount);\n                                clubAAFangFeiDatas.push(publicCosts[jushuIndex].ClubAaCostCount);\n                                //赛事房费\n                                unionGuanliFangFeiDatas.push(publicCosts[jushuIndex].UnionCostCount);\n                            }\n                            if (jushuIndex < SpiltCosts.length) {\n                                AAfangfeiDatas.push(SpiltCosts[jushuIndex].AaCostCount);\n                                WinfangfeiDatas.push(SpiltCosts[jushuIndex].WinCostCount);\n                                FangZhufangfeiDatas.push(SpiltCosts[jushuIndex].CostCount);\n\n                                clubGuanLiFangFeiDatas.push(SpiltCosts[jushuIndex].ClubCostCount);\n                                clubWinFangFeiDatas.push(SpiltCosts[jushuIndex].ClubWinCostCount);\n                                clubAAFangFeiDatas.push(SpiltCosts[jushuIndex].ClubAaCostCount);\n                                //赛事房费\n                                unionGuanliFangFeiDatas.push(SpiltCosts[jushuIndex].UnionCostCount);\n                            }\n                        }\n                    }\n                    if ('jushu' != curKey) {\n                        let descInde = 0;\n                        for (let i = 0; i < TogglesNode.children.length; i++) {\n                            if (TogglesNode.children[i].name.startsWith('Toggle')) {\n                                TogglesNode.children[i].getChildByName('label').getComponent(cc.Label).string = descList[descInde];\n                                descInde++;\n                            }\n                        }\n                    }\n\n                    if (0 != AAfangfeiDatas.length) {\n                        let needCount = AAfangfeiDatas[AAfangfeiDatas.length - 1];\n                        let ffNodes = this.Toggles['fangfei'];\n                        let hasHideNode = false;\n                        let spacing = this.gameCreateConfig[key].Spacing.toString().split(',');\n                        for (let s = 0; s < ffNodes.length; s++) {\n                            let needNode = ffNodes[s].getChildByName('fangfeiNode');\n                            needNode.active = true;\n                            if (hasHideNode && !needNode.parent.isFirstNode && isResetPos) {\n                                needNode.parent.x = needNode.parent.x - spacing[s] - 80;\n                                hasHideNode = false;\n                            }\n                            //如果房费配的是0，则隐藏\n                            if (needCount <= 0 && 1 == s) {\n                                needNode.parent.active = false;\n                                hasHideNode = true;\n                                continue;\n                            }\n                            let disCost = -1;\n                            if (this.clubData == null && this.unionData == null) {\n                                if (0 == s) {\n                                    if (this.disCount == -1) {\n                                        needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + FangZhufangfeiDatas[FangZhufangfeiDatas.length - 1];\n                                    } else {\n                                        disCost = Math.ceil(this.disCount * FangZhufangfeiDatas[FangZhufangfeiDatas.length - 1]);\n                                        if (disCost == 0) {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n                                        } else {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n                                        }\n                                    }\n                                }\n                                else if (1 == s) {\n                                    if (this.disCount == -1) {\n                                        needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + AAfangfeiDatas[AAfangfeiDatas.length - 1];\n                                    } else {\n                                        disCost = Math.ceil(this.disCount * AAfangfeiDatas[AAfangfeiDatas.length - 1]);\n                                        if (disCost == 0) {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n                                        } else {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n                                        }\n                                    }\n                                }\n                                else {\n                                    if (this.disCount == -1) {\n                                        needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + WinfangfeiDatas[WinfangfeiDatas.length - 1];\n                                    } else {\n                                        disCost = Math.ceil(this.disCount * WinfangfeiDatas[WinfangfeiDatas.length - 1]);\n                                        if (disCost == 0) {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n                                        } else {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n                                        }\n                                    }\n                                }\n                            } else if (this.clubData == null && this.unionData != null) {\n                                if (0 == s) {\n                                    if (this.disCount == -1) {\n                                        needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + unionGuanliFangFeiDatas[unionGuanliFangFeiDatas.length - 1];\n                                    } else {\n                                        disCost = Math.ceil(this.disCount * unionGuanliFangFeiDatas[unionGuanliFangFeiDatas.length - 1]);\n                                        if (disCost == 0) {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n                                        } else {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n                                        }\n                                    }\n                                }\n                            } else {\n                                if (0 == s) {\n                                    if (this.disCount == -1) {\n                                        needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubGuanLiFangFeiDatas[clubGuanLiFangFeiDatas.length - 1];\n                                    } else {\n                                        disCost = Math.ceil(this.disCount * clubGuanLiFangFeiDatas[clubGuanLiFangFeiDatas.length - 1]);\n                                        if (disCost == 0) {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n                                        } else {\n                                            needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n                                        }\n                                    }\n                                }\n                                // else if(1==s){\n                                //     needNode.getChildByName('icon').active=false;\n                                //     needNode.getChildByName('icon_qk').active=true;\n                                //     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubAAFangFeiDatas[clubAAFangFeiDatas.length - 1];\n                                //     needNode.getChildByName('needNum').clubWinnerPayConsume = clubAAFangFeiDatas[clubAAFangFeiDatas.length - 1];\n                                //     ffNodes[s].getChildByName('editbox').active=false;\n                                // }else{\n                                //     needNode.getChildByName('icon').active=false;\n                                //     needNode.getChildByName('icon_qk').active=true;\n                                //     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubWinFangFeiDatas[clubWinFangFeiDatas.length - 1];\n                                //     needNode.getChildByName('needNum').clubWinnerPayConsume = clubWinFangFeiDatas[clubWinFangFeiDatas.length - 1];\n                                //     ffNodes[s].getChildByName('editbox').active=false;\n                                // }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (this.Toggles[\"gaoji\"]) {\n            for (let i = 0; i < this.Toggles[\"gaoji\"].length; i++) {\n                let ToggleDesc = this.Toggles[\"gaoji\"][i].getChildByName(\"label\").getComponent(cc.Label).string;\n                if (ToggleDesc == \"30秒未准备自动踢出房间\") {\n                    if (!this.clubData && !this.unionData) {\n                        this.Toggles[\"gaoji\"][i].active = false;\n                        this.Toggles[\"gaoji\"][i].getChildByName(\"checkmark\").active = false;//隐藏高级30秒被踢，ps：注释防止缓存\n                        break;\n                    } else {\n                        this.Toggles[\"gaoji\"][i].active = true;\n                        //this.Toggles[\"gaoji\"][i].getChildByName(\"checkmark\").active = true;//隐藏高级30秒被踢，ps：注释防止缓存\n                        break;\n                    }\n                }\n            }\n        } else if (this.Toggles[\"kexuanwanfa\"]) {\n            for (let i = 0; i < this.Toggles[\"kexuanwanfa\"].length; i++) {\n                let ToggleDesc = this.Toggles[\"kexuanwanfa\"][i].getChildByName(\"label\").getComponent(cc.Label).string;\n                if (ToggleDesc == \"比赛分不能低于0\") {\n                    if (!this.clubData && !this.unionData) {\n                        this.Toggles[\"kexuanwanfa\"][i].active = false;\n                        this.Toggles[\"kexuanwanfa\"][i].getChildByName(\"checkmark\").active = false;//隐藏高级30秒被踢，ps：注释防止缓存\n                        break;\n                    } else {\n                        this.Toggles[\"kexuanwanfa\"][i].active = true;\n                        //this.Toggles[\"gaoji\"][i].getChildByName(\"checkmark\").active = true;//隐藏高级30秒被踢，ps：注释防止缓存\n                        break;\n                    }\n                }\n            }\n        }\n    },\n    // UpdateTogglesLabel:function (TogglesNode, isRefreshJushu = true) {\n    //     let curKey = TogglesNode.name.substring(('Toggles_').length,TogglesNode.name.length);\n    //     let reg = /\\/s/g;\n    //     let defaultSign = this.getDefaultSign(); // \"1\", \"2\" -> \"锅子,局数\"\n    //     for(let key in this.gameCreateConfig){\n    //         if(this.gameType == this.gameCreateConfig[key].GameName){\n    //             if(curKey == this.gameCreateConfig[key].Key){\n    //                 let AAfangfeiDatas = [];\n    //                 let WinfangfeiDatas = [];\n    //                 let FangZhufangfeiDatas = [];\n    //                 let clubFangFeiDatas=[];\n    //                 let clubWinFangFeiDatas=[];\n    //                 let title = this.gameCreateConfig[key].Title.replace(reg, ' ');\n    //                 TogglesNode.getChildByName('title').getComponent(cc.Label).string = title;\n    //                 let descList = [];\n    //                 if('jushu' != curKey){//局数读roomcost\n    //                     descList = this.gameCreateConfig[key].ToggleDesc.split(',');\n    //                     if(this.clubData && 'fangfei' == curKey){\n    //                         descList = ['管理付'];\n    //                     }else if(this.unionData && 'fangfei' == curKey){\n    //                         descList = ['盟主付'];\n    //                     }\n    //                     if(descList.length != TogglesNode.children.length -2){//减去标题和帮助按钮\n    //                         this.ErrLog('gameCreate config ToggleDesc and Toggle count error');\n    //                         break;\n    //                     }\n    //                 }\n    //                 let jushuIndex = -1;\n    //                 let renshuIndex = -1;\n    //                 let renshu = [];//0表示读房主支付配置\n\n    //                 if('renshu' == curKey || 'fangfei' == curKey || 'jushu' == curKey){\n                        \n    //                     let publicCosts = this.getCostData(renshu);\n    //                     let sign = this.GetIdxByKey('sign');    // 模式\n    //                     // publicCosts = this.getCostDataBySign(publicCosts, sign+1)\n\n    //                     if(this.Toggles['renshu'])\n    //                         renshu = this.getCurSelectRenShu();\n\n    //                     let SpiltCosts = this.getCostData(renshu);\n    //                     // SpiltCosts = this.getCostDataBySign(SpiltCosts, sign+1)\n                        \n    //                     let curCostData = null;\n    //                     if(0 == renshu.length){\n    //                         curCostData = publicCosts;\n    //                     }\n    //                     else{\n    //                         curCostData = SpiltCosts;\n    //                     }\n\n    //                     if(this.Toggles['jushu']){\n    //                         this.curCostData = curCostData;\n    //                         jushuIndex = 0;\n    //                         for(let i=0;i<this.Toggles['jushu'].length;i++){\n    //                             let mark = this.Toggles['jushu'][i].getChildByName('checkmark').active;\n    //                             if(mark){\n    //                                 jushuIndex = i;\n    //                                 break;\n    //                             }\n    //                             jushuIndex++;\n    //                         }\n    //                         if(isRefreshJushu == true){\n    //                             let idx = 0;\n    //                             for(let i=0; i<curCostData.length; i++){\n    //                                 this.curCostData = curCostData;\n    //                                 if (curCostData[i].Sign == defaultSign) {\n    //                                     let signStr = defaultSign == 1 ? \"锅\" : \"局\";\n    //                                     this.Toggles['jushu'][idx].getChildByName('label').getComponent(cc.Label).string = this.curCostData[i].SetCount + signStr;\n    //                                     idx++;\n    //                                 }\n    //                             }\n    //                         }\n    //                     }\n                        \n    //                     if(this.Toggles['fangfei'] && -1 != jushuIndex){\n    //                         if(jushuIndex < publicCosts.length){\n    //                             AAfangfeiDatas.push(publicCosts[jushuIndex].AaCostCount);\n    //                             WinfangfeiDatas.push(publicCosts[jushuIndex].WinCostCount);\n    //                             FangZhufangfeiDatas.push(publicCosts[jushuIndex].CostCount);\n\n    //                             clubFangFeiDatas.push(publicCosts[jushuIndex].ClubCount);\n    //                             clubWinFangFeiDatas.push(publicCosts[jushuIndex].ClubWinCostCount);\n    //                         }\n    //                         if(jushuIndex < SpiltCosts.length){\n    //                             AAfangfeiDatas.push(SpiltCosts[jushuIndex].AaCostCount);\n    //                             WinfangfeiDatas.push(SpiltCosts[jushuIndex].WinCostCount);\n    //                             FangZhufangfeiDatas.push(SpiltCosts[jushuIndex].CostCount);\n\n    //                             clubFangFeiDatas.push(SpiltCosts[jushuIndex].ClubCount);\n    //                             clubWinFangFeiDatas.push(SpiltCosts[jushuIndex].ClubWinCostCount);\n    //                         }\n    //                     }\n    //                 }\n    //                 if('jushu' != curKey){\n    //                     let descInde = 0;\n    //                     for(let i=0;i<TogglesNode.children.length;i++){\n    //                         if(TogglesNode.children[i].name.startsWith('Toggle')){\n    //                             TogglesNode.children[i].getChildByName('label').getComponent(cc.Label).string = descList[descInde];\n    //                             descInde++;\n    //                         }\n    //                     }\n    //                 }\n\n    //                 if(0 != AAfangfeiDatas.length){\n    //                     let ffNodes = this.Toggles['fangfei'];\n    //                     for(let s=0;s<ffNodes.length;s++){\n    //                         let needNode = ffNodes[s].getChildByName('fangfeiNode');\n    //                         needNode.active = true;\n    //                         let disCost = -1;\n    //                         if(this.clubData==null && this.unionData == null){\n    //                             if(0 == s){\n    //                                 if (this.disCount == -1) {\n    //                                     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + FangZhufangfeiDatas[FangZhufangfeiDatas.length - 1];\n    //                                 }else{\n    //                                    disCost = Math.ceil(this.disCount * FangZhufangfeiDatas[FangZhufangfeiDatas.length - 1]);\n    //                                     if (disCost == 0) {\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n    //                                     }else{\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n    //                                     } \n    //                                 }\n    //                             }\n    //                             else if(1 == s){\n    //                                 if (this.disCount == -1) {\n    //                                     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + AAfangfeiDatas[AAfangfeiDatas.length - 1];\n    //                                 }else{\n    //                                    disCost = Math.ceil(this.disCount * AAfangfeiDatas[AAfangfeiDatas.length - 1]);\n    //                                     if (disCost == 0) {\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n    //                                     }else{\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n    //                                     } \n    //                                 }\n    //                             }\n    //                             else{\n    //                                 if (this.disCount == -1) {\n    //                                     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + WinfangfeiDatas[WinfangfeiDatas.length - 1];\n    //                                 }else{\n    //                                    disCost = Math.ceil(this.disCount * WinfangfeiDatas[WinfangfeiDatas.length - 1]);\n    //                                     if (disCost == 0) {\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n    //                                     }else{\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n    //                                     } \n    //                                 }\n    //                             }\n    //                         }else if (this.clubData==null && this.unionData != null){\n    //                             if(0 == s){\n    //                                 if (this.disCount == -1) {\n    //                                     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + unionGuanliFangFeiDatas[unionGuanliFangFeiDatas.length - 1];\n    //                                 }else{\n    //                                    disCost = Math.ceil(this.disCount * unionGuanliFangFeiDatas[unionGuanliFangFeiDatas.length - 1]);\n    //                                     if (disCost == 0) {\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n    //                                     }else{\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n    //                                     } \n    //                                 }\n    //                             }\n    //                         }else{\n    //                             if(0 == s){\n    //                                 if (this.disCount == -1) {\n    //                                     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubGuanLiFangFeiDatas[clubGuanLiFangFeiDatas.length - 1];\n    //                                 }else{\n    //                                    disCost = Math.ceil(this.disCount * clubGuanLiFangFeiDatas[clubGuanLiFangFeiDatas.length - 1]);\n    //                                     if (disCost == 0) {\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = '免费';\n    //                                     }else{\n    //                                         needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + disCost;\n    //                                     } \n    //                                 }\n    //                             }\n    //                             // else if(1==s){\n    //                             //     needNode.getChildByName('icon').active=false;\n    //                             //     needNode.getChildByName('icon_qk').active=true;\n    //                             //     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubAAFangFeiDatas[clubAAFangFeiDatas.length - 1];\n    //                             //     needNode.getChildByName('needNum').clubWinnerPayConsume = clubAAFangFeiDatas[clubAAFangFeiDatas.length - 1];\n    //                             //     ffNodes[s].getChildByName('editbox').active=false;\n    //                             // }else{\n    //                             //     needNode.getChildByName('icon').active=false;\n    //                             //     needNode.getChildByName('icon_qk').active=true;\n    //                             //     needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubWinFangFeiDatas[clubWinFangFeiDatas.length - 1];\n    //                             //     needNode.getChildByName('needNum').clubWinnerPayConsume = clubWinFangFeiDatas[clubWinFangFeiDatas.length - 1];\n    //                             //     ffNodes[s].getChildByName('editbox').active=false;\n    //                             // }\n    //                         } \n    //                     }\n    //                 }\n    //             }\n    //         }\n    //     }\n    // },\n\tOnToggleClick: function (event) {\n\t\tthis.FormManager.CloseForm(\"UIMessageTip\");\n\t\tlet toggles = event.target.parent;\n\t\tlet toggle = event.target;\n\t\tlet key = toggles.name.substring(('Toggles_').length, toggles.name.length);\n\t\tlet toggleIndex = parseInt(toggle.name.substring(('Toggle').length, toggle.name.length)) - 1;\n\t\tlet needClearList = [];\n\t\tlet needShowIndexList = [];\n\t\tneedClearList = this.Toggles[key];\n\t\tneedShowIndexList.push(toggleIndex);\n\t\tif ('jushu' == key || 'renshu' == key || 'fangfei' == key) {\n\t\t\tthis.ClearToggleCheck(needClearList, needShowIndexList);\n\t\t\tthis.UpdateLabelColor(toggles);\n\t\t\tthis.UpdateTogglesLabel(toggles, false);\n\t\t\treturn;\n\t\t}else if('sign' == key){\n            if ('chmj' == this.gameType) {\n                let idx = 0;\n                for(let i=0; i<this.curCostData.length; i++){\n                    if (this.curCostData[i].Sign == (toggleIndex + 1)) {\n                        let signStr = (toggleIndex + 1) == 1 ? \"锅\" : \"局\";\n                        this.Toggles['jushu'][idx].getChildByName('label').getComponent(cc.Label).string = this.curCostData[i].SetCount + signStr;\n                        idx++;\n                    }\n                }\n            }\n        }\n\t\telse if('kexuanwanfa' == key){\n            // let quanzimo = this.Toggles['wanfa'][1].getChildByName('checkmark').active;\n            // if (quanzimo && toggleIndex == 0) {\n            //     app.SysNotifyManager().ShowSysMsg(\"全自摸不能选择有金必游\",[],3);\n            //     return;\n            // }\n        }else if ('beishu' == key) {\n            // let quanzimo = this.Toggles['wanfa'][1].getChildByName('checkmark').active;\n            // if (quanzimo) {\n            //     if (0 == toggleIndex) return;\n            //     app.SysNotifyManager().ShowSysMsg(\"全自摸只能选择四倍\",[],3);\n            //     return;\n            // }\n        }else if ('wanfa' == key) {\n            if (1 == toggleIndex) {//全自摸倍数默认为最低倍\n                this.ClearToggleCheck(this.Toggles['beishu'], [0]);\n                this.UpdateLabelColor(this.Toggles['beishu'][0].parent);\n                //全自摸不能游金必游\n                this.ClearToggleCheck(this.Toggles['kexuanwanfa']);\n                this.UpdateLabelColor(this.Toggles['kexuanwanfa'][0].parent);\n            }\n        }\n\t\tif (toggles.getComponent(cc.Toggle)) {//复选框\n\t\t\tneedShowIndexList = [];\n\t\t\tfor (let i = 0; i < needClearList.length; i++) {\n\t\t\t\tlet mark = needClearList[i].getChildByName('checkmark').active;\n\t\t\t\t//如果复选框为勾选状态并且点击的复选框不是该复选框，则继续保持勾选状态\n\t\t\t\tif (mark && i != toggleIndex) {\n\t\t\t\t\tneedShowIndexList.push(i);\n\t\t\t\t}\n\t\t\t\t//如果复选框为未勾选状态并且点击的复选框是该复选框，则切换为勾选状态\n\t\t\t\telse if (!mark && i == toggleIndex) {\n\t\t\t\t\tneedShowIndexList.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.ClearToggleCheck(needClearList, needShowIndexList);\n\t\tthis.UpdateLabelColor(toggles, 'fangfei' == key ? true : false);\n\t},\n});\n\nmodule.exports = fzmjChildCreateRoom;"]}