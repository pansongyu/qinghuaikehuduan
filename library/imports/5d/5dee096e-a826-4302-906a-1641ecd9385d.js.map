{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\UIChouJiang.js"],"names":["app","require","cc","Class","extends","properties","bg_turn","Node","daylist","loglist","turn_light","recordListDemo","logListContent","login_day","Label","light1","SpriteFrame","light2","light3","light4","light5","light6","light7","light8","icon_card0","icon_card1","icon_card2","icon_card6","icon_card7","icon_card8","icon_card9","icon_card10","OnCreateInit","FormManager","signin","SysDataManager","GetTableDict","speed","FinishRoation","RegEvent","Event_LingQuNtf","Event_CodeError","event","codeInfo","SysNotifyManager","ShowSysMsg","OnShow","luckDrawData","luckDrawSprs","setCount","heroID","HeroManager","GetHeroProperty","sys","isNative","getRecordUrl","getRecordByTypeUrl","SendHttpRequest","LuckDrawList","FreeLuckDraw","Turn","finish","isShiChou","chouing","rotation","NowRotation","Zhuang","linght","schedule","lightChange","OnUpdate","ShowJiang","getComponent","Sprite","spriteFrame","ChouJiangResult","OnClose","NetManager","SendPack","ShowJiangLi","type","num","j","day","getChildByName","loginnum","active","string","ReSetLingQu","loginNum","key","Day","Type","UniformitemId","UniCount","Count","self","lb_num","GetWndNode","value","tipStr","dateType","ComTool","GetDateHourMinuteString","startTime","endTime","timeSlot","GetDateDayString","GetDateYearMonthDayHourMinuteString","luckDrawValue","conditionValue","node","error","i","length","luckData","luckSpr","id","ShowLuckData","luckNode","prizeName","prizeType","rewardNum","iconNode","parseInt","toString","luckyData","ShowForm","btnName","eventData","that","prizeId","console","log","CloseForm","ErrLog","serverUrl","argString","requestType","sendPack","NetRequest","OnReceiveHttpPack","bind","OnConnectHttpFail","httpResText","serverPack","JSON","parse","ScrollView","scrollToTop","DestroyAllChildren","data","child","instantiate","timeStr","timestamp","prizeStr","logStr","RichText","addChild","readyState","status"],"mappings":";;;;;;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH;AACIC,aAASH,QAAQ,UAAR,CADb;;AAGII,gBAAY;AACRC,iBAAQJ,GAAGK,IADH;AAERC,iBAAQN,GAAGK,IAFH;AAGRE,iBAAQP,GAAGK,IAHH;AAIRG,oBAAWR,GAAGK,IAJN;;AAMRI,wBAAeT,GAAGK,IANV;AAORK,wBAAeV,GAAGK,IAPV;;AASRM,mBAAUX,GAAGY,KATL;;AAWRC,gBAAOb,GAAGc,WAXF;AAYRC,gBAAOf,GAAGc,WAZF;AAaRE,gBAAOhB,GAAGc,WAbF;AAcRG,gBAAOjB,GAAGc,WAdF;AAeRI,gBAAOlB,GAAGc,WAfF;AAgBRK,gBAAOnB,GAAGc,WAhBF;AAiBRM,gBAAOpB,GAAGc,WAjBF;AAkBRO,gBAAOrB,GAAGc,WAlBF;;AAoBRQ,oBAAWtB,GAAGc,WApBN,EAoBoB;AAC5BS,oBAAWvB,GAAGc,WArBN,EAqBoB;AAC5BU,oBAAWxB,GAAGc,WAtBN,EAsBoB;AAC5BW,oBAAWzB,GAAGc,WAvBN,EAuBmB;AAC3BY,oBAAW1B,GAAGc,WAxBN,EAwBmB;AAC3Ba,oBAAW3B,GAAGc,WAzBN,EAyBmB;AAC3Bc,oBAAW5B,GAAGc,WA1BN,EA0BmB;AAC3Be,qBAAY7B,GAAGc,WA3BP,CA2BoB;AA3BpB,KAHhB;AAgCI;AACAgB,kBAAa,wBAAU;AACnB,aAAKC,WAAL,GAAiBjC,IAAIiC,WAAJ,EAAjB;AACA,aAAKC,MAAL,GAAc,KAAKC,cAAL,CAAoBC,YAApB,CAAiC,QAAjC,CAAd;AACA,aAAKC,KAAL,GAAW,CAAX;AACA,aAAKC,aAAL,GAAmB,CAAnB;AACA,aAAKC,QAAL,CAAc,mBAAd,EAAmC,KAAKC,eAAxC;AACA,aAAKD,QAAL,CAAc,WAAd,EAA2B,KAAKE,eAAhC,EAAiD,IAAjD;AACH,KAxCL;AAyCIA,qBAAgB,yBAASC,KAAT,EAAe;AAC3B,YAAIC,WAAWD,KAAf;AACA,YAAGC,SAAS,MAAT,KAAoB,IAAvB,EAA4B;AACxB3C,gBAAI4C,gBAAJ,GAAuBC,UAAvB,CAAkC,UAAlC;AACH,SAFD,MAEM,IAAGF,SAAS,MAAT,KAAoB,GAAvB,EAA2B;AAC7B3C,gBAAI4C,gBAAJ,GAAuBC,UAAvB,CAAkC,aAAlC;AACH;AACJ,KAhDL;AAiDI;AACAC,YAAO,gBAASC,YAAT,EAAsBC,YAAtB,EAAmC;AACtC,aAAKC,QAAL,GAAc,CAAd;AACA,YAAIC,SAASlD,IAAImD,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAb;AACA,YAAIlD,GAAGmD,GAAH,CAAOC,QAAX,EAAqB;AACjB,iBAAKC,YAAL,GAAoB,0EAAwEL,MAA5F;AACA,iBAAKM,kBAAL,GAA0B,0EAAwEN,MAAxE,GAA+E,SAAzG;AACH,SAHD,MAGK;AACD,iBAAKK,YAAL,GAAoB,2EAAyEL,MAA7F;AACA,iBAAKM,kBAAL,GAA0B,2EAAyEN,MAAzE,GAAgF,SAA1G;AACH;AACD,aAAKO,eAAL,CAAqB,KAAKF,YAA1B,EAAwC,EAAxC,EAA2C,KAA3C,EAAiD,EAAjD;AACA;AACA,aAAKG,YAAL,CAAkBX,YAAlB,EAA+BC,YAA/B;AACA,aAAKW,YAAL;AACA;AACH,KAjEL;AAkEIC,UAAK,cAASC,MAAT,EAAgC;AAAA,YAAhBC,SAAgB,uEAAN,KAAM;;AACjC,aAAKC,OAAL,GAAa,CAAb,CADiC,CACjB;AAChB,aAAKzD,OAAL,CAAa0D,QAAb,GAAsB,CAAtB;AACA,aAAKC,WAAL,GAAiB,CAAjB;AACA,aAAK5B,KAAL,GAAW,CAAX;AACA,YAAGyB,aAAW,IAAd,EAAmB;AACf,iBAAKxB,aAAL,GAAmB,MAAI,CAAJ,IAAO,MAAIuB,SAAO,EAAlB,IAAsB,EAAzC;AACH,SAFD,MAEK;AACD,iBAAKvB,aAAL,GAAmB,MAAI,CAAJ,IAAO,MAAIuB,SAAO,EAAlB,IAAsB,EAAzC;AACH;AACD,aAAKK,MAAL;;AAEA,aAAKC,MAAL,GAAY,CAAZ;AACA,aAAKC,QAAL,CAAc,KAAKC,WAAnB,EAA+B,GAA/B;AAEH,KAjFL;AAkFIC,cAAS,oBAAU;AACf,YAAG,KAAKL,WAAL,IAAkB,KAAK3B,aAA1B,EAAwC;AACpC,iBAAKiC,SAAL;AACA;AACH,SAHD,MAGM,IAAG,KAAKN,WAAL,GAAiB,KAAK3B,aAAzB,EAAuC;AACzC,iBAAK4B,MAAL;AACH;AACJ,KAzFL;AA0FIG,iBAAY,uBAAU;AACd,YAAG,KAAKF,MAAL,IAAa,CAAhB,EAAkB;AACd;AACH;AACD,aAAKA,MAAL,GAAY,KAAKA,MAAL,GAAY,CAAxB;AACA,YAAG,KAAKA,MAAL,IAAa,CAAhB,EAAkB;AACd,iBAAKA,MAAL,GAAY,CAAZ;AACH;AACD,YAAG,KAAKA,MAAL,IAAa,CAAhB,EAAkB;AACd,iBAAKzD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAK3D,MAAzD;AACH,SAFD,MAEM,IAAG,KAAKoD,MAAL,IAAa,CAAhB,EAAkB;AACpB,iBAAKzD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAKzD,MAAzD;AACH,SAFK,MAEA,IAAG,KAAKkD,MAAL,IAAa,CAAhB,EAAkB;AACpB,iBAAKzD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAKxD,MAAzD;AACH,SAFK,MAEA,IAAG,KAAKiD,MAAL,IAAa,CAAhB,EAAkB;AACpB,iBAAKzD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAKvD,MAAzD;AACH,SAFK,MAEA,IAAG,KAAKgD,MAAL,IAAa,CAAhB,EAAkB;AACpB,iBAAKzD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAKtD,MAAzD;AACH,SAFK,MAEA,IAAG,KAAK+C,MAAL,IAAa,CAAhB,EAAkB;AACpB,iBAAKzD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAKrD,MAAzD;AACH,SAFK,MAEA,IAAG,KAAK8C,MAAL,IAAa,CAAhB,EAAkB;AACpB,iBAAKzD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAKpD,MAAzD;AACH,SAFK,MAEA,IAAG,KAAK6C,MAAL,IAAa,CAAhB,EAAkB;AACpB,iBAAKzD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAKnD,MAAzD;AACH;AAER,KApHL;AAqHIgD,eAAU,qBAAU;AAChB,YAAG,KAAKR,OAAL,IAAc,CAAjB,EAAmB;AACf;AACH;AACD,aAAKN,eAAL,CAAqB,KAAKF,YAA1B,EAAwC,EAAxC,EAA2C,KAA3C,EAAiD,EAAjD;AACA,aAAKI,YAAL;AACA,aAAKI,OAAL,GAAa,CAAb,CANgB,CAMA;AAChB,aAAKrD,UAAL,CAAgB8D,YAAhB,CAA6BtE,GAAGuE,MAAhC,EAAwCC,WAAxC,GAAoD,KAAK3D,MAAzD;AACA,aAAKT,OAAL,CAAa0D,QAAb,GAAsB,KAAK1B,aAA3B;AACA,aAAK6B,MAAL,GAAY,CAAZ;AACA,aAAKQ,eAAL;AACA;AACH,KAjIL;AAkIIC,aAAQ,mBAAU;AACd5E,YAAI6E,UAAJ,GAAiBC,QAAjB,CAA0B,sBAA1B,EAAiD,EAAC,QAAO,CAAR,EAAjD;AACH,KApIL;AAqIIZ,YAAO,kBAAU;AACb;AACA,aAAKD,WAAL,GAAiB,KAAKA,WAAL,GAAiB,KAAK5B,KAAvC;AACA,YAAG,KAAK4B,WAAL,GAAiB,KAAK3B,aAAzB,EAAuC;AACnC;AACH;AACD;;;;;;;;;;;;;;;;;;;;AAoBA,YAAG,KAAKA,aAAL,GAAmB,KAAK2B,WAAxB,GAAoC,GAAvC,EAA2C;AACvC,gBAAG,KAAK3B,aAAL,GAAmB,KAAK2B,WAAxB,GAAoC,EAAvC,EAA0C;AACtC,qBAAK5B,KAAL,GAAW,KAAKA,KAAL,GAAW,GAAtB;AACA,oBAAG,KAAKA,KAAL,GAAW,GAAd,EAAkB;AACd,yBAAKA,KAAL,GAAW,GAAX;AACH;AACJ,aALD,MAKM,IAAG,KAAKC,aAAL,GAAmB,KAAK2B,WAAxB,GAAoC,EAAvC,EAA0C;AAC5C,qBAAK5B,KAAL,GAAW,KAAKA,KAAL,GAAW,GAAtB;AACA,oBAAG,KAAKA,KAAL,GAAW,GAAd,EAAkB;AACd,yBAAKA,KAAL,GAAW,GAAX;AACH;AACJ,aALK,MAKA,IAAG,KAAKC,aAAL,GAAmB,KAAK2B,WAAxB,GAAoC,EAAvC,EAA0C;AAC5C,qBAAK5B,KAAL,GAAW,KAAKA,KAAL,GAAW,GAAtB;AACA,oBAAG,KAAKA,KAAL,GAAW,GAAd,EAAkB;AACd,yBAAKA,KAAL,GAAW,GAAX;AACH;AACJ,aALK,MAKA,IAAG,KAAKC,aAAL,GAAmB,KAAK2B,WAAxB,GAAoC,GAAvC,EAA2C;AAC7C,qBAAK5B,KAAL,GAAW,KAAKA,KAAL,GAAW,GAAtB;AACA,oBAAG,KAAKA,KAAL,GAAW,CAAd,EAAgB;AACZ,yBAAKA,KAAL,GAAW,CAAX;AACH;AACJ,aALK,MAKA,IAAG,KAAKC,aAAL,GAAmB,KAAK2B,WAAxB,GAAoC,GAAvC,EAA2C;AAC7C,qBAAK5B,KAAL,GAAW,KAAKA,KAAL,GAAW,GAAtB;AACA,oBAAG,KAAKA,KAAL,GAAW,CAAd,EAAgB;AACZ,yBAAKA,KAAL,GAAW,CAAX;AACH;AAEJ,aANK,MAMD;AACD,qBAAKA,KAAL,GAAW,KAAKA,KAAL,GAAW,GAAtB;AACA,oBAAG,KAAKA,KAAL,GAAW,CAAd,EAAgB;AACZ,yBAAKA,KAAL,GAAW,CAAX;AACH;AACJ;AACJ,SAjCD,MAiCK;AACD,gBAAG,KAAKA,KAAL,GAAW,CAAd,EAAgB;AACZ,qBAAKA,KAAL,GAAW,KAAKA,KAAL,GAAW,GAAtB;AACH;AACJ;AACD,aAAK/B,OAAL,CAAa0D,QAAb,GAAsB,KAAKC,WAA3B;AACH,KAtML;AAuMIc,iBAAY,qBAASC,IAAT,EAAcC,GAAd,EAAkBC,CAAlB,EAAoBC,GAApB,EAAwB;;AAEhC,YAAGH,QAAM,CAAT,EAAW;AACP;AACA,iBAAKxE,OAAL,CAAa4E,cAAb,CAA4B,QAAMF,CAAlC,EAAqCE,cAArC,CAAoD,MAApD,EAA4DZ,YAA5D,CAAyEtE,GAAGuE,MAA5E,EAAoFC,WAApF,GAAgG,KAAK/C,UAArG;AAEH,SAJD,MAIM,IAAG,KAAKqD,IAAR,EAAa;AACf,iBAAKxE,OAAL,CAAa4E,cAAb,CAA4B,QAAMF,CAAlC,EAAqCE,cAArC,CAAoD,MAApD,EAA4DZ,YAA5D,CAAyEtE,GAAGuE,MAA5E,EAAoFC,WAApF,GAAgG,KAAKhD,UAArG;AACH,SAFK,MAGD,IAAGsD,QAAM,CAAT,EAAW;AACZ;AACA,iBAAKxE,OAAL,CAAa4E,cAAb,CAA4B,QAAMF,CAAlC,EAAqCE,cAArC,CAAoD,MAApD,EAA4DZ,YAA5D,CAAyEtE,GAAGuE,MAA5E,EAAoFC,WAApF,GAAgG,KAAKjD,UAArG;AACH;AACD,YAAG,KAAK4D,QAAL,IAAeF,GAAlB,EAAsB;AAClB,iBAAK3E,OAAL,CAAa4E,cAAb,CAA4B,QAAMF,CAAlC,EAAqCE,cAArC,CAAoD,MAApD,EAA4DE,MAA5D,GAAmE,IAAnE;AACH,SAFD,MAEK;AACD,iBAAK9E,OAAL,CAAa4E,cAAb,CAA4B,QAAMF,CAAlC,EAAqCE,cAArC,CAAoD,MAApD,EAA4DE,MAA5D,GAAmE,KAAnE;AACH;AACD,aAAK9E,OAAL,CAAa4E,cAAb,CAA4B,QAAMF,CAAlC,EAAqCE,cAArC,CAAoD,QAApD,EAA8DZ,YAA9D,CAA2EtE,GAAGY,KAA9E,EAAqFyE,MAArF,GAA4F,MAAIN,GAAhG;AACA,aAAKzE,OAAL,CAAa4E,cAAb,CAA4B,QAAMF,CAAlC,EAAqCE,cAArC,CAAoD,MAApD,EAA4DA,cAA5D,CAA2E,QAA3E,EAAqFZ,YAArF,CAAkGtE,GAAGY,KAArG,EAA4GyE,MAA5G,GAAmH,MAAIJ,GAAJ,GAAQ,GAA3H;AACH,KA3NL;AA4NIK,iBAAY,qBAASC,QAAT,EAAkB;AAC1B,aAAKJ,QAAL,GAAcI,QAAd;AACA,YAAIP,IAAE,CAAN;AACA,aAAI,IAAIQ,GAAR,IAAe,KAAKxD,MAApB,EAA2B;AACvB,gBAAIiD,MAAM,KAAKjD,MAAL,CAAYwD,GAAZ,EAAiBC,GAA3B;AACA,gBAAIX,OAAK,KAAK9C,MAAL,CAAYwD,GAAZ,EAAiBE,IAA1B;AACA,gBAAGZ,QAAM,SAAT,EAAmB;AACf,oBAAIa,gBAAc,KAAK3D,MAAL,CAAYwD,GAAZ,EAAiBG,aAAnC;AACA,oBAAIC,WAAS,KAAK5D,MAAL,CAAYwD,GAAZ,EAAiBK,KAA9B;AACA,qBAAKhB,WAAL,CAAiBc,aAAjB,EAA+BC,QAA/B,EAAwCZ,CAAxC,EAA0CC,GAA1C;AACAD;AACH;AACJ;AACJ,KAzOL;;AA2OI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAvB,kBAAa,wBAAU;AACnB,YAAIqC,OAAO,IAAX;AACAhG,YAAI6E,UAAJ,GAAiBC,QAAjB,CAA0B,yBAA1B,EAAqD,EAArD,EAAwD,UAASpC,KAAT,EAAe;AACnE,gBAAIuD,SAASD,KAAKE,UAAL,CAAgB,sBAAhB,CAAb;AACAD,mBAAOzB,YAAP,CAAoBtE,GAAGY,KAAvB,EAA8ByE,MAA9B,GAAuC7C,MAAMyD,KAAN,GAAY,GAAnD;AACA,gBAAIC,SAAS,EAAb;AACA;AACA,gBAAI1D,MAAM2D,QAAN,IAAkB,CAAtB,EAAyB;AACrBD,yBAAS,OAAKpG,IAAIsG,OAAJ,GAAcC,uBAAd,CAAsC7D,MAAM8D,SAA5C,CAAL,GAA4D,GAA5D,GAAgExG,IAAIsG,OAAJ,GAAcC,uBAAd,CAAsC7D,MAAM+D,OAA5C,CAAzE;AACH,aAFD,MAEM,IAAI/D,MAAM2D,QAAN,IAAkB,CAAtB,EAAyB;AAC3B,oBAAI3D,MAAMgE,QAAN,IAAkB,CAAtB,EAAyB;AACrBN,6BAAS,OAAKpG,IAAIsG,OAAJ,GAAcK,gBAAd,CAA+BjE,MAAM8D,SAArC,CAAL,GAAqD,KAArD,GAA2DxG,IAAIsG,OAAJ,GAAcK,gBAAd,CAA+BjE,MAAM+D,OAArC,CAApE;AACH,iBAFD,MAEM,IAAI/D,MAAMgE,QAAN,IAAkB,CAAtB,EAAyB;AAC3BN,6BAAS,OAAKpG,IAAIsG,OAAJ,GAAcK,gBAAd,CAA+BjE,MAAM8D,SAArC,CAAL,GAAqDxG,IAAIsG,OAAJ,GAAcC,uBAAd,CAAsC7D,MAAM8D,SAA5C,CAArD,GAA4G,KAA5G,GAAkHxG,IAAIsG,OAAJ,GAAcK,gBAAd,CAA+BjE,MAAM+D,OAArC,CAAlH,GAAgKzG,IAAIsG,OAAJ,GAAcC,uBAAd,CAAsC7D,MAAM+D,OAA5C,CAAzK;AACH;AACJ,aANK,MAMA,IAAI/D,MAAM2D,QAAN,IAAkB,CAAtB,EAAyB;AAC3BD,yBAAS,MAAIpG,IAAIsG,OAAJ,GAAcM,mCAAd,CAAkDlE,MAAM8D,SAAxD,CAAJ,GAAuE,GAAvE,GAA2ExG,IAAIsG,OAAJ,GAAcM,mCAAd,CAAkDlE,MAAM+D,OAAxD,CAApF;AACH;AACD;AACA,gBAAI/D,MAAMsC,IAAN,IAAc,CAAlB,EAAqB;AACjBoB,yBAAS,UAAQ1D,MAAMmE,aAAd,GAA4B,QAA5B,GAAqCnE,MAAMyD,KAA3C,GAAiD,GAA1D;AACH,aAFD,MAEM,IAAIzD,MAAMsC,IAAN,IAAc,CAAlB,EAAqB;AACvBoB,0BAAU,UAAQ1D,MAAMoE,cAAd,GAA6B,QAA7B,GAAsCpE,MAAMmE,aAA5C,GAA0D,QAA1D,GAAmEnE,MAAMyD,KAAzE,GAA+E,GAAzF;AACH,aAFK,MAEA,IAAIzD,MAAMsC,IAAN,IAAc,CAAlB,EAAqB;AACvBoB,0BAAU,UAAQ1D,MAAMoE,cAAd,GAA6B,OAA7B,GAAqCpE,MAAMmE,aAA3C,GAAyD,QAAzD,GAAkEnE,MAAMyD,KAAxE,GAA8E,GAAxF;AACH,aAFK,MAEA,IAAIzD,MAAMsC,IAAN,IAAc,CAAlB,EAAqB;AACvBoB,0BAAU,aAAW1D,MAAMoE,cAAjB,GAAgC,OAAhC,GAAwCpE,MAAMmE,aAA9C,GAA4D,QAA5D,GAAqEnE,MAAMyD,KAA3E,GAAiF,GAA3F;AACH;AACDH,iBAAKe,IAAL,CAAU3B,cAAV,CAAyB,MAAzB,EAAiCZ,YAAjC,CAA8CtE,GAAGY,KAAjD,EAAwDyE,MAAxD,GAAiEa,MAAjE;AACH,SA3BD,EA2BE,UAASY,KAAT,EAAe,CAEhB,CA7BD;AA8BH,KAlSL;AAmSItD,kBAAa,sBAASX,YAAT,EAAsBC,YAAtB,EAAmC;AAC5C,aAAI,IAAIiE,IAAE,CAAV,EAAYA,IAAElE,aAAamE,MAA3B,EAAkCD,GAAlC,EAAsC;AAClC,gBAAIE,WAASpE,aAAakE,CAAb,CAAb;AACA,gBAAIG,UAAU,IAAd;AACA,iBAAK,IAAIlC,IAAI,CAAb,EAAgBA,IAAIlC,aAAakE,MAAjC,EAAyChC,GAAzC,EAA8C;AAC1C,oBAAIiC,SAASE,EAAT,IAAerE,aAAakC,CAAb,EAAgBmC,EAAnC,EAAuC;AACnCD,8BAAUpE,aAAakC,CAAb,EAAgBR,WAA1B;AACH;AACJ;AACD,iBAAK4C,YAAL,CAAkBH,QAAlB,EAA2BF,IAAE,CAA7B,EAA+BG,OAA/B;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGH,KA9TL;AA+TI5E,qBAAgB,yBAASE,KAAT,EAAe;AAC3B;AACA;AACH,KAlUL;AAmUI4E,kBAAa,sBAASH,QAAT,EAAkBF,CAAlB,EAAoBG,OAApB,EAA4B;AACrC,YAAIG,WAAS,KAAKjH,OAAL,CAAa8E,cAAb,CAA4B,UAAQ6B,CAApC,CAAb;AACAM,iBAASF,EAAT,GAAcF,SAASE,EAAvB;AACA,YAAIG,YAAUL,SAASK,SAAvB;AACA,YAAIC,YAAUN,SAASM,SAAvB;AACA,YAAIC,YAAUP,SAASO,SAAvB;AACA,YAAIC,WAASJ,SAASnC,cAAT,CAAwB,MAAxB,CAAb;AACAuC,iBAASnD,YAAT,CAAsBtE,GAAGuE,MAAzB,EAAiCC,WAAjC,GAA6C0C,OAA7C;AACA;AACA;AACA,YAAInB,SAAOsB,SAASnC,cAAT,CAAwB,QAAxB,EAAkCZ,YAAlC,CAA+CtE,GAAGY,KAAlD,CAAX;AACA,YAAG4G,YAAU,KAAb,EAAmB;AACfzB,mBAAOV,MAAP,GAAcqC,SAASF,YAAU,KAAnB,EAA0BG,QAA1B,KAAuC,GAArD,CAAyD;AAC5D,SAFD,MAEK;AACD5B,mBAAOV,MAAP,GAAcmC,SAAd;AACH;AACD,YAAID,aAAa,CAAjB,EAAoB;AAChB;AACAxB,mBAAOV,MAAP,GAAc,EAAd;AACH,SAHD,MAGM,IAAIkC,aAAa,CAAjB,EAAoB;AACtBxB,mBAAOV,MAAP,GAAgBU,OAAOV,MAAP,GAAgB,GAAhC;AACH;AACD;AACA;AACH;AA3VL,yCA4VY,mBAAU,CAEjB,CA9VL,iDA+VoB,2BAAU;AACzB,QAAG,KAAKuC,SAAL,IAAgB,IAAhB,IAAwB,KAAKA,SAAL,IAAgB,EAA3C,EAA8C;AAC1C,aAAK7F,WAAL,CAAiB8F,QAAjB,CAA0B,mBAA1B,EAA8C,KAAKD,SAAnD;AACH;AACD,CAnWL,yCAqWS,iBAASE,OAAT,EAAkBC,SAAlB,EAA4B;AAC7B,QAAGD,WAAW,eAAd,EAA8B;AAC1B,YAAG,KAAKjE,OAAL,IAAc,CAAjB,EAAmB;AACf;AACH;AACD;AACA,aAAK+D,SAAL,GAAe,IAAf;AACA,YAAII,OAAK,IAAT;AACAlI,YAAI6E,UAAJ,GAAiBC,QAAjB,CAA0B,wBAA1B,EAAmD,EAAnD,EAAuD,UAASpC,KAAT,EAAe;AACnE;AACA;AACA,gBAAIyF,UAAQ,CAAZ;AACA,gBAAIf,UAAU,IAAd;AACA,iBAAK,IAAIH,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AACzB,oBAAIM,WAASW,KAAK5H,OAAL,CAAa8E,cAAb,CAA4B,WAAS6B,IAAE,CAAX,CAA5B,CAAb;AACA,oBAAIvE,MAAM2E,EAAN,IAAYE,SAASF,EAAzB,EAA6B;AACxB,wBAAIM,WAASJ,SAASnC,cAAT,CAAwB,MAAxB,CAAb;AACAgC,8BAAUO,SAASnD,YAAT,CAAsBtE,GAAGuE,MAAzB,EAAiCC,WAA3C;AACAyD,8BAAUlB,IAAE,CAAZ;AACA;AACJ;AACJ;AACD,gBAAIkB,UAAU,CAAV,IAAef,WAAW,IAA9B,EAAoC;AAC/Bc,qBAAKtE,IAAL,CAAUuE,OAAV;AACD,oBAAGzF,MAAM+E,SAAN,IAAiB,CAApB,EAAsB;AACjBS,yBAAKJ,SAAL,GAAe,IAAf;AACJ,iBAFD,MAEK;AACAI,yBAAKJ,SAAL,GAAepF,KAAf;AACAwF,yBAAKJ,SAAL,CAAeV,OAAf,GAAyBA,OAAzB;AACJ;AACJ,aARD,MAQK;AACAgB,wBAAQC,GAAR,CAAY,OAAZ;AACArI,oBAAI4C,gBAAJ,GAAuBC,UAAvB,CAAkC,WAASH,MAAM2E,EAAjD;AACJ;AAEH,SA3BD,EA2BG,YAAU,CAAE,CA3Bf;AA6BT,KApCK,MAqCD,IAAGW,WAAW,UAAd,EAAyB;AACpB,aAAKvE,eAAL,CAAqB,KAAKD,kBAA1B,EAA8C,EAA9C,EAAiD,KAAjD,EAAuD,EAAvD;AACT,KAFI,MAGM,IAAGwE,WAAW,WAAd,EAA0B;AAC3B,aAAKM,SAAL;AACH,KAFI,MAGP;AACH,aAAKC,MAAL,CAAY,qBAAZ,EAAmCP,OAAnC;AACA;AACD,CApZF,iDAsZoB,yBAASQ,SAAT,EAAoBC,SAApB,EAA+BC,WAA/B,EAA4CC,QAA5C,EAAqD;AACjE3I,QAAI4I,UAAJ,GAAiBnF,eAAjB,CAAiC+E,SAAjC,EAA4CC,SAA5C,EAAuDC,WAAvD,EAAoEC,QAApE,EAA8E,IAA9E,EACI,KAAKE,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CADJ,EAEI,KAAKC,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAFJ,EAGI,IAHJ,EAII,KAAKC,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAJJ;AAMA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,CAhcL,mDAicsB,2BAASN,SAAT,EAAoBQ,WAApB,EAAgC;AAC9C,QAAG;AACC,YAAIC,aAAaC,KAAKC,KAAL,CAAWH,WAAX,CAAjB;AACA,YAAGR,aAAW,KAAKjF,YAAnB,EAAgC;AAC5B,iBAAKwD,IAAL,CAAU3B,cAAV,CAAyB,SAAzB,EAAoCZ,YAApC,CAAiDtE,GAAGkJ,UAApD,EAAgEC,WAAhE;AACA;AACA,iBAAKC,kBAAL,CAAwB,KAAK1I,cAA7B;AACA,iBAAK,IAAIqG,IAAI,CAAb,EAAgBA,IAAIgC,WAAWM,IAAX,CAAgBrC,MAApC,EAA4CD,GAA5C,EAAiD;AAC7C,oBAAIuC,QAAQtJ,GAAGuJ,WAAH,CAAe,KAAK9I,cAApB,CAAZ;AACA,oBAAI+I,UAAU1J,IAAIsG,OAAJ,GAAcM,mCAAd,CAAkDqC,WAAWM,IAAX,CAAgBtC,CAAhB,EAAmB0C,SAArE,CAAd;AACA,oBAAIC,WAAW,EAAf;AACA,oBAAIX,WAAWM,IAAX,CAAgBtC,CAAhB,EAAmBQ,SAAnB,IAAgC,CAApC,EAAuC;AACnCmC,+BAAWX,WAAWM,IAAX,CAAgBtC,CAAhB,EAAmBS,SAAnB,GAA+B,KAA1C;AACH,iBAFD,MAEM,IAAIuB,WAAWM,IAAX,CAAgBtC,CAAhB,EAAmBQ,SAAnB,IAAgC,CAApC,EAAuC;AACzCmC,+BAAWX,WAAWM,IAAX,CAAgBtC,CAAhB,EAAmBS,SAAnB,GAA+B,KAA1C;AACH,iBAFK,MAEA,IAAIuB,WAAWM,IAAX,CAAgBtC,CAAhB,EAAmBQ,SAAnB,IAAgC,CAApC,EAAuC;AACzCmC,+BAAWX,WAAWM,IAAX,CAAgBtC,CAAhB,EAAmBS,SAAnB,GAA+B,KAA1C;AACH;AACD,oBAAImC,SAAS,iDAA+CH,OAA/C,GAAuD,+BAAvD,GAAuFE,QAAvF,GAAgG,UAA7G;AACAJ,sBAAMpE,cAAN,CAAqB,WAArB,EAAkCZ,YAAlC,CAA+CtE,GAAG4J,QAAlD,EAA4DvE,MAA5D,GAAqEsE,MAArE;AACAL,sBAAMlE,MAAN,GAAe,IAAf;AACA,qBAAK1E,cAAL,CAAoBmJ,QAApB,CAA6BP,KAA7B;AACH;AACJ,SApBD,MAoBM,IAAGhB,aAAW,KAAKhF,kBAAnB,EAAsC;AACxCxD,gBAAIiC,WAAJ,GAAkB8F,QAAlB,CAA2B,gBAA3B,EAA4CkB,WAAWM,IAAvD;AACH;AACJ,KAzBD,CA0BA,OAAOvC,KAAP,EAAa,CAEZ;AACJ,CA/dL,mDAgesB,2BAASwB,SAAT,EAAoBwB,UAApB,EAAgCC,MAAhC,EAAuC,CAExD,CAleL","file":"UIChouJiang.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["/*\n    UIMessage 模态消息界面\n*/\n\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        bg_turn:cc.Node,\n        daylist:cc.Node,\n        loglist:cc.Node,\n        turn_light:cc.Node,\n\n        recordListDemo:cc.Node,\n        logListContent:cc.Node,\n\n        login_day:cc.Label,\n\n        light1:cc.SpriteFrame,\n        light2:cc.SpriteFrame,\n        light3:cc.SpriteFrame,\n        light4:cc.SpriteFrame,\n        light5:cc.SpriteFrame,\n        light6:cc.SpriteFrame,\n        light7:cc.SpriteFrame,\n        light8:cc.SpriteFrame,\n\n        icon_card0:cc.SpriteFrame,  //再接再励\n        icon_card1:cc.SpriteFrame,  //乐斗\n        icon_card2:cc.SpriteFrame,  //话费\n        icon_card6:cc.SpriteFrame, //鸭子\n        icon_card7:cc.SpriteFrame, //ipro\n        icon_card8:cc.SpriteFrame, //小米电视\n        icon_card9:cc.SpriteFrame, //开始\n        icon_card10:cc.SpriteFrame, //iphonex\n    },\n    //初始化\n    OnCreateInit:function(){\n        this.FormManager=app.FormManager();\n        this.signin = this.SysDataManager.GetTableDict(\"signin\");\n        this.speed=0;\n        this.FinishRoation=0;\n        this.RegEvent(\"OnChouJiangLingQu\", this.Event_LingQuNtf);\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\n    },\n    Event_CodeError:function(event){\n        let codeInfo = event;\n        if(codeInfo[\"Code\"] == 1502){\n            app.SysNotifyManager().ShowSysMsg('抽奖活动暂未开启');\n        }else if(codeInfo[\"Code\"] == 626){\n            app.SysNotifyManager().ShowSysMsg('抽奖次数不足，无法抽奖');\n        }\n    },\n    //---------显示函数--------------------\n    OnShow:function(luckDrawData,luckDrawSprs){\n        this.setCount=0;\n        let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n        if (cc.sys.isNative) {\n            this.getRecordUrl = \"http://fb.qicaiqh.com/index.php?module=Api&action=GetLuckRecords&pid=\"+heroID;\n            this.getRecordByTypeUrl = \"http://fb.qicaiqh.com/index.php?module=Api&action=GetLuckRecords&pid=\"+heroID+\"&type=8\";\n        }else{\n            this.getRecordUrl = \"http://tfb.qicaiqh.com/index.php?module=Api&action=GetLuckRecords&pid=\"+heroID;\n            this.getRecordByTypeUrl = \"http://tfb.qicaiqh.com/index.php?module=Api&action=GetLuckRecords&pid=\"+heroID+\"&type=8\";\n        }\n        this.SendHttpRequest(this.getRecordUrl, \"\",\"GET\",{});\n        // this.NewZhongJiang();\n        this.LuckDrawList(luckDrawData,luckDrawSprs);\n        this.FreeLuckDraw();\n        // this.schedule(this.NewZhongJiang,5);\n    },\n    Turn:function(finish,isShiChou=false){\n        this.chouing=1; //抽奖开始\n        this.bg_turn.rotation=0;\n        this.NowRotation=0;\n        this.speed=1;\n        if(isShiChou==true){\n            this.FinishRoation=720*8+(360-finish*30)+30;\n        }else{\n            this.FinishRoation=720*2+(360-finish*30)+30;\n        }\n        this.Zhuang();\n\n        this.linght=1;\n        this.schedule(this.lightChange,0.2);\n        \n    },\n    OnUpdate:function(){\n        if(this.NowRotation>=this.FinishRoation){\n            this.ShowJiang();\n            return;\n        }else if(this.NowRotation<this.FinishRoation){\n            this.Zhuang();\n        }\n    },\n    lightChange:function(){\n            if(this.linght==0){\n                return;\n            }\n            this.linght=this.linght+1;\n            if(this.linght==9){\n                this.linght=1;\n            }\n            if(this.linght==1){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light1;\n            }else if(this.linght==2){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light2;\n            }else if(this.linght==3){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light3;\n            }else if(this.linght==4){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light4;\n            }else if(this.linght==5){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light5;\n            }else if(this.linght==6){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light6;\n            }else if(this.linght==7){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light7;\n            }else if(this.linght==8){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light8;\n            }            \n        \n    },\n    ShowJiang:function(){\n        if(this.chouing==0){\n            return;\n        }\n        this.SendHttpRequest(this.getRecordUrl, \"\",\"GET\",{});\n        this.FreeLuckDraw();\n        this.chouing=0; //抽奖结束\n        this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light1;\n        this.bg_turn.rotation=this.FinishRoation;\n        this.linght=0;\n        this.ChouJiangResult();\n        //this.SoundManager.StopSoundByAudioID('zhuanpan');\n    },\n    OnClose:function(){\n        app.NetManager().SendPack(\"game.CPlayerLuckDraw\",{\"type\":7});\n    },\n    Zhuang:function(){\n        //this.SoundManager.PlaySound('zhuanpan');\n        this.NowRotation=this.NowRotation+this.speed;\n        if(this.NowRotation>this.FinishRoation){\n            return;\n        }\n        /*if(this.speed){\n            let id=parseInt(this.speed*10%9);\n            if(id==1){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light1;\n            }else if(id==2){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light2;\n            }else if(id==3){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light3;\n            }else if(id==4){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light4;\n            }else if(id==5){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light5;\n            }else if(id==6){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light6;\n            }else if(id==7){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light7;\n            }else if(id==8){\n                this.turn_light.getComponent(cc.Sprite).spriteFrame=this.light8;\n            }\n        }*/\n        if(this.FinishRoation-this.NowRotation<720){\n            if(this.FinishRoation-this.NowRotation<15){\n                this.speed=this.speed-0.1;\n                if(this.speed<0.2){\n                    this.speed=0.2;\n                }\n            }else if(this.FinishRoation-this.NowRotation<30){\n                this.speed=this.speed-0.1;\n                if(this.speed<0.6){\n                    this.speed=0.6;\n                }\n            }else if(this.FinishRoation-this.NowRotation<60){\n                this.speed=this.speed-0.1;\n                if(this.speed<0.8){\n                    this.speed=0.8;\n                }\n            }else if(this.FinishRoation-this.NowRotation<120){\n                this.speed=this.speed-0.1;\n                if(this.speed<1){\n                    this.speed=1;\n                }\n            }else if(this.FinishRoation-this.NowRotation<240){\n                this.speed=this.speed-0.1;\n                if(this.speed<2){\n                    this.speed=2;\n                }\n\n            }else{\n                this.speed=this.speed-0.1;\n                if(this.speed<3){\n                    this.speed=3;\n                }\n            }\n        }else{\n            if(this.speed<8){\n                this.speed=this.speed+0.1;\n            }\n        }\n        this.bg_turn.rotation=this.NowRotation;\n    },\n    ShowJiangLi:function(type,num,j,day){\n\n        if(type==6){\n            //鸭子\n            this.daylist.getChildByName('day'+j).getChildByName('icon').getComponent(cc.Sprite).spriteFrame=this.icon_card6;\n\n        }else if(2 == type){\n            this.daylist.getChildByName('day'+j).getChildByName('icon').getComponent(cc.Sprite).spriteFrame=this.icon_card2;\n        }\n        else if(type==1){\n            //乐斗\n            this.daylist.getChildByName('day'+j).getChildByName('icon').getComponent(cc.Sprite).spriteFrame=this.icon_card1;\n        }\n        if(this.loginnum>=day){\n            this.daylist.getChildByName('day'+j).getChildByName('ling').active=true;\n        }else{\n            this.daylist.getChildByName('day'+j).getChildByName('ling').active=false;\n        }\n        this.daylist.getChildByName('day'+j).getChildByName('lb_num').getComponent(cc.Label).string='x'+num;\n        this.daylist.getChildByName('day'+j).getChildByName('tian').getChildByName('lb_day').getComponent(cc.Label).string='第'+day+'天';\n    },\n    ReSetLingQu:function(loginNum){\n        this.loginnum=loginNum;\n        let j=1;\n        for(let key in this.signin){\n            let day = this.signin[key].Day;\n            let type=this.signin[key].Type;\n            if(type=='LoginIn'){\n                let UniformitemId=this.signin[key].UniformitemId;\n                let UniCount=this.signin[key].Count;\n                this.ShowJiangLi(UniformitemId,UniCount,j,day);\n                j++;\n            }\n        }\n    },\n    \n    // NewZhongJiang:function(){\n    //     if(this.chouing==1){\n    //         return;\n    //     }\n    //     let that=this;\n    //     app.NetManager().SendPack(\"game.CPlayerLuckDraw\",{\"type\":2}, function(event){\n    //            //console.log(event);\n    //            that.NewZhongJiangData(event);\n    //     }, function(){});\n    // },\n    // NewZhongJiangData:function(serverPack){\n    //     //console.log(serverPack);\n    //     let luckDraws=serverPack.luckDraws;\n    //     for(let i=0;i<luckDraws.length;i++){\n    //         this.ShowNewZhongJiangData(luckDraws[i],i+1);\n    //     }\n    // },\n    // ShowNewZhongJiangData:function(data,i){\n    //     let logNode=this.loglist.getChildByName('list'+i);\n    //     let pName=data.pName;\n    //     let prizeName=data.prizeName;\n    //     logNode.getChildByName('rich_text').getComponent(cc.RichText).string='<color=#942e2e>●恭喜</color> <color=#8328c3>'+pName.substring(0,10)+'</color> <color=#942e2e>  摇到 '+prizeName+'</color> ';\n    // },\n    FreeLuckDraw:function(){\n        let self = this;\n        app.NetManager().SendPack(\"luckdraw.CLuckDrawQuery\", {},function(event){\n            let lb_num = self.GetWndNode('btn_choujiang/lb_num');\n            lb_num.getComponent(cc.Label).string = event.value+\"次\";\n            let tipStr = \"\";\n            //时间段\n            if (event.dateType == 0) {\n                tipStr = \"每天\"+app.ComTool().GetDateHourMinuteString(event.startTime)+\"到\"+app.ComTool().GetDateHourMinuteString(event.endTime);\n            }else if (event.dateType == 1) {\n                if (event.timeSlot == 0) {\n                    tipStr = \"每周\"+app.ComTool().GetDateDayString(event.startTime)+\"到每周\"+app.ComTool().GetDateDayString(event.endTime);\n                }else if (event.timeSlot == 1) {\n                    tipStr = \"每周\"+app.ComTool().GetDateDayString(event.startTime)+app.ComTool().GetDateHourMinuteString(event.startTime)+\"到每周\"+app.ComTool().GetDateDayString(event.endTime)+app.ComTool().GetDateHourMinuteString(event.endTime);\n                }\n            }else if (event.dateType == 2) {\n                tipStr = \"从\"+app.ComTool().GetDateYearMonthDayHourMinuteString(event.startTime)+\"到\"+app.ComTool().GetDateYearMonthDayHourMinuteString(event.endTime);\n            }\n            //类型\n            if (event.type == 0) {\n                tipStr = \"可免费抽奖\"+event.luckDrawValue+\"次，当前剩余\"+event.value+\"次\";\n            }else if (event.type == 1) {\n                tipStr += \"，累计消耗\"+event.conditionValue+\"钻石，可抽奖\"+event.luckDrawValue+\"次，当前剩余\"+event.value+\"次\";\n            }else if (event.type == 2) {\n                tipStr += \"，累计局数\"+event.conditionValue+\"局，可抽奖\"+event.luckDrawValue+\"次，当前剩余\"+event.value+\"次\";\n            }else if (event.type == 3) {\n                tipStr += \"，累计获得大赢家\"+event.conditionValue+\"次，可抽奖\"+event.luckDrawValue+\"次，当前剩余\"+event.value+\"次\";\n            }\n            self.node.getChildByName('tip1').getComponent(cc.Label).string = tipStr;\n        },function(error){\n            \n        });\n    },\n    LuckDrawList:function(luckDrawData,luckDrawSprs){\n        for(let i=0;i<luckDrawData.length;i++){\n            let luckData=luckDrawData[i];\n            let luckSpr = null;\n            for (let j = 0; j < luckDrawSprs.length; j++) {\n                if (luckData.id == luckDrawSprs[j].id) {\n                    luckSpr = luckDrawSprs[j].spriteFrame;\n                }\n            }\n            this.ShowLuckData(luckData,i+1,luckSpr);\n        }\n        // app.NetManager().SendPack(\"game.CPlayerLuckDraw\", {\"type\":1}, function(event){\n        //      //console.log(event);\n        //      that.setCount=event.setCount;\n        //      that.node.getChildByName('tip1').getComponent(cc.Label).string='每天玩64局就送一次免费抽奖（当前'+that.setCount+'局）,不累加';\n        //      let loginNum=event.loginNum;\n        //      that.login_day.string=loginNum;\n        //      that.ReSetLingQu(loginNum);\n        //      let luckDraws=event.luckDraws;\n        //      for(let i=0;i<luckDraws.length;i++){\n        //         let luckData=luckDraws[i];\n        //         that.ShowLuckData(luckData,i+1);\n        //      }\n\n        // }, function(){});\n\n\n    },\n    Event_LingQuNtf:function(event){\n        // this.login_day.string=event.detail.loginNum;\n        // this.ReSetLingQu(event.detail.loginNum);\n    },\n    ShowLuckData:function(luckData,i,luckSpr){\n        let luckNode=this.bg_turn.getChildByName('jiang'+i);\n        luckNode.id = luckData.id;\n        let prizeName=luckData.prizeName;\n        let prizeType=luckData.prizeType;\n        let rewardNum=luckData.rewardNum;\n        let iconNode=luckNode.getChildByName('icon');\n        iconNode.getComponent(cc.Sprite).spriteFrame=luckSpr;\n        //let BaseWidth=84.8;\n        //let BaseHeight=97.6;\n        let lb_num=luckNode.getChildByName('lb_num').getComponent(cc.Label);\n        if(rewardNum>10000){\n            lb_num.string=parseInt(rewardNum/10000).toString() + '万';;\n        }else{\n            lb_num.string=rewardNum;\n        }\n        if (prizeType == 0) {\n            //谢谢参与没有数量\n            lb_num.string=\"\";\n        }else if (prizeType == 8) {\n            lb_num.string = lb_num.string + \"元\";\n        }\n        //iconNode.width=BaseWidth;\n        //iconNode.height=BaseHeight;\n    },\n    OnClose:function(){\n\n    },\n    ChouJiangResult:function(){\n    \tif(this.luckyData!=null && this.luckyData!=''){\n        \tthis.FormManager.ShowForm('UIChouJiangResult',this.luckyData);\n    \t}\n    },\n    //---------点击函数---------------------\n\tOnClick:function(btnName, eventData){\n        if(btnName == \"btn_choujiang\"){\n            if(this.chouing==1){\n                return;\n            }\n            // this.Turn(5);return;\n            this.luckyData=null;\n            let that=this;\n            app.NetManager().SendPack(\"luckdraw.CLuckDrawExec\",{}, function(event){\n               //console.log(event);\n               //that.Turn(5);\n               let prizeId=0;\n               let luckSpr = null;\n               for (let i = 0; i < 12; i++) {\n                   let luckNode=that.bg_turn.getChildByName('jiang'+(i+1));\n                   if (event.id == luckNode.id) {\n                        let iconNode=luckNode.getChildByName('icon');\n                        luckSpr = iconNode.getComponent(cc.Sprite).spriteFrame;\n                        prizeId = i+1;\n                        break;\n                   }\n               }\n               if (prizeId > 0 && luckSpr != null) {\n                    that.Turn(prizeId);\n                   if(event.prizeType==0){\n                        that.luckyData=null;\n                   }else{\n                        that.luckyData=event;\n                        that.luckyData.luckSpr = luckSpr;\n                   }\n               }else{\n                    console.log(\"找不到奖励\");\n                    app.SysNotifyManager().ShowSysMsg('找不到奖励：'+event.id);\n               }\n               \n            }, function(){});\n\n\t\t}\n\t\telse if(btnName == \"btn_jilu\"){\n            this.SendHttpRequest(this.getRecordByTypeUrl, \"\",\"GET\",{});\n\t\t}\n        else if(btnName == \"btn_close\"){\n            this.CloseForm();\n        }\n\t\telse{\n\t\t\tthis.ErrLog(\"OnClick:%s not find\", btnName);\n\t\t}\n\t},\n\n    SendHttpRequest:function(serverUrl, argString, requestType, sendPack){\n        app.NetRequest().SendHttpRequest(serverUrl, argString, requestType, sendPack, 2000, \n            this.OnReceiveHttpPack.bind(this), \n            this.OnConnectHttpFail.bind(this),\n            null,\n            this.OnConnectHttpFail.bind(this),\n\t\t);\n        // var url = [serverUrl, argString].join(\"\")\n\n        // var dataStr = JSON.stringify(sendPack);\n\n        // //每次都实例化一个，否则会引起请求结束，实例被释放了\n        // var httpRequest = new XMLHttpRequest();\n\n        // httpRequest.timeout = 2000;\n\n\n        // httpRequest.open(requestType, url, true);\n        // //服务器json解码\n        // httpRequest.setRequestHeader(\"Content-Type\", \"application/json\");\n        // var that = this;\n        // httpRequest.onerror = function(){\n        //     that.ErrLog(\"httpRequest.error:%s\", url);\n        //     that.OnConnectHttpFail(serverUrl, httpRequest.readyState, httpRequest.status);\n        // };\n        // httpRequest.ontimeout = function(){\n            \n        // };\n        // httpRequest.onreadystatechange = function(){\n        //     //执行成功\n        //     if (httpRequest.status == 200){\n        //         if(httpRequest.readyState == 4){\n        //             that.OnReceiveHttpPack(serverUrl, httpRequest.responseText);\n        //         }\n        //     }\n        //     else{\n        //         that.OnConnectHttpFail(serverUrl, httpRequest.readyState, httpRequest.status);\n        //         that.ErrLog(\"onreadystatechange(%s,%s)\", httpRequest.readyState, httpRequest.status);\n        //     }\n        // };\n        // httpRequest.send(dataStr);\n\n    },\n    OnReceiveHttpPack:function(serverUrl, httpResText){\n        try{\n            let serverPack = JSON.parse(httpResText);\n            if(serverUrl==this.getRecordUrl){\n                this.node.getChildByName(\"logList\").getComponent(cc.ScrollView).scrollToTop();\n                //this.logListContent.removeAllChildren();\n                this.DestroyAllChildren(this.logListContent);\n                for (let i = 0; i < serverPack.data.length; i++) {\n                    let child = cc.instantiate(this.recordListDemo);\n                    let timeStr = app.ComTool().GetDateYearMonthDayHourMinuteString(serverPack.data[i].timestamp);\n                    let prizeStr = \"\";\n                    if (serverPack.data[i].prizeType == 1) {\n                        prizeStr = serverPack.data[i].rewardNum + \"个乐豆\";\n                    }else if (serverPack.data[i].prizeType == 2) {\n                        prizeStr = serverPack.data[i].rewardNum + \"个钻石\";\n                    }else if (serverPack.data[i].prizeType == 8) {\n                        prizeStr = serverPack.data[i].rewardNum + \"元红包\";\n                    }\n                    let logStr = '<color=#942e2e>●恭喜您于</color> <color=#8328c3>'+timeStr+'</color> <color=#942e2e>  摇到 '+prizeStr+'</color>';\n                    child.getChildByName(\"rich_text\").getComponent(cc.RichText).string = logStr;\n                    child.active = true;\n                    this.logListContent.addChild(child);\n                }\n            }else if(serverUrl==this.getRecordByTypeUrl){\n                app.FormManager().ShowForm('UIChouJiangLog',serverPack.data);\n            }\n        }\n        catch (error){\n            \n        }\n    },\n    OnConnectHttpFail:function(serverUrl, readyState, status){\n        \n    },\n});\n"]}