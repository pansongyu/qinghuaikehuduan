{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\UIDaiKaiLog.js"],"names":["app","require","cc","Class","extends","properties","UIDaiKaiLog_Child","Prefab","Scrollow","Node","OnCreateInit","FormManager","ComTool","loopScrollView","getComponent","NetManager","HeroManager","heroID","GetHeroProperty","OnShow","SendPack","type","OnPack_HelpRoomList","bind","OnPack_HelpRoomListFail","OnPack_CPlayerRoomRecord","serverPack","hasOwnProperty","helpRoomList","everyGameKeys","Object","keys","ScrollViewData","DestroyAllChildren","console","log","OnPack_CPlayerRoomRecordFail","InitScrollData","OnClick","btnName","btnNode","CloseForm","ShowForm","ErrLog"],"mappings":";;;;;;AAAA;;;AAGA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,UAAR,CADJ;;AAGLI,gBAAY;AACRC,2BAAmBJ,GAAGK,MADd;AAERC,kBAASN,GAAGO;AAFJ,KAHP;;AAQLC,kBAAc,wBAAY;AACvB,aAAKC,WAAL,GAAmBX,IAAIW,WAAJ,EAAnB;AACA,aAAKC,OAAL,GAAeZ,IAAIY,OAAJ,EAAf;AACA,aAAKC,cAAL,GAAsB,KAAKC,YAAL,CAAkB,gBAAlB,CAAtB;AACA,aAAKC,UAAL,GAAkBf,IAAIe,UAAJ,EAAlB;AACA,aAAKC,WAAL,GAAmBhB,IAAIgB,WAAJ,EAAnB;AACA,aAAKC,MAAL,GAAcjB,IAAIgB,WAAJ,GAAkBE,eAAlB,CAAkC,KAAlC,CAAd;AACF,KAfI;AAgBLC,YAAO,kBAAU;AACjB;AACM,aAAKJ,UAAL,CAAgBK,QAAhB,CAAyB,2BAAzB,EAAqD,EAACC,MAAK,CAAN,EAArD,EAA8D,KAAKC,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,CAA9D,EAAkG,KAAKC,uBAAL,CAA6BD,IAA7B,CAAkC,IAAlC,CAAlG;AACL,KAnBI;AAoBLE,8BAAyB,kCAASC,UAAT,EAAoB;AACzC,YAAGA,WAAWC,cAAX,CAA0B,cAA1B,CAAH,EAA6C;AACzC,gBAAIC,eAAaF,WAAWE,YAA5B;AACA5B,gBAAI,cAAJ,IAAoB4B,YAApB;AACA,gBAAIC,gBAAgBC,OAAOC,IAAP,CAAYH,YAAZ,CAApB;AACA,iBAAKI,cAAL,CAAoBH,aAApB;AACH,SALD,MAKK;AACD;AACA,iBAAKI,kBAAL,CAAwB,KAAKzB,QAA7B;AACA;AACH;AAEJ,KAhCI;AAiCJc,yBAAoB,6BAASI,UAAT,EAAoB;AACrC,YAAGA,WAAWC,cAAX,CAA0B,cAA1B,CAAH,EAA6C;AACzC,gBAAIC,eAAaF,WAAWE,YAA5B;AACA5B,gBAAI,cAAJ,IAAoB4B,YAApB;AACA,gBAAIC,gBAAgBC,OAAOC,IAAP,CAAYH,YAAZ,CAApB;AACA,iBAAKI,cAAL,CAAoBH,aAApB;AACAK,oBAAQC,GAAR,CAAY,iBAAZ,EAA8BN,aAA9B;AACH,SAND,MAMK;AACD;AACA,iBAAKI,kBAAL,CAAwB,KAAKzB,QAA7B;AACA;AACH;AAEJ,KA9CI;AA+CLgB,6BAAwB,iCAASE,UAAT,EAAoB;AACxC;AACA,aAAKO,kBAAL,CAAwB,KAAKzB,QAA7B;AACA;AACH,KAnDI;AAoDL4B,kCAA6B,sCAASV,UAAT,EAAoB;AAC7C;AACA,aAAKO,kBAAL,CAAwB,KAAKzB,QAA7B;AACA;AACH,KAxDI;AAyDLwB,oBAAe,wBAASH,aAAT,EAAuB;AAClC,aAAKhB,cAAL,CAAoBwB,cAApB,CAAmC,mBAAnC,EAAwD,KAAK/B,iBAA7D,EAAgFuB,aAAhF;AACH,KA3DI;AA4DLS,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;AAC9B,YAAGD,WAAW,WAAd,EAA0B;AACtB,iBAAKE,SAAL;AACH,SAFD,MAEM,IAAGF,WAAS,UAAZ,EAAuB;AAClC;AACS,iBAAK5B,WAAL,CAAiB+B,QAAjB,CAA0B,UAA1B;AACA,iBAAK/B,WAAL,CAAiB8B,SAAjB,CAA2B,aAA3B;AACT,SAJW,MAIP;AACK,iBAAKE,MAAL,CAAY,8BAAZ,EAA2CJ,OAA3C;AACH;AACJ;AAtEI,CAAT","file":"UIDaiKaiLog.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["/*\n小傅最新修改 2017-10-13 \n */\nvar app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        UIDaiKaiLog_Child: cc.Prefab,\n        Scrollow:cc.Node,\n    },\n\n    OnCreateInit: function () {\n       this.FormManager = app.FormManager();\n       this.ComTool = app.ComTool();\n       this.loopScrollView = this.getComponent(\"LoopScrollView\");\n       this.NetManager = app.NetManager();\n       this.HeroManager = app.HeroManager(); \n       this.heroID = app.HeroManager().GetHeroProperty(\"pid\");\n    },\n    OnShow:function(){\n\t\t  //获取带开放记录\n          this.NetManager.SendPack(\"helproom.CHelpRoomGetList\",{type:2},this.OnPack_HelpRoomList.bind(this),this.OnPack_HelpRoomListFail.bind(this));\n    },\n    OnPack_CPlayerRoomRecord:function(serverPack){\n        if(serverPack.hasOwnProperty('helpRoomList')){\n            let helpRoomList=serverPack.helpRoomList;\n            app['helpRoomList']=helpRoomList;\n            let everyGameKeys = Object.keys(helpRoomList);\n            this.ScrollViewData(everyGameKeys);\n        }else{\n            //this.Scrollow.removeAllChildren();\n            this.DestroyAllChildren(this.Scrollow);\n            return;\n        }\n        \n    },\n     OnPack_HelpRoomList:function(serverPack){\n        if(serverPack.hasOwnProperty('helpRoomList')){\n            let helpRoomList=serverPack.helpRoomList;\n            app['helpRoomList']=helpRoomList;\n            let everyGameKeys = Object.keys(helpRoomList);\n            this.ScrollViewData(everyGameKeys);\n            console.log(\"everyGameKeys :\",everyGameKeys);\n        }else{\n            //this.Scrollow.removeAllChildren();\n            this.DestroyAllChildren(this.Scrollow);\n            return;\n        }\n        \n    },\n    OnPack_HelpRoomListFail:function(serverPack){\n        //this.Scrollow.removeAllChildren();\n        this.DestroyAllChildren(this.Scrollow);\n        return;\n    },\n    OnPack_CPlayerRoomRecordFail:function(serverPack){\n        //this.Scrollow.removeAllChildren();\n        this.DestroyAllChildren(this.Scrollow);\n        return;\n    },\n    ScrollViewData:function(everyGameKeys){\n        this.loopScrollView.InitScrollData(\"UIDaiKaiLog_Child\", this.UIDaiKaiLog_Child, everyGameKeys);\n    },\n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_close\"){\n            this.CloseForm();\n        }else if(btnName=='btn_list'){\n\t\t\t//打开代开放记录\n            this.FormManager.ShowForm(\"UIDaiKai\");\n            this.FormManager.CloseForm('UIDaiKaiLog');\n\t\t}else{\n            this.ErrLog(\"OnClick(%s) not find btnName\",btnName);\n        }\n    },\n});\n"]}