{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\dzzj/assets\\script\\ui\\uiGame\\dzzj\\dzzj_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","prefab_zhadan","Prefab","prefab_card","you","Label","lb1","lbSportsPoint","OnLoad","GetModel","ComTool","ShareDefine","PokerCard","ygwsk_PokerCard","ShowPlayerJieSuan","ShowPlayerHuaCard","ShowPlayerHuImg","huNode","huTypeName","huType","HuTypeStringDict","getComponent","string","HuType_DianPao","HuType_JiePao","HuType_ZiMo","HuType_QGH","onPlusScore","s","ShowPlayerData","setEnd","playerAll","index","jin1","jin2","dPos","yingBaoPos","posResultList","posHuArray","Array","posCount","length","myRanksType","myPid","HeroManager","GetHeroID","i","posInfo","pos","pid","ranksType","posHuType","PlayerInfo","node","active","UpdatePlayData","getChildByName","fa","WeChatManager","InitHeroHeadImage","weChatHeadImage","ShowHeroHead","posEndList","piaoHua","endType","str","winLosePoint","point","sportsPoint","prizeCardList","zhaDanLayOut","removeAllChildren","console","log","prizeCard","prizeInfos","prizeInfo","cardList","isBeiMie","carNum","array","concat","push","l","createZhaDanNode","j","children","paiNode","zhashu","pailist","slice","num","createCardNode","k","cardNode","cardValue","cardRealValue","GetCardValue","isRazz","ShowCard","cardType","sameCardNum","isLastCard","isShowLandowner","hideBg","GetPokeCard","layOutNode","card","instantiate","name","addChild","LabelName","huTypeDict","QDHu","Gang","JieGang","QYS","Long","HunYou","AnGang","Hu"],"mappings":"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","file":"dzzj_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\dzzj","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseMJ_winlost_child\"),\n\n    properties: {\n        prefab_zhadan: cc.Prefab,\n        prefab_card: cc.Prefab,\n        you: cc.Label,\n        lb1: cc.Label,\n        lbSportsPoint: cc.Label,\n    },\n\n    // use this for initialization\n    OnLoad: function () {\n        app[\"ygwsk_PokerCard\"] = require(\"ygwsk_PokerCard\").GetModel;\n        this.ComTool = app.ComTool();\n        this.ShareDefine = app.ShareDefine();\n        this.PokerCard = app.ygwsk_PokerCard();\n    },\n    ShowPlayerJieSuan() {\n\n    },\n    ShowPlayerHuaCard() {\n\n    },\n    ShowPlayerHuImg: function (huNode, huTypeName) {\n        /*huLbIcon\n        *  0:单吊，1：点炮，2：单游，3：胡，4：六金，5：平胡，6:抢杠胡 7:抢金，8：三游，9：四金倒，10：三金倒，11：三金游，12：十三幺\n        *  13：双游，14：天胡，15：五金，16：自摸 17:接炮\n        */\n        let huType = this.ShareDefine.HuTypeStringDict[huTypeName];\n        if (typeof (huType) == \"undefined\") {\n            huNode.getComponent(cc.Label).string = '';\n        } else if (huType == this.ShareDefine.HuType_DianPao) {\n            huNode.getComponent(cc.Label).string = '点泡';\n        } else if (huType == this.ShareDefine.HuType_JiePao) {\n            huNode.getComponent(cc.Label).string = '接炮';\n        } else if (huType == this.ShareDefine.HuType_ZiMo) {\n            huNode.getComponent(cc.Label).string = '自摸';\n        } else if (huType == this.ShareDefine.HuType_QGH) {\n            huNode.getComponent(cc.Label).string = '抢杠胡';\n        } else {\n            huNode.getComponent(cc.Label).string = '';\n        }\n    },\n\n    onPlusScore(s) {\n        if (s > 0) {\n            return '+' + s;\n        }\n        return s;\n    },\n\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        let jin1 = setEnd.jin1;\n        let jin2 = setEnd.jin2;\n        let dPos = setEnd.dPos;\n        let yingBaoPos = setEnd[\"yingBaoPos\"];\n        let posResultList = setEnd[\"posResultList\"];\n        let posHuArray = new Array();\n        let posCount = posResultList.length;\n        this.myRanksType = -1;\n        let myPid = app.HeroManager().GetHeroID();\n        for (let i = 0; i < posCount; i++) {\n            let posInfo = posResultList[i];\n            let pos = posInfo[\"pos\"];\n            let pid = posInfo[\"pid\"];\n            let ranksType = posInfo[\"ranksType\"];\n            let posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n            posHuArray[pos] = posHuType;\n            if (myPid == pid) {\n                this.myRanksType = ranksType;\n            }\n        }\n        let PlayerInfo = playerAll[index];\n        this.node.active = true;\n        this.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2);\n        let huNode = this.node.getChildByName('jiesuan').getChildByName('hutype');\n        this.ShowPlayerHuImg(huNode, posResultList[index]['huType']);\n\n        if (dPos === index) {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n        }\n        if (this.myRanksType == PlayerInfo[\"ranksType\"]) {\n            this.node.getChildByName(\"user_info\").getChildByName(\"img_huo\").active = true;\n        } else {\n            this.node.getChildByName(\"user_info\").getChildByName(\"img_huo\").active = fa;\n        }\n        //显示头像，如果头像UI\n        if (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n\n\n        //\n        let posEndList = posResultList[index];\n\n        //硬包、素包、反包标识\n        this.node.getChildByName(\"user_info\").getChildByName('img_yb').active = yingBaoPos == index;\n\n        this.node.getChildByName(\"user_info\").getChildByName('img_maima').active = posEndList.piaoHua;\n\n        //显示头游\n        let endType = posEndList.endType;//游数  0为默认值\n        if(endType==\"ONE\"){\n            this.you.string=\"头游\";\n        }else if(endType==\"TWO\"){\n            this.you.string=\"二游\";\n        }else if(endType==\"THREE\"){\n            this.you.string=\"三游\";\n        }else if(endType==\"FOUR\"){\n            this.you.string=\"末游\";\n        }else{\n            this.you.string=\"\";\n        }\n\n        let str = '';\n        //输赢分\n       /* str += '奖分:'\n        str += this.onPlusScore(posEndList.prizePoint) + '  ';*/\n\n\n        // str += '捡分:';\n        // str += this.onPlusScore(posEndList.k510Point) + '  ';\n\n\n        // str += '奖分:';\n        // str += this.onPlusScore(posEndList.prizePoint) + '  ';\n\n        \n        // str += '买马:';\n        // str += this.onPlusScore(posEndList.piaoFen) + '  ';\n\n        //赏数\n        str += '输赢分:';\n        str += this.onPlusScore(posEndList.winLosePoint) + '  ';\n\n        str += '总分:';\n        str += this.onPlusScore(posEndList.point) + '  ';\n\n        this.lb1.string = str;\n\n        if (typeof(posEndList.sportsPoint)!=\"undefined\") {\n            this.lbSportsPoint.string = '比赛分:' + posEndList.sportsPoint;\n        }else{\n            this.lbSportsPoint.string = '';\n        }\n\n        //\n        // if (posEndList.totalPoint > 0) {\n        //     PlayerNode.getChildByName('lb_zdf').getComponent(cc.Label).string = \"+\" + posEndList.totalPoint;\n        // } else {\n        //     PlayerNode.getChildByName('lb_zdf').getComponent(cc.Label).string = posEndList.totalPoint;\n        // }\n\n        //显示牌\n        let prizeCardList = [];\n        let zhaDanLayOut = this.node.getChildByName('zhadan');\n        zhaDanLayOut.removeAllChildren();\n        console.log('当前显示的玩家是', posEndList);\n        // let prizeCard = posEndList.prizeCardList;//[cardList:{}]\n        let prizeCard = [];\n        let prizeInfos = posEndList.prizeInfos;//[cardList:{},isBeiMie:true]\n        if (prizeInfos.length > 0) {\n            for (let i = 0; i < prizeInfos.length; i++) {\n                let prizeInfo = prizeInfos[i];\n                let cardList = prizeInfo[\"cardList\"];\n                let isBeiMie = prizeInfo[\"isBeiMie\"];\n                let carNum = cardList.length;\n                let array = [].concat(carNum,isBeiMie,cardList);\n                prizeCard.push(array);\n            }\n        }\n        for (let l = 0; l < prizeCard.length; l++) {\n            prizeCardList.push(prizeCard[l]);\n            this.createZhaDanNode(zhaDanLayOut, l);\n        }\n\n        for (let j = 0; j < zhaDanLayOut.children.length; j++) {\n            let paiNode = zhaDanLayOut.getChildByName('zhadan' + j);\n            if (prizeCardList[j]) {\n                // let pailist = prizeCardList[j].slice(2,prizeCardList[j].length);\n                let zhashu = prizeCardList[j][0];\n                // paiNode.getChildByName('lb_num').getComponent(cc.Label).string = 'x' + zhashu;\n                let pailist = prizeCardList[j].slice(1, prizeCardList[j].length);\n                let num = zhashu;\n                this.createCardNode(paiNode, pailist.length);\n                for (let k = 0; k < pailist.length; k++) {\n                    let cardNode = paiNode.getChildByName('layout').getChildByName('handCard' + (k + 1));\n                    let cardValue = pailist[k];\n                    if (cardValue) {\n                            let cardRealValue = this.PokerCard.GetCardValue(cardValue);\n                            let isRazz=false;\n                            if(cardRealValue==19){\n                                isRazz=true;\n                                cardValue=pailist[0];  //换成癞子显示\n                            }\n                            // if (k + 1 == pailist.length) {\n                            //     this.ShowCard(cardValue, cardNode,num, true, false, false, isRazz);\n                            // } else {\n                            //     this.ShowCard(cardValue, cardNode,0, false, false, false, isRazz);\n                            // }\n                            this.ShowCard(cardValue, cardNode,0, false, false, false, isRazz);\n                            cardNode.active = true;\n                    } else {\n                            cardNode.active = false;\n                    }\n\n                }\n                paiNode.active = true;\n            } else {\n                paiNode.active = false;\n            }\n\n        }\n    },\n\n    ShowCard: function (cardType, cardNode, sameCardNum, isLastCard, isShowLandowner = false, hideBg = false, isRazz = false) {\n        cardNode.active = true;\n        if (cardType == 0) {\n            cardNode.getChildByName(\"poker_back\").active = true;\n            return;\n        } else {\n            cardNode.getChildByName(\"poker_back\").active = false;\n        }\n        this.PokerCard.GetPokeCard(cardType, cardNode, sameCardNum, isLastCard, isShowLandowner, hideBg, isRazz);\n       \n    },\n\n\n   \n\n    createCardNode: function (paiNode, num) {\n        let layOutNode = paiNode.getChildByName('layout');\n        layOutNode.removeAllChildren();\n        for (let i = 1; i < num + 1; i++) {\n            let card = cc.instantiate(this.prefab_card);//this# two\n            card.name = \"handCard\" + i;\n            layOutNode.addChild(card);\n        }\n    },\n\n    createZhaDanNode: function (zhaDanLayOut, num) {\n        //\n        let card = cc.instantiate(this.prefab_zhadan);//this# one\n        card.name = \"zhadan\" + num;\n        zhaDanLayOut.addChild(card);\n    },\n\n    LabelName: function (huType) {\n        let huTypeDict = {\n            QDHu: \"七对胡\",\n            Gang: \"杠\",\n            JieGang: \"接杠\",\n            QYS: \"清一色\",\n            Long: \"一条龙\",\n            HunYou: \"混悠\",\n            AnGang: \"暗杠\",\n            Hu: \"胡\",\n        };\n        return huTypeDict[huType];\n    },\n});\n"]}