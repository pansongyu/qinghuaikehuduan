{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIPromoterSetActiveReport.js"],"names":["app","require","cc","Class","extends","properties","OnCreateInit","OnShow","clubId","pid","GetScorePercentList","isRefresh","sendPack","self","NetManager","SendPack","serverPack","UpdateScrollView","SysNotifyManager","ShowSysMsg","roomScrollView","node","getChildByName","content","getComponent","ScrollView","scrollToTop","DestroyAllChildren","demo","active","i","length","child","instantiate","Label","string","dateTime","value","addChild","OnClick","btnName","btnNode","CloseForm","ErrLog"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,UAAR,CADJ;;AAGLI,gBAAY,EAHP;;AAOLC,kBAAc,wBAAY,CAEzB,CATI;AAULC,YAAQ,gBAAUC,MAAV,EAAiBC,GAAjB,EAAsB;AAC1B,aAAKD,MAAL,GAAcA,MAAd;AACA,aAAKC,GAAL,GAAWA,GAAX;AACA,aAAKC,mBAAL,CAAyB,IAAzB;AACH,KAdI;AAeLA,yBAAoB,6BAASC,SAAT,EAAmB;AACnC,YAAIC,WAAW,EAAf;AACAA,iBAASJ,MAAT,GAAkB,KAAKA,MAAvB;AACAI,iBAASH,GAAT,GAAe,KAAKA,GAApB;AACA,YAAII,OAAO,IAAX;AACAb,YAAIc,UAAJ,GAAiBC,QAAjB,CAA0B,qCAA1B,EAAgEH,QAAhE,EAA0E,UAASI,UAAT,EAAoB;AAC1FH,iBAAKI,gBAAL,CAAsBD,UAAtB,EAAkCL,SAAlC;AACH,SAFD,EAEG,YAAU;AACTX,gBAAIkB,gBAAJ,GAAuBC,UAAvB,CAAkC,cAAlC,EAAiD,EAAjD,EAAoD,CAApD;AACH,SAJD;AAKH,KAzBI;AA0BLF,sBAAiB,0BAASD,UAAT,EAAqBL,SAArB,EAA+B;AAC5C,YAAIS,iBAAiB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAArB;AACA,YAAIC,UAAUH,eAAeE,cAAf,CAA8B,QAA9B,CAAd;AACA,YAAIX,SAAJ,EAAe;AACXS,2BAAeI,YAAf,CAA4BtB,GAAGuB,UAA/B,EAA2CC,WAA3C;AACA;AACA,iBAAKC,kBAAL,CAAwBJ,OAAxB;AACH;AACD,YAAIK,OAAO,KAAKP,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAX;AACAM,aAAKC,MAAL,GAAc,KAAd;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAId,WAAWe,MAA/B,EAAuCD,GAAvC,EAA4C;AACxC,gBAAIE,QAAQ9B,GAAG+B,WAAH,CAAeL,IAAf,CAAZ;AACAI,kBAAMV,cAAN,CAAqB,SAArB,EAAgCE,YAAhC,CAA6CtB,GAAGgC,KAAhD,EAAuDC,MAAvD,GAAgEnB,WAAWc,CAAX,EAAcM,QAA9E;AACAJ,kBAAMV,cAAN,CAAqB,WAArB,EAAkCE,YAAlC,CAA+CtB,GAAGgC,KAAlD,EAAyDC,MAAzD,GAAkEnB,WAAWc,CAAX,EAAcO,KAAhF;AACAL,kBAAMH,MAAN,GAAe,IAAf;AACAN,oBAAQe,QAAR,CAAiBN,KAAjB;AACH;AACJ,KA3CI;AA4CLO,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;AAC9B,YAAGD,WAAW,WAAd,EAA0B;AACtB,iBAAKE,SAAL;AACH,SAFD,MAEK;AACD,iBAAKC,MAAL,CAAY,sBAAZ,EAAoCH,OAApC;AACH;AACJ;;AAlDI,CAAT","file":"UIPromoterSetActiveReport.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n\n    },\n\n    OnCreateInit: function () {\n\n    },\n    OnShow: function (clubId,pid) {\n        this.clubId = clubId;\n        this.pid = pid;\n        this.GetScorePercentList(true);\n    },\n    GetScorePercentList:function(isRefresh){\n        let sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.pid = this.pid;\n        let self = this;\n        app.NetManager().SendPack(\"club.CClubPromotionActiveReportForm\",sendPack, function(serverPack){\n            self.UpdateScrollView(serverPack, isRefresh);\n        }, function(){\n            app.SysNotifyManager().ShowSysMsg(\"获取房间活跃计算列表失败\",[],3);\n        });\n    },\n    UpdateScrollView:function(serverPack, isRefresh){\n        let roomScrollView = this.node.getChildByName(\"mark\");\n        let content = roomScrollView.getChildByName(\"layout\");\n        if (isRefresh) {\n            roomScrollView.getComponent(cc.ScrollView).scrollToTop();\n            //content.removeAllChildren();\n            this.DestroyAllChildren(content);\n        }\n        let demo = this.node.getChildByName(\"demo\");\n        demo.active = false;\n        for (let i = 0; i < serverPack.length; i++) {\n            let child = cc.instantiate(demo);\n            child.getChildByName(\"lb_date\").getComponent(cc.Label).string = serverPack[i].dateTime;\n            child.getChildByName(\"lb_active\").getComponent(cc.Label).string = serverPack[i].value;\n            child.active = true;\n            content.addChild(child);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if(btnName == \"btn_close\"){\n            this.CloseForm();\n        }else{\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\n        }\n    },\n\n});\n"]}