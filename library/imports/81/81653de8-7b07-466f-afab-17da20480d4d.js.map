{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\zgz/assets\\script\\ui\\uiGame\\zgz\\zgz_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","img_endType","SpriteFrame","OnLoad","ShowPlayerData","setEnd","playerAll","index","player","posResultList","point","ranksType","myPid","GetHeroProperty","i","length","posResult","pid","winNode","node","getChildByName","loseNode","active","getComponent","Label","string","lb_sportsPointTitle","sportsPoint","beishu","youNumDict","Sprite","spriteFrame","playerInfo","head","ShowHeroHead","playerName","name","substring","id","ComTool","GetPid"],"mappings":"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","file":"zgz_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\zgz","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseComponent\"),\n\n    properties: {\n        img_endType: [cc.SpriteFrame]\n    },\n\n    // use this for initialization\n    OnLoad: function () {\n\n    },\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        let player = setEnd.posResultList[index];\n\n        let point = player.point;\n        this.ranksType = -1;\n        let posResultList = setEnd[\"posResultList\"];\n        let myPid = app[\"HeroManager\"]().GetHeroProperty(\"pid\");\n        for (let i =0; i< posResultList.length;i++) {\n            let posResult = posResultList[i];\n            let pid = posResult[\"pid\"];\n            let ranksType = posResult[\"ranksType\"];\n            if (myPid == pid) {\n                this.ranksType = ranksType;\n                break;\n            }\n        }\n        //玩家分数\n        let winNode = this.node.getChildByName(\"lb_win_num\");\n        let loseNode = this.node.getChildByName(\"lb_lose_num\");\n        winNode.active = false;\n        loseNode.active = false;\n\n        if (point > 0) {\n            winNode.active = true;\n            winNode.getComponent(cc.Label).string = \"+\" + point;\n        } else {\n            loseNode.active = true;\n            loseNode.getComponent(cc.Label).string = point;\n        }\n\n        //比赛分\n        let lb_sportsPointTitle = this.node.getChildByName(\"lb_sportsPointTitle\");\n        if (player.sportsPoint) {\n            if (player.sportsPoint > 0) {\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + player.sportsPoint;\n            }\n            else {\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = player.sportsPoint;\n            }\n        } else {\n            lb_sportsPointTitle.active = false;\n        }\n\n        //倍数\n        this.node.getChildByName(\"lb_beiShu\").active = true;\n        let beishu = this.node.getChildByName(\"lb_beiShu\").getComponent(cc.Label);\n        beishu.string = setEnd[\"beiShu\"];\n        //游数\n        let youNumDict = {\n            \"ONE\":1,\n            \"TWO\":2,\n            \"THREE\":3,\n            \"FOUR\":4,\n            \"FIVE\":5,\n            \"SIX\":6\n        }\n        this.node.getChildByName(\"img_endType\").active = true;\n        let img_endType = this.node.getChildByName(\"img_endType\").getComponent(cc.Sprite);\n        img_endType.spriteFrame = this.img_endType[youNumDict[player[\"endType\"]]];\n\n        this.node.getChildByName(\"img_huoban\").active = false;\n        if (this.ranksType == player.ranksType) {\n            this.node.getChildByName(\"img_huoban\").active = true;\n        }\n\n        let playerInfo = null;\n        for (let i = 0; i < playerAll.length; i++) {\n            if (player.pid == playerAll[i].pid) {\n                playerInfo = playerAll[i];\n                break;\n            }\n        }\n\n        let head = this.node.getChildByName(\"user_info\").getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        head.ShowHeroHead(playerInfo.pid);\n        //玩家名字\n        let playerName = \"\";\n        playerName = playerInfo.name;\n        if (playerName.length > 6) {\n            playerName = playerName.substring(0, 6) + '...';\n        }\n        let name = this.node.getChildByName(\"user_info\").getChildByName(\"lable_name\").getComponent(cc.Label);\n        name.string = playerName;\n\n        let id = this.node.getChildByName(\"user_info\").getChildByName(\"label_id\").getComponent(cc.Label);\n        id.string = \"ID:\" + app.ComTool().GetPid(playerInfo[\"pid\"]);\n    },\n});\n"]}