{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club/assets\\script\\ui\\club\\UIPromoterShowSetting.js"],"names":["app","require","cc","Class","extends","properties","OnCreateInit","OnShow","clubId","promotionShow","showListSecond","allToggleNode","node","getChildByName","i","children","length","childName","name","index","replace","indexOf","getComponent","Toggle","isChecked","secondToggleNode","OnClick","btnName","btnNode","CloseForm","self","sendPack","push","SysNotifyManager","ShowSysMsg","showList","NetManager","SendPack","serverPack","ErrLog"],"mappings":"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","file":"UIPromoterShowSetting.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["/*\n    UIMessage 模态消息界面\n*/\n\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        \n    },\n    // /**\n    // * 局数\n    // */\n    // Game_Count(0),\n    // /**\n    // * 报名费\n    // */\n    // Rank_Cost(1),\n    // /**\n    // * 贡献值\n    // */\n    // Contribution_Value(2),\n    // /**\n    // * 分成\n    // */\n    // Share_Value(3),\n    // /**\n    // * 活跃度\n    // */\n    // Activity_Value(4),\n    // /**\n    // * 消耗钻石\n    // */\n    // Diamond_Cost(5),\n    // *\n    // * 输赢比赛分\n    \n    // SportsPoint_WinOrLose(6),\n    // /**\n    // * 个人比赛分\n    // */\n    // SportsPoint_Personal(7),\n    // /**\n    // * 总比赛分\n    // */\n    // SportsPoint_Total(8),\n    // /**\n    // * 推广员预警值\n    // */\n    // SportsPointWarn_Promotion(9),\n    // /**\n    // * 个人预警值\n    // */\n    // SportsPointWarn_Personal(10),\n    //初始化\n\n    // * 总积分\n    // */\n    // totalPoint(11),\n\n     // * 个人总积分\n    // */\n    //  playerTotalPoint(12),\n    // /**\n\n    // * 个人淘汰分\n    // */\n    // eliminatePoint(13),\n\n    // * 生存积分\n    // */\n    // alivePoint(14),\n\n     // * 中至总积分\n    // */\n    //  zhongZhiTotalPoint(15),\n\n\n    OnCreateInit:function(){\n\n    },\n\n    //---------显示函数--------------------\n    OnShow:function(clubId, promotionShow, showListSecond){\n        this.clubId = clubId;\n        let allToggleNode = this.node.getChildByName(\"allToggleNode\");\n        for (let i = 0; i < allToggleNode.children.length; i++) {\n            let childName = allToggleNode.children[i].name;\n            let index = childName.replace('toggle_','') - 1;\n            if (promotionShow.indexOf(index)>-1) {\n                allToggleNode.children[i].getComponent(cc.Toggle).isChecked = true;\n            }else{\n                allToggleNode.children[i].getComponent(cc.Toggle).isChecked = false;\n            }\n        }\n\n        let secondToggleNode = this.node.getChildByName(\"secondToggleNode\");\n        for (let i = 0; i < secondToggleNode.children.length; i++) {\n            let childName = secondToggleNode.children[i].name;\n            let index = childName.replace('toggle_','') - 1;\n            if (showListSecond.indexOf(index)>-1) {\n                secondToggleNode.children[i].getComponent(cc.Toggle).isChecked = true;\n            }else{\n                secondToggleNode.children[i].getComponent(cc.Toggle).isChecked = false;\n            }\n        }\n    },\n\tOnClick:function(btnName, btnNode){\n\t\tif('btn_close'==btnName){\n        \tthis.CloseForm();\n        }\n        else if('btn_sure'==btnName){\n            let self = this;\n            let sendPack = {};\n            sendPack.clubId = this.clubId;\n            let promotionShow = [];\n            let allToggleNode = this.node.getChildByName(\"allToggleNode\");\n            for (let i = 0; i < allToggleNode.children.length; i++) {\n                let childName = allToggleNode.children[i].name;\n                let index = childName.replace('toggle_','') - 1;\n                if (allToggleNode.children[i].getComponent(cc.Toggle).isChecked) {\n                    promotionShow.push(index);\n                }\n            }\n            if (promotionShow.length > 9) {\n                app.SysNotifyManager().ShowSysMsg(\"最多只能勾选9个显示数据\");\n            }\n            sendPack.showList = promotionShow;\n\n            let showListSecond = [];\n            let secondToggleNode = this.node.getChildByName(\"secondToggleNode\");\n            for (let i = 0; i < secondToggleNode.children.length; i++) {\n                let childName = secondToggleNode.children[i].name;\n                let index = childName.replace('toggle_','') - 1;\n                if (secondToggleNode.children[i].getComponent(cc.Toggle).isChecked) {\n                    showListSecond.push(index);\n                }\n            }\n            sendPack.showListSecond = showListSecond;\n            app.NetManager().SendPack(\"club.CClubSavePromotionShowLits\",sendPack, function(serverPack){\n                app.SysNotifyManager().ShowSysMsg(\"修改成功，请重新打开推广员界面，刷新数据\");\n                self.CloseForm();\n            }, function(){\n\n            });\n        }else{\n\t\t\tthis.ErrLog(\"OnClick:%s not find\", btnName);\n\t\t}\n\t},\n});\n"]}