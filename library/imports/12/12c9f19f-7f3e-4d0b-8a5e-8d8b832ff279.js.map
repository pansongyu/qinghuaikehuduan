{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\yzchz/assets\\script\\ui\\uiGame\\yzchz\\yzchz_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ComTool","ShareDefine","IntegrateImagePath","ShowPlayerData","setEnd","playerAll","index","dPos","posResultList","node","active","getChildByName","PlayerInfo","WeChatManager","InitHeroHeadImage","weChatHeadImage","getComponent","ShowHeroHead","Label","string","name","pid","shuXingFlag","PlayerData","GetHuTypeDict","huTypeDict","PlayerNode","result","pos","huType","layout_huinfo","demo_huinfo","huTypeMap","endPoint","removeAllChildren","huPoint","lb_huInfo","instantiate","str","addChild","point","sportsPoint","cardPublicMap","publicCardList","cardMap","shouCardList","huCard","handCard","layoutyou","demo_you","i","length","addYou","publicInfo","publicInfoList","publicInfoValue","getCardID","cardIDList","slice","opType","layoutpai","k","cardChild","cardID","ShowOutCardImage","child","j","lb_winpoint","lb_lostpoint","lb_sportsPoint","childNode","imageName","Math","floor","join","imageInfo","ErrLog","imagePath","that","Sprite","spriteFrame","childSprite","SpriteShow","ControlManager","CreateLoadPromise","SpriteFrame","then","catch","error","stack","GetFanXingCardID","map","xingCardList","key","push","parseInt"],"mappings":"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","file":"yzchz_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\yzchz","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseMJ_winlost_child\"),\n\n    properties: {\n    },\n\n    // use this for initialization\n    OnLoad: function () {\n        this.ComTool = app.ComTool();\n        this.ShareDefine = app.ShareDefine();\n\n        this.IntegrateImagePath = {\n            \"zi_fangda_19\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/red_10\",\n            },\n            \"zi_fangda_10\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/black_1\",\n            },\n            \"zi_fangda_11\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/red_2\",\n            },\n            \"zi_fangda_12\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/black_3\",\n            },\n            \"zi_fangda_13\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/black_4\",\n            },\n            \"zi_fangda_14\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/black_5\",\n            },\n            \"zi_fangda_15\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/black_6\",\n            },\n            \"zi_fangda_16\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/red_7\",\n            },\n            \"zi_fangda_17\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/black_8\",\n            },\n            \"zi_fangda_18\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/xiaoxue/black_9\",\n            },\n\n            \"zi_fangda_29\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/red_10\",\n            },\n\n            \"zi_fangda_20\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/black_1\",\n            },\n            \"zi_fangda_21\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/red_2\",\n            },\n            \"zi_fangda_22\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/black_3\",\n            },\n            \"zi_fangda_23\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/black_4\",\n            },\n            \"zi_fangda_24\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/black_5\",\n            },\n            \"zi_fangda_25\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/black_6\",\n            },\n            \"zi_fangda_26\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/red_7\",\n            },\n            \"zi_fangda_27\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/black_8\",\n            },\n            \"zi_fangda_28\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/daxue/black_9\",\n            },\n\n\n            \"zi_fangda_51\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/bg_gui\",\n            },\n            \"zi_fangda_51\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/bg_long\",\n            },\n            \"zi_fangda_bg\": {\n                \"FilePath\": \"ui/uiGame/hhhgw/zi/img_pb\",\n            }\n        };\n    },\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        let dPos = setEnd.dPos;\n        let posResultList = setEnd[\"posResultList\"];\n        this.node.active = true;\n        if (dPos === index) {\n            this.node.getChildByName(\"userinfo\").getChildByName(\"tip_zhuang\").active = true;\n        } else {\n            this.node.getChildByName(\"userinfo\").getChildByName(\"tip_zhuang\").active = false;\n        }\n        let PlayerInfo = playerAll[index];\n        //显示头像，如果头像UI\n        if (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"userinfo\").getChildByName(\"touxiang\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n        //显示名字跟pid\n        this.node.getChildByName(\"userinfo\").getChildByName(\"lb_name\").getComponent(cc.Label).string = PlayerInfo.name;\n        this.node.getChildByName(\"userinfo\").getChildByName(\"lb_id\").getComponent(cc.Label).string = PlayerInfo.pid;\n        this.node.getChildByName(\"userinfo\").getChildByName(\"img_shuxing\").active = posResultList[index].shuXingFlag;\n        this.PlayerData(this.node, posResultList[index], index);\n    },\n    GetHuTypeDict: function () {\n        let huTypeDict = {};\n        huTypeDict[\"HuXiNum\"]=\"胡息\";\n        huTypeDict[\"TunNum\"]=\"囤数\";\n        huTypeDict[\"WangBa\"]=\"王霸\";\n        huTypeDict[\"PiaoFen\"]=\"飘分\";\n        huTypeDict[\"TianHu\"]=\"天胡\";\n        huTypeDict[\"DiHu\"]=\"地胡\";\n        huTypeDict[\"ZiMo\"]=\"自摸\";\n        huTypeDict[\"WangDiaoWang\"]=\"王钓王\";\n        huTypeDict[\"WangDiao\"]=\"王钓\";\n        huTypeDict[\"WangChuang\"]=\"王闯\";\n        huTypeDict[\"DianHu\"]=\"点胡\";\n        huTypeDict[\"HeiHu\"]=\"黑胡\";\n        huTypeDict[\"HongHu\"]=\"红胡\";\n        huTypeDict[\"HongZhuanDian\"]=\"红转点\";\n        huTypeDict[\"HongZhuanHei\"]=\"红转黑\";\n        huTypeDict[\"XingFen\"]=\"醒分\";\n\n        return huTypeDict;\n    },\n\n    PlayerData: function (PlayerNode, result, pos) {\n        PlayerNode.active = true;\n        let huType = result.huType;\n        if (huType != 0) {\n            //显示胡牌分数\n            let layout_huinfo = PlayerNode.getChildByName(\"layout_huinfo\");\n            let demo_huinfo = this.node.getChildByName(\"demo_huinfo\");\n            let huTypeMap = result.endPoint.huTypeMap;\n            let huTypeDict = this.GetHuTypeDict();\n            layout_huinfo.removeAllChildren();\n            for (let huType in huTypeMap) {\n                let huPoint = huTypeMap[huType];\n                let lb_huInfo = cc.instantiate(demo_huinfo);\n                let str = huTypeDict[huType];\n                if (huType == \"fanXingType\") {\n                    if (huPoint == 0) str = \"上下醒\";\n                    if (huPoint == 1) str = \"跟醒\";\n                }\n                lb_huInfo.getComponent(cc.Label).string = str + \"：\" + huPoint;\n                lb_huInfo.active = true;\n                layout_huinfo.addChild(lb_huInfo);\n            }\n        } else {\n            PlayerNode.getChildByName(\"layout_huinfo\").removeAllChildren();\n        }\n        let point = result.point;\n        let sportsPoint = result[\"sportsPoint\"];\n        let cardPublicMap = result.endPoint.publicCardList;\n        let cardMap = result.endPoint.shouCardList;\n        let huCard = result.handCard;\n        let layoutyou = PlayerNode.getChildByName(\"layoutyou\");\n        layoutyou.removeAllChildren();\n        let demo_you = this.node.getChildByName(\"demo_you\");\n        // demo_you.x = 0; demo_you.y = 0;\n        //碰吃的牌\n        for (let i = 0; i < cardPublicMap.length; i++) {\n            let addYou = cc.instantiate(demo_you);\n            layoutyou.addChild(addYou);\n            let publicInfo = cardPublicMap[i];\n            let publicInfoList = publicInfo[\"cardList\"];\n            let publicInfoValue = publicInfo[\"youNum\"];\n\n            let getCardID = publicInfoList[2];\n            let cardIDList = publicInfoList.slice(1, publicInfoList.length);\n\n            let opType = publicInfoList[0];\n            if (opType == 0) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"提\";\n            } else if (opType == 1) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"跑\";\n            } else if (opType == 2) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"偎\";\n            } else if (opType == 3) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"连\";\n            } else if (opType == 4) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"坎\";\n            } else if (opType == 5) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"碰\";\n            } else if (opType == 6) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"对\";\n            } else if (opType == 7) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"绞\";\n            } else if (opType == 8) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"手\";\n            } else {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"\";\n            }\n            addYou.getChildByName(\"lb_you\").getComponent(cc.Label).string = publicInfoValue;\n\n            let layoutpai = addYou.getChildByName(\"layoutpai\");\n\n            for (let k = 1; k <= 4; k++) {\n                let cardChild = layoutpai.getChildByName(\"card\" + k);\n                if (typeof (cardIDList[k - 1]) == \"undefined\") {\n                    if (cardChild) {\n                        cardChild.active = false;\n                    }\n                    continue;\n                }\n                cardChild.cardID = cardIDList[k - 1];\n                /*if(opType==this.ShareDefine.OpType_Chi && cardChild.cardID==getCardID){\n                    cardChild.color=cc.color(180,180,180);\n                }else{\n                    cardChild.color=cc.color(255,255,255);\n                }*/\n                this.ShowOutCardImage(cardChild);\n            }\n\n            addYou.active = true;\n        }\n        //余下的牌\n        for (let i = 0; i < cardMap.length; i++) {\n            let addYou = cc.instantiate(demo_you);\n            let publicInfo = cardMap[i];\n            let opType = publicInfo[\"cardList\"][0];\n            let publicInfoList = publicInfo[\"cardList\"].slice(1, publicInfo[\"cardList\"].length);\n            let publicInfoValue = publicInfo[\"youNum\"];\n            let cardIDList = publicInfoList;\n            if (opType == 0) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"提\";\n            } else if (opType == 1) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"跑\";\n            } else if (opType == 2) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"偎\";\n            } else if (opType == 3) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"连\";\n            } else if (opType == 4) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"坎\";\n            } else if (opType == 5) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"碰\";\n            } else if (opType == 6) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"对\";\n            } else if (opType == 7) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"绞\";\n            } else if (opType == 8) {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"手\";\n            } else {\n                addYou.getChildByName(\"lb_optype\").getComponent(cc.Label).string = \"\";\n            }\n            addYou.getChildByName(\"lb_you\").getComponent(cc.Label).string = publicInfoValue;\n            let child = addYou.getChildByName(\"layoutpai\");\n\n            for (let j = 1; j <= 4; j++) {\n                let cardChild = child.getChildByName(\"card\" + j);\n                if (typeof (cardIDList[j - 1]) == \"undefined\") {\n                    if (cardChild) {\n                        cardChild.active = false;\n                    }\n                    continue;\n                }\n                cardChild.cardID = cardIDList[j - 1];\n                this.ShowOutCardImage(cardChild);\n                //如果是胡的牌。显示胡牌\n                if (huCard > 0 && huCard == cardIDList[j - 1]) {\n                    cardChild.getChildByName(\"tip_hu\").active = true;\n                } else {\n                    cardChild.getChildByName(\"tip_hu\").active = false;\n                }\n            }\n            addYou.active = true;\n            layoutyou.addChild(addYou);\n        }\n\n        //显示总分\n        let lb_winpoint = PlayerNode.getChildByName(\"lb_winpoint\");\n        let lb_lostpoint = PlayerNode.getChildByName(\"lb_lostpoint\");\n        if (point > 0) {\n            lb_winpoint.active = true;\n            lb_lostpoint.active = false;\n            lb_winpoint.getComponent(cc.Label).string = \"+\" + point;\n        } else {\n            lb_winpoint.active = false;\n            lb_lostpoint.active = true;\n            lb_lostpoint.getComponent(cc.Label).string = point;\n        }\n\n\n        //比赛分\n        let lb_sportsPoint = PlayerNode.getChildByName(\"lb_sportsPoint\");\n        if (typeof (sportsPoint) != \"undefined\") {\n            lb_sportsPoint.active = true;\n            lb_sportsPoint.getComponent(cc.Label).string = \"比赛分:\" + sportsPoint;\n        } else {\n            lb_sportsPoint.active = false;\n        }\n    },\n    ShowOutCardImage: function (childNode) {\n        childNode.active = true;\n        let imageName = [\"zi_fangda_\", Math.floor(childNode.cardID / 100)].join(\"\");\n        if (childNode.cardID == 0) {\n            imageName = [\"zi_fangda_bg\"].join(\"\");\n        }\n        let imageInfo = this.IntegrateImagePath[imageName];\n        if (!imageInfo) {\n            this.ErrLog(\"ShowOutCardImage IntegrateImage.txt not find:%s\", imageName);\n            return\n        }\n        let imagePath = imageInfo[\"FilePath\"];\n        let that = this;\n        childNode.getChildByName(\"hua\").getComponent(cc.Sprite).spriteFrame = \"\";\n        let childSprite = childNode.getChildByName(\"dian\").getComponent(cc.Sprite);\n        this.SpriteShow(childSprite, imagePath);\n\n    },\n    SpriteShow: function (childSprite, imagePath) {\n        let that = this;\n        app.ControlManager().CreateLoadPromise(imagePath, cc.SpriteFrame)\n            .then(function (spriteFrame) {\n                if (!spriteFrame) {\n                    that.ErrLog(\"OpenPoker(%s) load spriteFrame fail\", imagePath);\n                    return\n                }\n                childSprite.spriteFrame = spriteFrame;\n            }).catch(function (error) {\n                that.ErrLog(\"OpenPoker(%s) error:%s\", imagePath, error.stack);\n            }\n            );\n    },\n    GetFanXingCardID: function (map) {\n        let xingCardList = [];\n        for (let key in map) {\n            xingCardList.push(parseInt(key));\n        }\n        return xingCardList;\n    },\n});\n"]}