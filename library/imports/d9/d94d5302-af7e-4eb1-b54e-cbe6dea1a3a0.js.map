{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\zjmj/assets\\script\\ui\\uiGame\\zjmj\\zjmjChildCreateRoom.js"],"names":["app","require","zjmjChildCreateRoom","cc","Class","extends","properties","CreateSendPack","renshu","setCount","isSpiltRoomCard","sendPack","zjmj_moshi","GetIdxByKey","zjmj_beishu","zjmj_xianshi","zjmj_fengding","zjmj_huDa","zjmj_moban","zjmj_jiesan","zjmj_kexuanwanfa","i","Toggles","length","getChildByName","active","push","gaoji","OnToggleClick","event","FormManager","CloseForm","toggles","target","parent","toggle","key","name","substring","toggleIndex","parseInt","needClearList","needShowIndexList","ClearToggleCheck","UpdateLabelColor","UpdateTogglesLabel","SysNotifyManager","ShowSysMsg","zjmj_renshu","getComponent","Toggle","mark","module","exports"],"mappings":"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","file":"zjmjChildCreateRoom.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\zjmj","sourcesContent":["/*\n创建房间子界面\n */\nvar app = require(\"app\");\n\nvar zjmjChildCreateRoom = cc.Class({\n    extends: require(\"BaseChildCreateRoom\"),\n\n    properties: {\n\n    },\n    //需要自己重写\n    CreateSendPack:function(renshu, setCount, isSpiltRoomCard){\n            let sendPack = {};\n            let zjmj_moshi = this.GetIdxByKey('moShi');\n            let zjmj_beishu = this.GetIdxByKey('beiShu');\n            let zjmj_xianshi = this.GetIdxByKey('xianShi');\n            let zjmj_fengding = this.GetIdxByKey('fengDing');\n            let zjmj_huDa = this.GetIdxByKey('huDa');\n            let zjmj_moban = this.GetIdxByKey('moban');\n            let zjmj_jiesan = this.GetIdxByKey('jiesan');\n            let zjmj_kexuanwanfa=[];\n            for(let i=0;i<this.Toggles['kexuanwanfa'].length;i++){\n                if(this.Toggles['kexuanwanfa'][i].getChildByName('checkmark').active){\n                    zjmj_kexuanwanfa.push(i);\n                }\n            }\n            let gaoji=[];\n            for(let i=0;i<this.Toggles['gaoji'].length;i++){\n                if(this.Toggles['gaoji'][i].getChildByName('checkmark').active){\n                    gaoji.push(i);\n                }\n            }\n            sendPack = {\n                        \"moShi\":zjmj_moshi,\n                        \"beiShu\":zjmj_beishu,\n                        \"jiesan\":zjmj_jiesan,\n                        \"xianShi\":zjmj_xianshi,\n                        \"fengDing\":zjmj_fengding,\n                        \"kexuanwanfa\":zjmj_kexuanwanfa,\n                        \"huDa\":zjmj_huDa,\n                        \"moban\":zjmj_moban,\n                        \"playerMinNum\":renshu[0],\n                        \"playerNum\":renshu[1],\n                        \"setCount\":setCount,\n                        \"gaoji\":gaoji,\n                        \"paymentRoomCardType\":isSpiltRoomCard,\n\n            };\n            return sendPack;\n    },\n    OnToggleClick:function(event){\n        this.FormManager.CloseForm(\"UIMessageTip\");\n        let toggles = event.target.parent;\n        let toggle = event.target;\n        let key = toggles.name.substring(('Toggles_').length,toggles.name.length);\n        let toggleIndex = parseInt(toggle.name.substring(('Toggle').length,toggle.name.length)) - 1;\n        let needClearList = [];\n        let needShowIndexList = [];\n        needClearList = this.Toggles[key];\n        needShowIndexList.push(toggleIndex);\n        if('jushu' == key || 'renshu' == key || 'fangfei' == key){      \n            this.ClearToggleCheck(needClearList,needShowIndexList);\n            this.UpdateLabelColor(toggles);\n            this.UpdateTogglesLabel(toggles);\n            if('renshu' == key){\n                if(0 == toggleIndex || 1 == toggleIndex){\n                    this.ClearToggleCheck(this.Toggles['fengDing'],[0]);\n                    this.UpdateLabelColor(this.Toggles['fengDing'][0].parent);\n                }\n                if(toggleIndex!=2){\n                    //不是4人\n                    this.ClearToggleCheck(this.Toggles['moShi'],[1]);\n                    this.UpdateLabelColor(this.Toggles['moShi'][1].parent);\n                }\n            }\n            return;\n        }\n        else if('moShi'==key){\n            if(this.Toggles['renshu'][2].getChildByName('checkmark').active==false && toggleIndex==2){\n                app.SysNotifyManager().ShowSysMsg(\"4人才能选择翻倍玩法\");\n                return;\n            }\n        }\n        else if('fengDing'==key){\n            let zjmj_renshu = this.Toggles['renshu'][2].getChildByName('checkmark').active;\n            if(!zjmj_renshu && toggleIndex==1){\n                app.SysNotifyManager().ShowSysMsg(\"4人才能进园子\");\n                return;\n            }\n        }\n        else if('kexuanwanfa' == key){\n            \n        }else{\n\n        }\n        if(toggles.getComponent(cc.Toggle)){//复选框\n            needShowIndexList = [];\n            for(let i=0;i<needClearList.length;i++){\n                let mark = needClearList[i].getChildByName('checkmark').active;\n                //如果复选框为勾选状态并且点击的复选框不是该复选框，则继续保持勾选状态\n                if(mark && i != toggleIndex){\n                    needShowIndexList.push(i);\n                }\n                //如果复选框为未勾选状态并且点击的复选框是该复选框，则切换为勾选状态\n                else if(!mark && i == toggleIndex){\n                    needShowIndexList.push(i);\n                }\n            }\n        }\n        this.ClearToggleCheck(needClearList,needShowIndexList);\n        this.UpdateLabelColor(toggles,'fangfei' == key ? true : false);\n    },\n});\n\nmodule.exports = zjmjChildCreateRoom;"]}