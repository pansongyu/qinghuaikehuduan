{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\lhzp/assets\\script\\ui\\uiGame\\lhzp\\lhzp_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","icon_fct","SpriteFrame","icon_ct","OnLoad","ShowPlayerData","setEnd","playerAll","index","player","posResultList","point","winNode","node","getChildByName","loseNode","active","getComponent","Label","string","lb_sportsPointTitle","sportsPoint","shibushiduying","youNumCfg","hasOwnProperty","endType","str","lb_touyou","playerInfo","i","length","pid","icon_du","shibushidadu","head","ShowHeroHead","playerName","name","substring","id","ComTool","GetPid"],"mappings":"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","file":"lhzp_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\lhzp","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseComponent\"),\n\n    properties: {\n        icon_fct: cc.SpriteFrame,\n        icon_ct: cc.SpriteFrame,\n    },\n\n    // use this for initialization\n    OnLoad: function () {\n\n    },\n    ShowPlayerData: function (setEnd, playerAll, index) {\n        let player = setEnd.posResultList[index];\n\n        let point = player.point;\n\n        //玩家分数\n        let winNode = this.node.getChildByName(\"lb_win_num\");\n        let loseNode = this.node.getChildByName(\"lb_lose_num\");\n        winNode.active = false;\n        loseNode.active = false;\n\n        if (point > 0) {\n            winNode.active = true;\n            winNode.getComponent(cc.Label).string = \"+\" + point;\n        }\n        else {\n            loseNode.active = true;\n            loseNode.getComponent(cc.Label).string = point;\n        }\n\n        //比赛分\n        let lb_sportsPointTitle = this.node.getChildByName(\"lb_sportsPointTitle\");\n        if (player.sportsPoint) {\n            if (player.sportsPoint > 0) {\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + player.sportsPoint;\n            }\n            else {\n                lb_sportsPointTitle.active = true;\n                lb_sportsPointTitle.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = player.sportsPoint;\n            }\n        } else {\n            lb_sportsPointTitle.active = false;\n        }\n\n        //打独成功\n        this.node.getChildByName(\"lb_isdadu\").active = player.shibushiduying;\n\n        // 头游\n        this.node.getChildByName(\"lb_touyou\").active = true;\n\n        let youNumCfg = {\n            \"NOT\": \"\",\n            \"ONE\": \"头游\",\n            \"TWO\": \"二游\",\n            \"THREE\": \"三游\",\n            \"FOUR\": \"四游\"\n        };\n\n        if (youNumCfg.hasOwnProperty(player.endType)) {\n            let str = youNumCfg[player.endType];\n            let lb_touyou = this.node.getChildByName(\"lb_touyou\").getComponent(cc.Label);\n            lb_touyou.string = str;\n        }\n\n        let playerInfo = null;\n        for (let i = 0; i < playerAll.length; i++) {\n            if (player.pid == playerAll[i].pid) {\n                playerInfo = playerAll[i];\n                break;\n            }\n        }\n\n        let icon_du = this.node.getChildByName(\"user_info\").getChildByName(\"icon_du\");\n        icon_du.active = player.shibushidadu;\n\n        let head = this.node.getChildByName(\"user_info\").getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        head.ShowHeroHead(playerInfo.pid);\n        //玩家名字\n        let playerName = \"\";\n        playerName = playerInfo.name;\n        if (playerName.length > 6) {\n            playerName = playerName.substring(0, 6) + '...';\n        }\n        let name = this.node.getChildByName(\"user_info\").getChildByName(\"lable_name\").getComponent(cc.Label);\n        name.string = playerName;\n\n        let id = this.node.getChildByName(\"user_info\").getChildByName(\"label_id\").getComponent(cc.Label);\n        id.string = \"ID:\" + app.ComTool().GetPid(playerInfo[\"pid\"]);\n    },\n});\n"]}