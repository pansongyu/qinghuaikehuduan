{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\tnzfbmj/assets\\script\\ui\\uiGame\\tnzfbmj\\tbzfbmj_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ComTool","ShareDefine","ShowPlayerHuImg","huNode","huTypeName","isPingHu","huType","HuTypeStringDict","getComponent","Label","string","HuType_DianPao","HuType_JiePao","HuType_ZiMo","HuType_QGH","ShowPlayerData","setEnd","playerAll","index","jin1","jin2","dPos","posResultList","posHuArray","Array","posCount","length","i","posInfo","pos","posHuType","PlayerInfo","node","active","UpdatePlayData","getChildByName","WeChatManager","InitHeroHeadImage","weChatHeadImage","ShowHeroHead","PlayerNode","HuList","maPaiLst","showLabelNum","ClearLabelShow","sportsPointTemp","ShowLabelName","sportsPoint","ShowPlayerRecord","ShowPlayerJieSuan","ShowPlayerInfo","ShowPlayerDownCard","publicCardList","ShowPlayerShowCard","shouCard","handCard","ShowPlayerHuaCard","huaList","ShowNode","GetBeiZhuName","GetPid","isTing","huInfoAll","huInfo","huTypeMap","huPoint","LabelName","LabelArray"],"mappings":"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","file":"tbzfbmj_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\tnzfbmj","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tthis.ComTool = app.ComTool();\n        this.ShareDefine=app.ShareDefine();\n\t},\n    ShowPlayerHuImg:function(huNode,huTypeName,isPingHu){\n        /*huLbIcon\n        *  0:单吊，1：点炮，2：单游，3：胡，4：六金，5：平胡，6:抢杠胡 7:抢金，8：三游，9：四金倒，10：三金倒，11：三金游，12：十三幺\n        *  13：双游，14：天胡，15：五金，16：自摸 17:接炮\n        */\n        let huType=this.ShareDefine.HuTypeStringDict[huTypeName];\n        if(typeof(huType)==\"undefined\"){\n            huNode.getComponent(cc.Label).string = '';\n        }else if(huType == this.ShareDefine.HuType_DianPao){\n            if(isPingHu){\n                huNode.getComponent(cc.Label).string = '';\n            }else{\n                huNode.getComponent(cc.Label).string = '点泡';\n            }\n        }else if(huType == this.ShareDefine.HuType_JiePao){\n            if(isPingHu){\n                huNode.getComponent(cc.Label).string = '胡';\n            }else{\n                huNode.getComponent(cc.Label).string = '接炮';\n            }\n        }else if(huType == this.ShareDefine.HuType_ZiMo){\n            huNode.getComponent(cc.Label).string = '自摸';\n        }else if(huType == this.ShareDefine.HuType_QGH){\n            huNode.getComponent(cc.Label).string = '抢杠胡';\n        }else {\n            huNode.getComponent(cc.Label).string = '';\n        } \n    },\n    ShowPlayerData:function(setEnd,playerAll,index){\n        let jin1=setEnd.jin1;\n        let jin2=setEnd.jin2;\n        let dPos=setEnd.dPos;\n        let posResultList = setEnd[\"posResultList\"];\n        let posHuArray=new Array();\n        let posCount = posResultList.length;\n        for(let i=0; i<posCount; i++){\n            let posInfo = posResultList[i];\n            let pos = posInfo[\"pos\"];\n            let posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n            posHuArray[pos]=posHuType;\n        }\n        let PlayerInfo = playerAll[index];\n        this.node.active = true;\n        this.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2);\n        let huNode=this.node.getChildByName('jiesuan').getChildByName('hutype');\n        this.ShowPlayerHuImg(huNode,posResultList[index]['huType'], posResultList[index].isPingHu);\n\n        if(dPos===index){\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n        }else{\n            this.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n        }\n        //显示头像，如果头像UI\n        if(PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]){\n            app.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"],PlayerInfo[\"iconUrl\"]);\n        }\n        let weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n        weChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n    },\n    UpdatePlayData: function (PlayerNode, HuList, PlayerInfo, jin1 = 0, jin2 = 0, maPaiLst = null) {\n        this.showLabelNum = 1;\n        this.ClearLabelShow(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'));\n        //显示比赛分\n        if (typeof (HuList.sportsPointTemp) != \"undefined\") {\n            if (HuList.sportsPointTemp > 0) {\n                this.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：+\" + HuList.sportsPointTemp);\n            } else {\n                this.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：\" + HuList.sportsPointTemp);\n            }\n        }else if (typeof (HuList.sportsPoint) != \"undefined\") {\n            if (HuList.sportsPoint > 0) {\n                this.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：+\" + HuList.sportsPoint);\n            } else {\n                this.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：\" + HuList.sportsPoint);\n            }\n        }\n        this.ShowPlayerRecord(PlayerNode.getChildByName('record'), HuList);\n        this.ShowPlayerJieSuan(PlayerNode.getChildByName('jiesuan'), HuList);\n        this.ShowPlayerInfo(PlayerNode.getChildByName('user_info'), PlayerInfo, HuList);\n        this.ShowPlayerDownCard(PlayerNode.getChildByName('downcard'), HuList.publicCardList, jin1, jin2);\n        this.ShowPlayerShowCard(PlayerNode.getChildByName('showcard'), HuList.shouCard, HuList.handCard, jin1, jin2);\n        this.ShowPlayerHuaCard(PlayerNode.getChildByName('huacard'), HuList.huaList);\n    },\n    ShowPlayerInfo: function (ShowNode, PlayerInfo, HuList) {\n        \n        ShowNode.getChildByName('lable_name').getComponent(\"cc.Label\").string = this.ComTool.GetBeiZhuName(PlayerInfo[\"pid\"],PlayerInfo[\"name\"]);\n        ShowNode.getChildByName('label_id').getComponent(\"cc.Label\").string = \"ID:\" + this.ComTool.GetPid(PlayerInfo[\"pid\"]);\n\n        let isTing = HuList[\"isTing\"];\n        ShowNode.getChildByName('img_ting').active = isTing;\n    },\n    ShowPlayerJieSuan: function (ShowNode, huInfoAll) {\n        let huInfo = huInfoAll['endPoint'].huTypeMap;\n        for (let huType in huInfo) {\n            let huPoint = huInfo[huType];\n            if(huType == \"AnGang\" || huType == \"Gang\" || huType == \"DaFeng\" || huType == \"XiaoFeng\"){\n                this.ShowLabelName(ShowNode.getChildByName('label_lists'),this.LabelName(huType)+\"： \"+huPoint);\n            }else{\n                this.ShowLabelName(ShowNode.getChildByName('label_lists'),this.LabelName(huType));\n            }\n        }\n    },\n    LabelName:function(huType){\n        let LabelArray=[];\n        LabelArray['AnGang']='暗杠';\n        LabelArray['Gang']='明杠';\n        LabelArray['PaoHu']='炮胡';\n        LabelArray['QGH']='抢杠胡';\n        LabelArray['ZiMo']='自摸';\n        LabelArray['DaFengHu']='大风胡';\n        LabelArray['XiaoFengHu']='小风胡';\n        LabelArray['PingHu']='平胡';\n        LabelArray['DaFeng']='大风';\n        LabelArray['XiaoFeng']='小风';\n        return LabelArray[huType];\n    },\n});\n"]}