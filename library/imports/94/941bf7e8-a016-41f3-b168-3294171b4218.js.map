{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club\\unionChildren/assets\\script\\ui\\club\\unionChildren\\btn_ManagementNode.js"],"names":["app","require","cc","Class","extends","Component","properties","onLoad","ComTool","InitData","clubId","unionId","unionPostType","myisminister","curPage","lastPage","curType","queryStr","clickBtnName","InitTopLb","btn_default","node","getChildByName","OnClick","name","tab","i","children","length","lb","getDay","getComponent","Label","string","day","today","Date","targetday_milliseconds","getTime","setTime","tYear","getFullYear","tMonth","getMonth","tDate","getDate","doHandleMonth","month","ClickTopBtn","clickName","topBtnNode","allTopBtn","push","active","GetNextPage","GetDataList","isRefresh","sendPack","ClubManager","GetUnionSendPackHead","pageNum","type","query","self","NetManager","SendPack","serverPack","UpdateScrollView","lb_page","SysNotifyManager","ShowSysMsg","setCount","roomSize","consumeValue","prizePool","GetUnionTypeByLastClubData","unionAllMemberPointTotal","finalAllMemberPointTotal","sportsPointIncome","xiPaiIncome","managementScrollView","content","ScrollView","scrollToTop","removeAllChildren","demo","child","instantiate","cfgObj","JSON","parse","dataJsonCfg","gameType","ShareDefine","GametTypeID2PinYin","gameId","wanfa","RoomCfgManager","WanFa","GetUnionCfg","unionCfg","substring","tagId","roomName","configId","addChild","PLDecStr","roomSportsThreshold","sportsDouble","roomSportsType","bigWinnerConsumeList","geWinnerPoint","roomSportsBigWinnerConsume","winScore","sportsPoint","twoMode","roomSportsEveryoneConsume","dianbo","parseInt","autoDismiss","OnClick_BtnWnd","eventTouch","eventData","SoundManager","PlaySound","btnNode","currentTarget","btnName","error","console","log","stack","startsWith","replace","parent","EditBox","wanfaStr","unionCfgStr","FormManager","ShowForm"],"mappings":"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","file":"btn_ManagementNode.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club\\unionChildren","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n    },\n    onLoad:function(){\n        this.ComTool=app.ComTool();\n    \t// let managementScrollView = this.node.getChildByName(\"managementScrollView\").getComponent(cc.ScrollView);\n     //    managementScrollView.node.on('scroll-to-bottom',this.GetNextPage,this);\n    },\n    InitData:function (clubId, unionId, unionPostType, myisminister) {\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.unionPostType = unionPostType;\n        this.myisminister = myisminister;\n        this.curPage = 1;\n        this.lastPage = 1;\n        this.curType = 0;\n        this.queryStr = \"\";\n        this.clickBtnName = \"\";\n        this.InitTopLb();\n        let btn_default = this.node.getChildByName(\"topBtnNode\").getChildByName(\"btn_day1\");\n        this.OnClick(btn_default.name,btn_default);\n    },\n    InitTopLb:function(){\n        let tab=this.node.getChildByName(\"topBtnNode\");\n        for(let i=0;i<tab.children.length;i++){\n            if(i<=2){\n                continue; //今天，昨天，前天\n            }\n            let lb=this.getDay(i);\n            tab.children[i].getChildByName(\"lb_on\").getComponent(cc.Label).string=lb;\n            tab.children[i].getChildByName(\"lb_off\").getComponent(cc.Label).string=lb;\n        }\n    },\n    getDay:function(day){\n        var today = new Date();\n        var targetday_milliseconds=today.getTime() - 1000*60*60*24*day;\n        today.setTime(targetday_milliseconds); //注意，这行是关键代码\n        var tYear = today.getFullYear();\n        var tMonth = today.getMonth();\n        var tDate = today.getDate();\n        tMonth = this.doHandleMonth(tMonth + 1);\n        tDate = this.doHandleMonth(tDate);\n        return tMonth+\"月\"+tDate+\"日\";\n    },\n    doHandleMonth:function(month){\n        return month;\n    },\n    ClickTopBtn:function(clickName){\n    \tlet topBtnNode = this.node.getChildByName(\"topBtnNode\");\n        let allTopBtn = [];\n        for (let i = 0; i < topBtnNode.children.length; i++) {\n            allTopBtn.push(topBtnNode.children[i]);\n        }\n        this.clickBtnName = clickName;\n        for (let i = 0; i < allTopBtn.length; i++) {\n            if (allTopBtn[i].name == clickName) {\n                allTopBtn[i].getChildByName(\"img_off\").active = false;\n                allTopBtn[i].getChildByName(\"lb_off\").active = false;\n                allTopBtn[i].getChildByName(\"img_on\").active = true;\n                allTopBtn[i].getChildByName(\"lb_on\").active = true;\n            }else{\n                allTopBtn[i].getChildByName(\"img_off\").active = true;\n                allTopBtn[i].getChildByName(\"lb_off\").active = true;\n                allTopBtn[i].getChildByName(\"img_on\").active = false;\n                allTopBtn[i].getChildByName(\"lb_on\").active = false;\n            }\n        }\n    },\n    GetNextPage:function(){\n    \tthis.curPage++;\n        this.GetDataList(false);\n    },\n    GetDataList:function(isRefresh=false){\n        let sendPack = app.ClubManager().GetUnionSendPackHead();\n        sendPack.pageNum = this.curPage;\n        sendPack.type = this.curType;\n        sendPack.query = this.queryStr;\n        let self = this;\n        app.NetManager().SendPack(\"union.CUnionRoomConfigPrizePoolList\",sendPack, function(serverPack){\n            if (serverPack.length > 0) {\n                self.UpdateScrollView(serverPack,isRefresh);\n                //刷新页数\n                let lb_page = self.node.getChildByName(\"page\").getChildByName(\"lb_page\");\n                lb_page.getComponent(cc.Label).string = self.curPage;\n            }else{\n                self.curPage = self.lastPage;\n            }\n        }, function(){\n            app.SysNotifyManager().ShowSysMsg(\"获取列表失败\",[],3);\n        });\n        if (isRefresh) {\n            sendPack = app.ClubManager().GetUnionSendPackHead();\n            sendPack.type = this.curType;\n            sendPack.query = this.queryStr;\n            app.NetManager().SendPack(\"union.CUnionRoomConfigPrizePoolCount\",sendPack, function(serverPack){\n                self.node.getChildByName(\"lb_jushu\").getComponent(cc.Label).string = \"总局数:\"+serverPack.setCount;\n                self.node.getChildByName(\"lb_kaifang\").getComponent(cc.Label).string = \"总开房数:\"+serverPack.roomSize;\n                self.node.getChildByName(\"lb_xiaohao\").getComponent(cc.Label).string = \"总消耗钻石:\"+serverPack.consumeValue;\n                self.node.getChildByName(\"lb_prizePool\").getComponent(cc.Label).string = \"总成本:\"+serverPack.prizePool;\n                if(app.ClubManager().GetUnionTypeByLastClubData()==1){\n                    self.node.getChildByName(\"lb_zongshouyi\").getComponent(cc.Label).string = \"成员总积分总和:\"+serverPack.unionAllMemberPointTotal;\n                    self.node.getChildByName(\"lb_zongxipai\").getComponent(cc.Label).string = \"最终积分总和:\"+serverPack.finalAllMemberPointTotal;\n                }else{\n                    self.node.getChildByName(\"lb_zongshouyi\").getComponent(cc.Label).string = \"总收益(含成本):\"+serverPack.sportsPointIncome;\n                    self.node.getChildByName(\"lb_zongxipai\").getComponent(cc.Label).string = \"总洗牌费:\"+serverPack.xiPaiIncome;\n                }\n\n            }, function(){\n                app.SysNotifyManager().ShowSysMsg(\"获取消息失败\",[],3);\n            });\n        }\n    },\n    UpdateScrollView:function(serverPack, isRefresh){\n    \tlet managementScrollView = this.node.getChildByName(\"managementScrollView\");\n    \tlet content = managementScrollView.getChildByName(\"view\").getChildByName(\"content\");\n    \tif (isRefresh) {\n    \t\tmanagementScrollView.getComponent(cc.ScrollView).scrollToTop();\n    \t\tcontent.removeAllChildren();\n    \t}\n    \tlet demo = this.node.getChildByName(\"demo\");\n    \tdemo.active = false;\n    \tfor (let i = 0; i < serverPack.length; i++) {\n    \t\tlet child = cc.instantiate(demo);\n    \t\tif (i%2 == 0) {\n    \t\t\tchild.getChildByName(\"img_tiaowen01\").active = true;\n    \t\t}else{\n    \t\t\tchild.getChildByName(\"img_tiaowen01\").active = false;\n    \t\t}\n            let cfgObj = JSON.parse(serverPack[i].dataJsonCfg);\n            let gameType = app.ShareDefine().GametTypeID2PinYin[serverPack[i].gameId];\n            let wanfa=app.RoomCfgManager().WanFa(gameType,cfgObj);\n            child.wanfa = wanfa;\n            wanfa += \"  比赛分设置：\"+this.GetUnionCfg(cfgObj);\n            child.unionCfg = this.GetUnionCfg(cfgObj);\n            if(wanfa.length > 20){\n                wanfa = wanfa.substring(0,20) + '...';\n            }\n\n\n            child.getChildByName(\"bg_key\").getChildByName(\"key\").getComponent(cc.Label).string = serverPack[i].tagId;\n            child.getChildByName(\"lb_roomName\").getComponent(cc.Label).string = serverPack[i].roomName;\n            child.getChildByName(\"lb_roomCfg\").getComponent(cc.Label).string = wanfa;\n            child.getChildByName(\"lb_duiju\").getComponent(cc.Label).string = serverPack[i].setCount;\n            child.getChildByName(\"lb_kaifang\").getComponent(cc.Label).string = serverPack[i].roomSize;\n            child.getChildByName(\"lb_cost\").getComponent(cc.Label).string = serverPack[i].consumeValue;\n            child.getChildByName(\"lb_prizePool\").getComponent(cc.Label).string = serverPack[i].prizePool;\n    \t\t\n    \t\tchild.configId = serverPack[i].configId;\n    \t\tchild.active = true;\n    \t\tcontent.addChild(child);\n    \t}\n    },\n    GetUnionCfg:function(cfgObj){\n        let PLDecStr = \"\";\n        PLDecStr += \"房间比赛分门槛：\"+cfgObj.roomSportsThreshold;\n        PLDecStr += \"，比赛分倍数：\"+cfgObj.sportsDouble;\n        if (typeof(cfgObj.prizePool) == \"undefined\") {\n            cfgObj.prizePool = 0;\n        }\n        PLDecStr += \"，赛事成本：\"+cfgObj.prizePool;\n        PLDecStr += \"，房间比赛分消耗：\";\n        if (cfgObj.roomSportsType == 0) {\n            if (typeof(cfgObj.bigWinnerConsumeList) == \"undefined\" || cfgObj.bigWinnerConsumeList.length <= 0) {\n                PLDecStr += \"大赢家赢比赛分>=\"+cfgObj.geWinnerPoint+\"时，消耗\"+cfgObj.roomSportsBigWinnerConsume;\n            }else{\n                for (let i = 0; i < cfgObj.bigWinnerConsumeList.length; i++) {\n                    PLDecStr += \"大赢家赢比赛分>\"+cfgObj.bigWinnerConsumeList[i].winScore+\"时，消耗比赛分\"+cfgObj.bigWinnerConsumeList[i].sportsPoint;\n                    if (i < (cfgObj.bigWinnerConsumeList.length - 1)) {\n                        PLDecStr += \"，\";\n                    }\n                }\n            }\n            if(cfgObj.twoMode){\n                PLDecStr += \"；每人付\" + cfgObj.roomSportsEveryoneConsume;\n            }\n        }else{\n            PLDecStr += \"每人付\"+cfgObj.roomSportsEveryoneConsume;\n        }\n        if (cfgObj.dianbo && parseInt(cfgObj.dianbo)) {\n            PLDecStr += \"，携带分\"+cfgObj.dianbo;\n        }\n       else PLDecStr += \"，比赛分低于\"+cfgObj.autoDismiss+\"自动解散\";\n        return PLDecStr;\n    },\n    //控件点击回调\n    OnClick_BtnWnd:function(eventTouch, eventData){\n        try{\n            app.SoundManager().PlaySound(\"BtnClick\");\n            let btnNode = eventTouch.currentTarget;\n            let btnName = btnNode.name;\n            this.OnClick(btnName, btnNode);\n        }\n        catch (error){\n            console.log(\"OnClick_BtnWnd:\"+error.stack);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if(btnName.startsWith(\"btn_day\")){\n            this.curType = parseInt(btnName.replace(\"btn_day\",'')) - 1;\n            this.curPage = 1;\n            this.ClickTopBtn(btnName);\n            let managementScrollView = this.node.getChildByName(\"managementScrollView\");\n            let content = managementScrollView.getChildByName(\"view\").getChildByName(\"content\");\n            managementScrollView.getComponent(cc.ScrollView).scrollToTop();\n            content.removeAllChildren();\n            this.GetDataList(true);\n        }else if('btn_next'==btnName){\n            this.lastPage = this.curPage;\n            this.curPage++;\n            this.GetDataList(true);\n        }\n        else if('btn_last'==btnName){\n            if(this.curPage<=1){\n                return;\n            }\n            this.lastPage = this.curPage;\n            this.curPage--;\n            this.GetDataList(true);\n        }else if('btn_search'==btnName){\n            this.queryStr = btnNode.parent.getComponent(cc.EditBox).string;\n            this.curPage = 1;\n            this.lastPage = 1;\n            this.GetDataList(true);\n        }else if('lb_roomCfg'==btnName){\n            let wanfaStr = btnNode.parent.wanfa;\n            let unionCfgStr = btnNode.parent.unionCfg;\n            app.FormManager().ShowForm(\"ui/club/UIUnionRoomCfgMsg\", wanfaStr, unionCfgStr);\n        }\n    },\n});"]}