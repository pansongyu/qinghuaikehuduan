{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_2\\unionChild_2/assets\\script\\ui\\club_2\\unionChild_2\\memberExamineNode.js"],"names":["app","require","cc","Class","extends","Component","properties","chazhaoEditBox","EditBox","img_wxnc","Node","onLoad","wechatName","rankScrollView","node","getChildByName","getComponent","ScrollView","on","GetNextPage","InitData","clubId","unionId","unionPostType","myisminister","unionName","unionSign","curPage","GetUnionMemberExamineList","isRefresh","sendPack","pageNum","query","string","ComTool","GetBeiZhuID","sendPackName","self","NetManager","SendPack","serverPack","UpdateScrollView","content","scrollToTop","removeAllChildren","demo","active","i","length","matchItem","child","instantiate","Sprite","enabled","headImageUrl","shortPlayer","iconUrl","WeChatManager","InitHeroHeadImage","pid","WeChatHeadImage","OnLoad","ShowHeroHead","name","playerInfo","beizhu","GetBeiZhuName","Label","data","upPlayerName","eliminatePoint","sportsPoint","addChild","SwitchWechatName","children","OnClick_BtnWnd","eventTouch","eventData","SoundManager","PlaySound","btnNode","currentTarget","btnName","OnClick","error","console","log","stack","FormManager","ShowForm","x","opClubId","parent","opPid"],"mappings":"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","file":"memberExamineNode.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_2\\unionChild_2","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        chazhaoEditBox:cc.EditBox,\n        img_wxnc:cc.Node,\n    },\n    onLoad:function(){\n        this.wechatName = true;\n    \tlet rankScrollView = this.node.getChildByName(\"rankScrollView\").getComponent(cc.ScrollView);\n        rankScrollView.node.on('scroll-to-bottom',this.GetNextPage,this);\n    },\n    InitData:function (clubId, unionId, unionPostType,myisminister, unionName, unionSign) {\n        this.clubId = clubId;\n        this.unionId = unionId;\n        this.unionPostType = unionPostType;\n        this.myisminister = myisminister;\n        this.unionName = unionName;\n        this.unionSign = unionSign;\n        this.curPage = 1;\n        this.GetUnionMemberExamineList(true);\n    },\n    GetUnionMemberExamineList:function(isRefresh) {\n        let sendPack = {};\n        sendPack.clubId = this.clubId;\n        sendPack.unionId = this.unionId;\n        sendPack.pageNum = this.curPage;\n        if (this.wechatName) {\n            sendPack.query = this.chazhaoEditBox.string;\n        }else{\n            sendPack.query = app.ComTool().GetBeiZhuID(this.chazhaoEditBox.string);\n        }\n        let sendPackName = \"Union.CUnionMemberExamineListZhongZhi\";\n        let self = this;\n        app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n            self.UpdateScrollView(serverPack, isRefresh);\n        }, function(){\n\n        });\n    },\n    GetNextPage:function(){\n    \tthis.curPage++;\n    \tthis.GetUnionMemberExamineList(false);\n    },\n    UpdateScrollView:function(serverPack, isRefresh){\n    \tlet rankScrollView = this.node.getChildByName(\"rankScrollView\");\n    \tlet content = rankScrollView.getChildByName(\"view\").getChildByName(\"content\");\n    \tif (isRefresh) {\n    \t\trankScrollView.getComponent(cc.ScrollView).scrollToTop();\n    \t\tcontent.removeAllChildren();\n    \t}\n        let demo = this.node.getChildByName(\"demo\");\n    \tdemo.active = false;\n    \tfor (let i = 0; i < serverPack.length; i++) {\n            let matchItem = serverPack[i];\n    \t\tlet child = cc.instantiate(demo);\n    \t\tif (i%2 == 0) {\n    \t\t\tchild.getComponent(cc.Sprite).enabled = true;\n    \t\t}else{\n    \t\t\tchild.getComponent(cc.Sprite).enabled = false;\n    \t\t}\n            let headImageUrl = matchItem.shortPlayer.iconUrl;\n            if(headImageUrl){\n                app.WeChatManager().InitHeroHeadImage(matchItem.pid, headImageUrl);\n                let WeChatHeadImage = child.getChildByName('head').getComponent(\"WeChatHeadImage\");\n                WeChatHeadImage.OnLoad();\n                WeChatHeadImage.ShowHeroHead(matchItem.shortPlayer.pid,headImageUrl);\n            }\n            child.wechatName = matchItem.shortPlayer.name;\n            child.playerInfo = matchItem.shortPlayer;\n            child.beizhu = app.ComTool().GetBeiZhuName(matchItem.shortPlayer.pid,matchItem.shortPlayer.name);\n            if (this.wechatName) {\n                child.getChildByName(\"lb_name\").getComponent(cc.Label).string =matchItem.shortPlayer.name;\n            }else{\n                child.getChildByName(\"lb_name\").getComponent(cc.Label).string =child.beizhu;\n            }\n            child.pid = matchItem.shortPlayer.pid;\n            child.data = matchItem;\n            child.getChildByName(\"lb_name\").getComponent(cc.Label).string =matchItem.shortPlayer.name\n            child.getChildByName(\"lb_id\").getComponent(cc.Label).string = matchItem.shortPlayer.pid;\n            child.getChildByName(\"lb_upPlayerName\").getComponent(cc.Label).string = matchItem.upPlayerName;\n            child.getChildByName(\"lb_eliminatePoint\").getComponent(cc.Label).string = matchItem.eliminatePoint;\n            child.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = matchItem.sportsPoint;\n    \t\tchild.active = true;\n    \t\tcontent.addChild(child);\n    \t}\n    },\n    SwitchWechatName:function(){\n        let rankScrollView = this.node.getChildByName(\"rankScrollView\");\n        let content = rankScrollView.getChildByName(\"view\").getChildByName(\"content\");\n        for (let i = 0; i < content.children.length; i++) {\n            if (this.wechatName) {\n                content.children[i].getChildByName(\"lb_name\").getComponent(cc.Label).string =content.children[i].wechatName;\n            }else{\n                content.children[i].getChildByName(\"lb_name\").getComponent(cc.Label).string =content.children[i].beizhu;\n            }\n        }\n    },\n    //控件点击回调\n    OnClick_BtnWnd:function(eventTouch, eventData){\n        try{\n            app.SoundManager().PlaySound(\"BtnClick\");\n            let btnNode = eventTouch.currentTarget;\n            let btnName = btnNode.name;\n            this.OnClick(btnName, btnNode);\n        }\n        catch (error){\n            console.log(\"OnClick_BtnWnd:\"+error.stack);\n        }\n    },\n    OnClick:function(btnName, btnNode){\n        if (\"btn_search\" == btnName) {\n            this.curPage = 1;\n            this.GetUnionMemberExamineList(true);\n        }else if('btn_record'==btnName){\n            app.FormManager().ShowForm('ui/club/UIClubUserMessageNew',this.clubId,this.unionId,this.unionName,this.unionSign,0,0,\"btn_ChooseType_9\");\n        }else if (\"img_qmp\" == btnName) {\n            if (this.wechatName) {\n                this.wechatName = false;\n                this.img_wxnc.x = -36;\n                this.img_wxnc.getChildByName(\"lb_2_3\").getComponent(cc.Label).string = \"群名片\";\n            }else{\n                this.wechatName = true;\n                this.img_wxnc.x = 36;\n                this.img_wxnc.getChildByName(\"lb_2_3\").getComponent(cc.Label).string = \"微信昵称\";\n            }\n            this.SwitchWechatName();\n        }else if('btn_agree'==btnName){\n            let sendPack = {};\n            sendPack.clubId = this.clubId;\n            sendPack.unionId = this.unionId;\n            sendPack.opClubId = btnNode.parent.data.clubId;\n            sendPack.opPid = btnNode.parent.pid;\n            let sendPackName = \"Union.CUnionMemberExamineOperateZhongZhi\";\n            let self = this;\n            app.NetManager().SendPack(sendPackName,sendPack, function(serverPack){\n                self.curPage = 1;\n                self.GetUnionMemberExamineList(true);\n            }, function(){\n\n            });\n        }\n    },\n});"]}