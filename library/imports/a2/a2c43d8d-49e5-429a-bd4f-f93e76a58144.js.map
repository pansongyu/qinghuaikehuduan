{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_2/assets\\script\\ui\\club_2\\UIUserSetPL_2.js"],"names":["app","require","cc","Class","extends","properties","OnShow","data","isUnion","isPromoter","lb_TargetPL","node","getChildByName","getComponent","RichText","string","ComTool","GetBeiZhuName","pid","name","lb_curPL","Label","targetPL","tuisaiPoint","OnClick","btnName","btnNode","sendPack","packName","ClubManager","GetUnionSendPackHead","opClubId","clubId","targetClubId","opPid","type","value","Math","abs","SendPointPack","CloseForm","active","ErrLog"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,aAAR,CADJ;AAELI,gBAAY,EAFP;AAILC,YAAQ,gBAAUC,IAAV,EAA8C;AAAA,YAA/BC,OAA+B,uEAAvB,IAAuB;AAAA,YAAlBC,UAAkB,uEAAP,KAAO;;AAClD,aAAKF,IAAL,GAAYA,IAAZ;AACA,aAAKC,OAAL,GAAeA,OAAf;AACA,aAAKC,UAAL,GAAkBA,UAAlB;AACA,YAAIC,cAAc,KAAKC,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqDX,GAAGY,QAAxD,CAAlB;AACAJ,oBAAYK,MAAZ,GAAqB,4CAA4C,KAAKC,OAAL,CAAaC,aAAb,CAA2BV,KAAKW,GAAhC,EAAoCX,KAAKY,IAAzC,EAA8C,CAA9C,CAA5C,GAA+F,MAA/F,GAAwGZ,KAAKW,GAA7G,GAAmH,GAAnH,GAAyH,iCAA9I;AACA,YAAIE,WAAW,KAAKT,IAAL,CAAUC,cAAV,CAAyB,UAAzB,EAAqCC,YAArC,CAAkDX,GAAGmB,KAArD,CAAf;AACAD,iBAASL,MAAT,GAAkB,gBAAgBR,KAAKe,QAAvC;AACA,aAAKC,WAAL,GAAiBhB,KAAKe,QAAtB;AACH,KAbI;AAcLE,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;;AAE9B,YAAGD,WAAW,YAAd,EAA2B;AACnB,gBAAIE,WAAW,EAAf;AACA,gBAAIC,WAAW,EAAf;AACA,gBAAI,KAAKpB,OAAL,IAAgB,CAAC,KAAKC,UAA1B,EAAsC;AAClCkB,2BAAW3B,IAAI6B,WAAJ,GAAkBC,oBAAlB,EAAX;AACAH,yBAASI,QAAT,GAAoB,KAAKxB,IAAL,CAAUwB,QAA9B;AACAH,2BAAW,+BAAX;AACH,aAJD,MAIM,IAAI,CAAC,KAAKpB,OAAN,IAAiB,KAAKC,UAA1B,EAAsC;AACxCkB,yBAASK,MAAT,GAAkB,KAAKzB,IAAL,CAAU0B,YAA5B;AACAL,2BAAW,6CAAX;AACH,aAHK,MAGD;AACDD,yBAASK,MAAT,GAAkBhC,IAAI6B,WAAJ,GAAkBC,oBAAlB,GAAyCE,MAA3D;AACAJ,2BAAW,6BAAX;AACH;AACDD,qBAASO,KAAT,GAAiB,KAAK3B,IAAL,CAAUW,GAA3B;AACA,gBAAG,KAAKK,WAAL,GAAiB,CAApB,EAAsB;AAClBI,yBAASQ,IAAT,GAAgB,CAAhB;AACH,aAFD,MAEK;AACDR,yBAASQ,IAAT,GAAgB,CAAhB;AACH;AACDR,qBAASS,KAAT,GAAgBC,KAAKC,GAAL,CAAS,KAAKf,WAAd,CAAhB;AACA,iBAAKgB,aAAL,CAAmBX,QAAnB,EAA6BD,QAA7B;AACP,SAtBD,MAsBM,IAAGF,WAAW,WAAd,EAA0B;AAC5B,iBAAKe,SAAL;AACH,SAFK,MAEA,IAAGf,WAAW,UAAd,EAAyB;AAC3B,iBAAKd,IAAL,CAAUC,cAAV,CAAyB,UAAzB,EAAqC6B,MAArC,GAA8C,CAAC,KAAK9B,IAAL,CAAUC,cAAV,CAAyB,UAAzB,EAAqC6B,MAApF;AACH,SAFK,MAED;AACD,iBAAKC,MAAL,CAAY,sBAAZ,EAAoCjB,OAApC;AACH;AACJ;AA7CI,CAAT","file":"UIUserSetPL_2.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club_2","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"UIUserSetPL\"),\n    properties: {\n    },\n    OnShow: function (data,isUnion=true,isPromoter=false) {\n        this.data = data;\n        this.isUnion = isUnion;\n        this.isPromoter = isPromoter;\n        let lb_TargetPL = this.node.getChildByName(\"lb_TargetPL\").getComponent(cc.RichText);\n        lb_TargetPL.string = \"<color=#705d52>因裁判重置</c><color=#f8772c>\" + this.ComTool.GetBeiZhuName(data.pid,data.name,9) + \"（ID:\" + data.pid + \"）\" + \"</color><color=#705d52>的比赛分</c>\";\n        let lb_curPL = this.node.getChildByName(\"lb_curPL\").getComponent(cc.Label);\n        lb_curPL.string = \"该玩家当前拥有比赛分：\" + data.targetPL;\n        this.tuisaiPoint=data.targetPL;\n    },\n    OnClick:function(btnName, btnNode){\n        \n        if(btnName == \"btn_tuisai\"){\n                let sendPack = {};\n                let packName = \"\";\n                if (this.isUnion && !this.isPromoter) {\n                    sendPack = app.ClubManager().GetUnionSendPackHead();\n                    sendPack.opClubId = this.data.opClubId;\n                    packName = \"union.CUnionSportsPointUpdate\";\n                }else if (!this.isUnion && this.isPromoter) {\n                    sendPack.clubId = this.data.targetClubId;\n                    packName = \"club.CClubSubordinateLevelSportsPointUpdate\";\n                }else{\n                    sendPack.clubId = app.ClubManager().GetUnionSendPackHead().clubId;\n                    packName = \"club.CClubSportsPointUpdate\";\n                }\n                sendPack.opPid = this.data.pid;\n                if(this.tuisaiPoint>0){\n                    sendPack.type = 1;\n                }else{\n                    sendPack.type = 0;\n                }\n                sendPack.value =Math.abs(this.tuisaiPoint);\n                this.SendPointPack(packName, sendPack);\n        }else if(btnName == \"btn_close\"){\n            this.CloseForm();\n        }else if(btnName == \"btn_help\"){\n            this.node.getChildByName(\"helpNode\").active = !this.node.getChildByName(\"helpNode\").active;\n        }else{\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\n        }\n    },\n});\n"]}