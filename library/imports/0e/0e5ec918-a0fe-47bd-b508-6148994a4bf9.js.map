{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\UILogin01.js"],"names":["app","require","cc","Class","extends","properties","btnLogin","Button","btnLoginxl","toggle_agrgee","Toggle","btn_userAgree","btnMobile","mobile","Node","logo","logoSprite","SpriteFrame","OnCreateInit","NetManager","NetWork","SDKManager","LocalDataManager","RegEvent","Event_CodeError","Event_DoLogin","Event_ConnectFail","Event_ChangeBtnState","httpPath","Client","GetClientConfigProperty","length","substring","NetRequest","SendHttpRequestGet","serverUrl","responseText","httpRequest","data","JSON","parse","Config","event","argDict","code","ShareDefine","KickOut_ServerClose","WaitForConfirm","ConfirmYN","SysNotifyManager","ShowSysMsg","LoginBySDK","UpdateAccessPoint","OnEvent","BtnState","SysLog","interactable","enableAutoGrayEffect","OnShow","ChangeLogo","ShowWeiXinLogin","ShowLoginWayBtn","isChecked","active","node","appName","sys","localStorage","getItem","isShowLineLoginBtn","getChildByName","WeiXinLogin","OnTimer","passSecond","HeroAccountManager","IsDoLogining","scheduleOnce","InitConnectServer","Connected","clientConfig","GetClientConfig","gameServerIP","gameServerPort","CheckUrl","SendHttpRequest","argString","requestType","sendPack","ControlManager","IsOpenVpn","url","join","dataStr","stringify","timeOut","XMLHttpRequest","timeout","open","that","onerror","ErrLog","ontimeout","onreadystatechange","status","readyState","OnReceiveHttpPack","send","onclickTemp","visitor","FormManager","ShowForm","CloseForm","OnConnectSuccess","isReconnecting","XlOpenID","GetConfigProperty","XLAppManager","SendLoginByXLAuthorization","accessTokenInfo","sdkToken","sdkAccountID","WeChatAppManager","SendLoginByWeChatAuthorization","httpResText","serverPack","yanzhengUrl","btn_yzm","lb_times","schedule","ShowYanZhengMaTime","checkCodeUrl","msg","error","OnConnectHttpFail","lb_time","getComponent","Label","unschedule","string","btn_login_duanxin","phone","EditBox","checkPhone","LoginByMobile","SetConfigProperty","OnWebSocketEvent","eventName","arg","OnClick","btnName","btnNode","isNative","LoginByLineSDK","LoginByFacebookSDK","LoginByXLSDK","click_btn_yzm","title","desc","weChatAppShareUrl","console","log","heroID","HeroManager","GetHeroProperty","cityId","ShareFacebookLink","ShareFacebookImage","AccessPoint","test","sms_temple","substr","SendPack"],"mappings":";;;;;;AAAA;;;AAGA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQ,UAAR,CADJ;;AAGLI,gBAAY;AACRC,kBAAUJ,GAAGK,MADL;AAERC,oBAAYN,GAAGK,MAFP;AAGRE,uBAAeP,GAAGQ,MAHV;AAIRC,uBAAeT,GAAGK,MAJV;AAKRK,mBAAWV,GAAGK,MALN;AAMRM,gBAAQX,GAAGY,IANH;AAORC,cAAMb,GAAGY,IAPD;AAQRE,oBAAY,CAACd,GAAGe,WAAJ;AARJ,KAHP;;AAcLC,kBAAc,wBAAY;AACtB,aAAKC,UAAL,GAAkBnB,IAAImB,UAAJ,EAAlB;AACA,aAAKC,OAAL,GAAepB,IAAIoB,OAAJ,EAAf;AACA,aAAKC,UAAL,GAAkBrB,IAAIqB,UAAJ,EAAlB;AACA,aAAKC,gBAAL,GAAwBtB,IAAIsB,gBAAJ,EAAxB;AACA,aAAKC,QAAL,CAAc,WAAd,EAA2B,KAAKC,eAAhC;AACA,aAAKD,QAAL,CAAc,SAAd,EAAyB,KAAKE,aAA9B;AACA,aAAKF,QAAL,CAAc,aAAd,EAA6B,KAAKG,iBAAlC;AACA,aAAKH,QAAL,CAAc,gBAAd,EAAgC,KAAKI,oBAArC;AACA,aAAKR,UAAL,GAAkBnB,IAAImB,UAAJ,EAAlB;AACA,YAAIS,WAAW5B,IAAI6B,MAAJ,CAAWC,uBAAX,CAAmC,YAAnC,CAAf;AACA,YAAIF,SAASA,SAASG,MAAT,GAAgB,CAAzB,KAA+B,GAAnC,EAAwC;AACpCH,uBAAWA,SAASI,SAAT,CAAmB,CAAnB,EAAsBJ,SAASG,MAAT,GAAgB,CAAtC,CAAX;AACH;AACDH,mBAAWA,WAAW,qCAAtB;AACA5B,YAAIiC,UAAJ,GAAiBC,kBAAjB,CAAoCN,QAApC,EAA6C,EAA7C,EAAiD,EAAjD,EAAoD,KAApD,EAA0D,UAACO,SAAD,EAAYC,YAAZ,EAA0BC,WAA1B,EAAyC;AAC/F,gBAAIC,OAAOC,KAAKC,KAAL,CAAWJ,YAAX,CAAX;AACApC,gBAAIyC,MAAJ,GAAaH,KAAKA,IAAlB;AACH,SAHD;AAIH,KAjCI;AAkCL;AACAd,qBAAiB,yBAAUkB,KAAV,EAAiB;AAC9B,YAAIC,UAAUD,KAAd;AACA,YAAIE,OAAOD,QAAQ,MAAR,CAAX;AACA,YAAIC,QAAQ,KAAKC,WAAL,CAAiBC,mBAA7B,EAAkD;AAC9C,iBAAKC,cAAL,CAAoB,YAApB,EAAkC,EAAlC,EAAsC,EAAtC,EAA0C,KAAKF,WAAL,CAAiBG,SAA3D;AACH,SAFD,MAEO,IAAIJ,QAAQ,IAAZ,EAAkB;AACrB;AACA5C,gBAAIiD,gBAAJ,GAAuBC,UAAvB,CAAkC,UAAlC,EAA8C,EAA9C,EAAkD,CAAlD;AACA,iBAAK7B,UAAL,CAAgB8B,UAAhB;AACH,SAJM,MAIA,IAAIP,QAAQ,IAAZ,EAAkB;AACrB;AACH,SAFM,MAEA,IAAIA,OAAO,IAAX,EAAiB,CAAC;AACrB;AACH;AACJ,KAjDI;;AAmDL;AACAlB,uBAAmB,2BAAUgB,KAAV,EAAiB;AAChC,aAAKU,iBAAL;AACA;AACA;AACA;AACApD,YAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,gBAAnB,EAAqC,EAAE,SAAS,CAAX,EAArC;AACA;AACArD,YAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,YAAnB,EAAiC,YAAjC;AACH,KA5DI;;AA8DL;AACA1B,0BAAsB,8BAAUe,KAAV,EAAiB;AACnC,YAAIY,WAAWZ,MAAM,OAAN,CAAf;AACA,aAAKa,MAAL,CAAY,kCAAZ,EAAgDD,QAAhD;AACA,YAAIA,YAAY,CAAhB,EAAmB;AACf,iBAAKhD,QAAL,CAAckD,YAAd,GAA6B,CAA7B;AACA,iBAAKlD,QAAL,CAAcmD,oBAAd,GAAqC,CAArC;AACA,iBAAKjD,UAAL,CAAgBgD,YAAhB,GAA+B,CAA/B;AACA,iBAAKhD,UAAL,CAAgBiD,oBAAhB,GAAuC,CAAvC;AACH,SALD,MAKO;AACH,iBAAKnD,QAAL,CAAckD,YAAd,GAA6B,CAA7B;AACA,iBAAKlD,QAAL,CAAcmD,oBAAd,GAAqC,CAArC;AACA,iBAAKjD,UAAL,CAAgBgD,YAAhB,GAA+B,CAA/B;AACA,iBAAKhD,UAAL,CAAgBiD,oBAAhB,GAAuC,CAAvC;AACA;AACAzD,gBAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,YAAnB,EAAiC,YAAjC;AACH;AACJ,KA/EI;AAgFLK,YAAQ,kBAAY;AAChB,aAAKC,UAAL;AACA,aAAKC,eAAL;AACA,aAAKC,eAAL;AACA,aAAKpD,aAAL,CAAmBqD,SAAnB,GAA+B,IAA/B;AACH,KArFI;AAsFLF,qBAAiB,2BAAY;AACzB,aAAK/C,MAAL,CAAYkD,MAAZ,GAAqB,KAArB;AACA,aAAKzD,QAAL,CAAc0D,IAAd,CAAmBD,MAAnB,GAA4B,IAA5B;AACA;AACH,KA1FI;;AA4FLF,qBAAiB,2BAAY;AACzB;AACA;AACA,YAAII,UAAU/D,GAAGgE,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAAd;AACA,YAAIC,qBAAqBJ,WAAW,QAApC;;AAEA,aAAKD,IAAL,CAAUM,cAAV,CAAyB,WAAzB,EAAsCP,MAAtC,GAA+C,CAACM,kBAAhD;AACA,aAAKL,IAAL,CAAUM,cAAV,CAAyB,gBAAzB,EAA2CP,MAA3C,GAAoDM,kBAApD;AACA;AACA;AACA;AACA;AACH,KAxGI;;AA0GLE,iBAAa,uBAAY;AACrBvE,YAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,gBAAnB,EAAqC,EAAE,SAAS,CAAX,EAArC;AACA,aAAKhC,UAAL,CAAgB8B,UAAhB;AACA,YAAIqB,UAAU,SAAVA,OAAU,CAAUC,UAAV,EAAsB;AAChCzE,gBAAI0E,kBAAJ,GAAyBC,YAAzB,CAAsC,KAAtC;AACH,SAFD;AAGA,aAAKC,YAAL,CAAkBJ,OAAlB,EAA2B,GAA3B;AACH,KAjHI;AAkHL;AACAK,uBAAmB,6BAAY;AAC3B;AACA,YAAI,KAAKzD,OAAL,CAAa0D,SAAb,MAA4B,KAAhC,EAAuC;AACnC9E,gBAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,YAAnB,EAAiC,SAAjC;AACA,gBAAI0B,eAAe/E,IAAI6B,MAAJ,CAAWmD,eAAX,EAAnB;AACA,iBAAKC,YAAL,GAAoBF,aAAa,cAAb,CAApB;AACA,iBAAKG,cAAL,GAAsBH,aAAa,gBAAb,CAAtB;AACA,gBAAII,WAAW,YAAY,KAAKF,YAAjB,GAAgC,cAA/C;AACA,iBAAKG,eAAL,CAAqBD,QAArB,EAA+B,EAA/B,EAAmC,KAAnC,EAA0C,EAA1C;AACH;AACJ,KA7HI;AA8HLC,qBAAiB,yBAAUjD,SAAV,EAAqBkD,SAArB,EAAgCC,WAAhC,EAA6CC,QAA7C,EAAuD;AACpE,YAAIvF,IAAIwF,cAAJ,GAAqBC,SAArB,EAAJ,EAAsC;AAClC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAIC,MAAM,CAACvD,SAAD,EAAYkD,SAAZ,EAAuBM,IAAvB,CAA4B,EAA5B,CAAV;AACA,YAAIC,UAAUrD,KAAKsD,SAAL,CAAeN,QAAf,CAAd;AACA;AACA,YAAIO,UAAU,KAAd;AACA,YAAIzD,cAAc,IAAI0D,cAAJ,EAAlB;AACA1D,oBAAY2D,OAAZ,GAAsB,IAAtB;AACA3D,oBAAY4D,IAAZ,CAAiBX,WAAjB,EAA8BI,GAA9B,EAAmC,IAAnC;AACA;AACA;AACA,YAAIQ,OAAO,IAAX;AACA7D,oBAAY8D,OAAZ,GAAsB,YAAY;AAC9BD,iBAAKE,MAAL,CAAY,sBAAZ,EAAoCV,GAApC;AACA1F,gBAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,YAAnB,EAAiC,YAAjC;AACArD,gBAAI0E,kBAAJ,GAAyBtB,iBAAzB;AACA;AACH,SALD;AAMAf,oBAAYgE,SAAZ,GAAwB,YAAY;AAChCP,sBAAU,IAAV;AACA9F,gBAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,YAAnB,EAAiC,YAAjC;AACArD,gBAAI0E,kBAAJ,GAAyBtB,iBAAzB;AACA;AACH,SALD;AAMAf,oBAAYiE,kBAAZ,GAAiC,YAAY;AACzC;AACA;AACA;AACA,gBAAIjE,YAAYkE,MAAZ,IAAsB,GAA1B,EAA+B;AAC3B,oBAAIlE,YAAYmE,UAAZ,IAA0B,CAA9B,EAAiC;AAC7BxG,wBAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,YAAnB,EAAiC,YAAjC;AACA6C,yBAAKO,iBAAL,CAAuBtE,SAAvB,EAAkCE,YAAYD,YAA9C;AACA;AACA;AACA;AACA;AACA;AACA;AACH;AACJ;AACJ,SAhBD;AAiBAC,oBAAYqE,IAAZ,CAAiBd,OAAjB;AAEH,KA7LI;AA8LRe,iBAAY,uBAAU;AACrB,YAAI3G,IAAIyC,MAAJ,IAAczC,IAAIyC,MAAJ,CAAWmE,OAA7B,EAAsC;AACrC,iBAAKC,WAAL,CAAiBC,QAAjB,CAA0B,WAA1B;AACS,iBAAKC,SAAL;AACT;AACD,KAnMO;AAoML;AACAC,sBAAkB,0BAAUC,cAAV,EAA0B;AACxC;AACAjH,YAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,YAAnB,EAAiC,YAAjC;AACA;AACA;AACA,YAAI6D,WAAW,KAAK5F,gBAAL,CAAsB6F,iBAAtB,CAAwC,SAAxC,EAAmD,UAAnD,CAAf;AACA,YAAID,QAAJ,EAAc;AACVlH,gBAAIoH,YAAJ,GAAmBC,0BAAnB,CAA8CH,QAA9C;AACH,SAFD,MAEO;AACH;AACA,gBAAII,kBAAkB,KAAKhG,gBAAL,CAAsB6F,iBAAtB,CAAwC,SAAxC,EAAmD,iBAAnD,CAAtB;AACA,gBAAII,WAAW,EAAf;AACA,gBAAIC,eAAe,CAAnB;AACA;AACA,gBAAIF,eAAJ,EAAqB;AACjBC,2BAAWD,gBAAgB,UAAhB,CAAX;AACAE,+BAAeF,gBAAgB,WAAhB,CAAf;AACH;AACD,gBAAIE,gBAAgBD,QAApB,EAA8B;AAC1B;AACAvH,oBAAIyH,gBAAJ,GAAuBC,8BAAvB,CAAsDH,QAAtD,EAAgEC,YAAhE;AACH;AACJ;AACJ,KA5NI;AA6NLf,uBAAmB,2BAAUtE,SAAV,EAAqBwF,WAArB,EAAkC;AACjD,YAAI;AACA,gBAAIC,aAAarF,KAAKC,KAAL,CAAWmF,WAAX,CAAjB;AACA,gBAAIC,WAAW,MAAX,KAAsB,CAA1B,EAA6B;AACzB,oBAAI,KAAKC,WAAL,IAAoB1F,SAAxB,EAAmC;AAC/B,wBAAI2F,UAAU,KAAKjH,MAAL,CAAYyD,cAAZ,CAA2B,SAA3B,CAAd;AACAwD,4BAAQ/D,MAAR,GAAiB,KAAjB;AACA,yBAAKgE,QAAL,GAAgB,EAAhB;AACA,yBAAKC,QAAL,CAAc,KAAKC,kBAAnB,EAAuC,CAAvC;AACA,yBAAKrD,YAAL,CAAkB,YAAY;AAC1BkD,gCAAQ/D,MAAR,GAAiB,IAAjB;AACA,6BAAKgE,QAAL,GAAgB,CAAhB;AACH,qBAHD,EAGG,EAHH;AAIH,iBATD,MASO,IAAI,KAAKG,YAAL,IAAqB/F,SAAzB,EAAoC;AACvC;AACA;AACA;;;;;;AAMH;AACJ,aApBD,MAoBO;AACH,qBAAKe,UAAL,CAAgB0E,WAAWO,GAA3B;AACH;AACJ,SAzBD,CA0BA,OAAOC,KAAP,EAAc,CAEb;AACJ,KA3PI;AA4PLC,uBAAmB,2BAAUlG,SAAV,EAAqBqE,UAArB,EAAiCD,MAAjC,EAAyC,CAE3D,CA9PI;AA+PL0B,wBAAoB,8BAAY;AAC5B,YAAIK,UAAU,KAAKzH,MAAL,CAAYyD,cAAZ,CAA2B,QAA3B,EAAqCiE,YAArC,CAAkDrI,GAAGsI,KAArD,CAAd;AACA,aAAKT,QAAL,GAAgB,KAAKA,QAAL,GAAgB,CAAhC;AACA,YAAI,KAAKA,QAAL,IAAiB,CAArB,EAAwB;AACpB,iBAAKU,UAAL,CAAgB,KAAKR,kBAArB;AACAK,oBAAQI,MAAR,GAAiB,EAAjB;AACA;AACH;AACDJ,gBAAQI,MAAR,GAAiB,KAAKX,QAAL,GAAgB,QAAjC;AACH,KAxQI;AAyQLtG,mBAAe,yBAAY;AACvB,aAAK8C,WAAL;AACH,KA3QI;AA4QLoE,uBAAmB,6BAAY;AAC3B,YAAIC,QAAQ,KAAK/H,MAAL,CAAYyD,cAAZ,CAA2B,YAA3B,EAAyCiE,YAAzC,CAAsDrI,GAAG2I,OAAzD,EAAkEH,MAA9E;AACA,YAAI,CAACE,KAAL,EAAY;AACR,iBAAK1F,UAAL,CAAgB,SAAhB;AACA;AACH;AACD,YAAI4F,aAAa,KAAKA,UAAL,CAAgBF,KAAhB,CAAjB;AACA,YAAIE,cAAc,KAAlB,EAAyB;AACrB,iBAAK5F,UAAL,CAAgB,QAAhB;AACA;AACH;AACD,YAAIN,OAAO,KAAK/B,MAAL,CAAYyD,cAAZ,CAA2B,UAA3B,EAAuCiE,YAAvC,CAAoDrI,GAAG2I,OAAvD,EAAgEH,MAA3E;AACA,YAAI,CAAC9F,IAAL,EAAW;AACP,iBAAKM,UAAL,CAAgB,QAAhB;AACA;AACH;AACD,aAAK7B,UAAL,CAAgB0H,aAAhB,CAA8BH,KAA9B,EAAqChG,IAArC;AACA;AACA,aAAKtB,gBAAL,CAAsB0H,iBAAtB,CAAwC,SAAxC,EAAmD,eAAnD,EAAoE,EAAE,YAAYpG,IAAd,EAAoB,UAAUgG,KAA9B,EAApE;AACH,KA/RI;AAgSL;AACAK,sBAAkB,0BAAUC,SAAV,EAAqBC,GAArB,EAA0B;AACxCnJ,YAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,YAAnB,EAAiC,YAAjC;AACA,aAAKlC,UAAL,CAAgB8H,gBAAhB,CAAiCC,SAAjC,EAA4CC,GAA5C;AACH,KApSI;AAqSL;;AAEAC,aAAS,iBAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AACjC,YAAID,WAAW,WAAf,EAA4B;AACxB,gBAAI,CAAC,KAAK5I,aAAL,CAAmBqD,SAAxB,EAAmC;AAC/B,qBAAKZ,UAAL,CAAgB,oBAAhB;AACA;AACH;AACD,iBAAKqB,WAAL;AACH,SAND,MAOK,IAAI8E,WAAW,gBAAf,EAAiC;AAClC,gBAAI,CAACnJ,GAAGgE,GAAH,CAAOqF,QAAZ,EAAsB;AAClB;AACH;AACD,gBAAI,CAAC,KAAK9I,aAAL,CAAmBqD,SAAxB,EAAmC;AAC/B,qBAAKZ,UAAL,CAAgB,oBAAhB;AACA;AACH;AACDlD,gBAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,gBAAnB,EAAqC,EAAE,SAAS,CAAX,EAArC;AACA,iBAAKhC,UAAL,CAAgBmI,cAAhB;AACA,gBAAIhF,UAAU,SAAVA,OAAU,CAAUC,UAAV,EAAsB;AAChC;AACAzE,oBAAI0E,kBAAJ,GAAyBC,YAAzB,CAAsC,KAAtC;AACH,aAHD;AAIA,iBAAKC,YAAL,CAAkBJ,OAAlB,EAA2B,GAA3B;AACH,SAfI,MAgBA,IAAI6E,WAAW,oBAAf,EAAqC;AACtC,gBAAI,CAACnJ,GAAGgE,GAAH,CAAOqF,QAAZ,EAAsB;AAClB;AACH;AACD,gBAAI,CAAC,KAAK9I,aAAL,CAAmBqD,SAAxB,EAAmC;AAC/B,qBAAKZ,UAAL,CAAgB,oBAAhB;AACA;AACH;AACDlD,gBAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,gBAAnB,EAAqC,EAAE,SAAS,CAAX,EAArC;AACA,iBAAKhC,UAAL,CAAgBoI,kBAAhB;AACA,gBAAIjF,UAAU,SAAVA,OAAU,CAAUC,UAAV,EAAsB;AAChC;AACAzE,oBAAI0E,kBAAJ,GAAyBC,YAAzB,CAAsC,KAAtC;AACH,aAHD;AAIA,iBAAKC,YAAL,CAAkBJ,OAAlB,EAA2B,GAA3B;AACH,SAfI,MAgBA,IAAI6E,WAAW,cAAf,EAA+B;AAChC,gBAAI,CAACnJ,GAAGgE,GAAH,CAAOqF,QAAZ,EAAsB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACH;AACD,gBAAI,CAAC,KAAK9I,aAAL,CAAmBqD,SAAxB,EAAmC;AAC/B,qBAAKZ,UAAL,CAAgB,oBAAhB;AACA;AACH;AACDlD,gBAAI6B,MAAJ,CAAWwB,OAAX,CAAmB,gBAAnB,EAAqC,EAAE,SAAS,CAAX,EAArC;AACA,iBAAKhC,UAAL,CAAgBqI,YAAhB;AACA,gBAAIlF,UAAU,SAAVA,OAAU,CAAUC,UAAV,EAAsB;AAChC;AACAzE,oBAAI0E,kBAAJ,GAAyBC,YAAzB,CAAsC,KAAtC;AACH,aAHD;AAIA,iBAAKC,YAAL,CAAkBJ,OAAlB,EAA2B,GAA3B;AACH,SArBI,MAsBA,IAAI6E,WAAW,YAAf,EAA6B;AAC9B,iBAAK/I,QAAL,CAAc0D,IAAd,CAAmBD,MAAnB,GAA4B,KAA5B;AACA,iBAAKnD,SAAL,CAAeoD,IAAf,CAAoBD,MAApB,GAA6B,KAA7B;AACA,iBAAKlD,MAAL,CAAYkD,MAAZ,GAAqB,IAArB;AACA,gBAAIuD,kBAAkB,KAAKhG,gBAAL,CAAsB6F,iBAAtB,CAAwC,SAAxC,EAAmD,eAAnD,CAAtB;AACA,gBAAIG,eAAJ,EAAqB;AACjB,oBAAIC,WAAWD,gBAAgB,UAAhB,CAAf;AACA,oBAAIzG,SAASyG,gBAAgB,QAAhB,CAAb;AACA;AACA,qBAAKjG,UAAL,CAAgB0H,aAAhB,CAA8BlI,MAA9B,EAAsC0G,QAAtC;AACH;AACJ,SAXI,MAYA,IAAI8B,WAAW,UAAf,EAA2B;AAC5B;AACA,iBAAK/I,QAAL,CAAc0D,IAAd,CAAmBD,MAAnB,GAA4B,IAA5B;AACA,iBAAKnD,SAAL,CAAeoD,IAAf,CAAoBD,MAApB,GAA6B,IAA7B;AACA,iBAAKlD,MAAL,CAAYkD,MAAZ,GAAqB,KAArB;AACH,SALI,MAMA,IAAIsF,WAAW,SAAf,EAA0B;AAC3B,iBAAKM,aAAL;AACH,SAFI,MAGA,IAAIN,WAAW,mBAAf,EAAoC;AACrC,iBAAKV,iBAAL;AACH,SAFI,MAGA,IAAIU,WAAW,gBAAf,EAAiC;AAClC,iBAAKxC,WAAL,CAAiBC,QAAjB,CAA0B,gBAA1B;AACH,SAFI,MAGA,IAAI,2BAA2BuC,OAA/B,EAAwC;AAAC;AAC1C,gBAAIO,QAAQ5J,IAAI6B,MAAJ,CAAWC,uBAAX,CAAmC,kBAAnC,CAAZ;AACA,gBAAI+H,OAAO7J,IAAI6B,MAAJ,CAAWC,uBAAX,CAAmC,iBAAnC,CAAX;AACA,gBAAIgI,oBAAoB9J,IAAI6B,MAAJ,CAAWC,uBAAX,CAAmC,mBAAnC,CAAxB;AACAiI,oBAAQC,GAAR,CAAY,6CAAZ,EAA2DF,iBAA3D;AACA,gBAAIG,SAASjK,IAAIkK,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAb;AACAJ,oBAAQC,GAAR,CAAY,8BAAZ,EAA4CC,MAA5C;AACA,gBAAIG,SAASpK,IAAIkK,WAAJ,GAAkBC,eAAlB,CAAkC,QAAlC,CAAb;AACAL,gCAAoBA,oBAAoBG,MAApB,GAA6B,UAA7B,GAA0CG,MAA9D;AACAL,oBAAQC,GAAR,CAAY,qBAAZ,EAAmCJ,KAAnC;AACAG,oBAAQC,GAAR,CAAY,qBAAZ,EAAmCH,IAAnC;AACAE,oBAAQC,GAAR,CAAY,qBAAZ,EAAmCF,iBAAnC;;AAEA,iBAAKzI,UAAL,CAAgBgJ,iBAAhB,CAAkCT,KAAlC,EAAyCC,IAAzC,EAA+CC,iBAA/C;AACH,SAdI,MAeA,IAAI,4BAA4BT,OAAhC,EAAyC;AAAC;AAC3C,iBAAKhI,UAAL,CAAgBiJ,kBAAhB;AACH,SAFI,MAGA;AACD,iBAAKlE,MAAL,CAAY,qBAAZ,EAAmCiD,OAAnC;AACH;AACJ,KArZI;AAsZLjG,uBAAmB,6BAAY;AAC3B,YAAImH,cAAcvK,IAAIsB,gBAAJ,GAAuB6F,iBAAvB,CAAyC,SAAzC,EAAoD,aAApD,CAAlB;AACA,YAAIoD,eAAe,CAAnB,EAAsB;AAClBvK,gBAAIsB,gBAAJ,GAAuB0H,iBAAvB,CAAyC,SAAzC,EAAoD,aAApD,EAAmE,CAAnE;AACH,SAFD,MAEO,IAAIuB,eAAe,CAAnB,EAAsB;AACzBvK,gBAAIsB,gBAAJ,GAAuB0H,iBAAvB,CAAyC,SAAzC,EAAoD,aAApD,EAAmE,CAAnE;AACH,SAFM,MAEA,IAAIuB,eAAe,CAAnB,EAAsB;AACzBvK,gBAAIsB,gBAAJ,GAAuB0H,iBAAvB,CAAyC,SAAzC,EAAoD,aAApD,EAAmE,CAAnE;AACH,SAFM,MAEA,IAAIuB,eAAe,CAAnB,EAAsB;AACzBvK,gBAAIsB,gBAAJ,GAAuB0H,iBAAvB,CAAyC,SAAzC,EAAoD,aAApD,EAAmE,CAAnE;AACH;AACJ,KAjaI;AAkaLF,gBAAY,oBAAUF,KAAV,EAAiB;AACzB,YAAI,CAAE,oBAAoB4B,IAApB,CAAyB5B,KAAzB,CAAN,EAAwC;AACpC;AACH,SAFD,MAEO;AACH,mBAAO,CAAP;AACH;AACD,YAAI,CAAE,YAAY4B,IAAZ,CAAiB5B,KAAjB,CAAN,EAAgC;AAC5B;AACH,SAFD,MAEO;AACH,mBAAO,CAAP;AACH;AACD,YAAI,CAAE,eAAe4B,IAAf,CAAoB5B,KAApB,CAAN,EAAmC;AAC/B;AACH,SAFD,MAEO;AACH,mBAAO,CAAP;AACH;AACD,eAAO,KAAP;AACH,KAnbI;AAobLe,mBAAe,yBAAY;AACvB,YAAIf,QAAQ,KAAK/H,MAAL,CAAYyD,cAAZ,CAA2B,YAA3B,EAAyCiE,YAAzC,CAAsDrI,GAAG2I,OAAzD,EAAkEH,MAA9E;AACA,YAAI,CAACE,KAAL,EAAY;AACR,iBAAK1F,UAAL,CAAgB,SAAhB;AACA;AACH;AACD,YAAI4F,aAAa,KAAKA,UAAL,CAAgBF,KAAhB,CAAjB;AACA,YAAIE,cAAc,KAAlB,EAAyB;AACrB,iBAAK5F,UAAL,CAAgB,QAAhB;AACA;AACH;AACD,YAAIuH,aAAa,eAAjB;AACA,YAAI3B,cAAc,CAAlB,EAAqB;AACjB;AACA2B,yBAAa,eAAb;AACA;AACA7B,oBAAQ,UAAUA,MAAM8B,MAAN,CAAa,CAAb,CAAlB;AACH;AACD,YAAI5B,cAAc,CAAlB,EAAqB;AACjB;AACA2B,yBAAa,eAAb;AACH;AACD,aAAK5C,WAAL,GAAmB,kCAAnB;AACA,YAAI8C,WAAW;;AAEX,sBAAU/B,KAFC;AAGX,0BAAc6B;AAHH,SAAf;AAKA,aAAKrF,eAAL,CAAqB,KAAKyC,WAA1B,EAAuC,aAAae,KAAb,GAAqB,cAArB,GAAsC6B,UAA7E,EAAyF,KAAzF,EAAgG,EAAhG;AACH;AAjdI,CAAT","file":"UILogin01.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["/*\n    UILogin01 登陆界面\n*/\nvar app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        btnLogin: cc.Button,\n        btnLoginxl: cc.Button,\n        toggle_agrgee: cc.Toggle,\n        btn_userAgree: cc.Button,\n        btnMobile: cc.Button,\n        mobile: cc.Node,\n        logo: cc.Node,\n        logoSprite: [cc.SpriteFrame],\n    },\n\n    OnCreateInit: function () {\n        this.NetManager = app.NetManager();\n        this.NetWork = app.NetWork();\n        this.SDKManager = app.SDKManager();\n        this.LocalDataManager = app.LocalDataManager();\n        this.RegEvent(\"CodeError\", this.Event_CodeError);\n        this.RegEvent(\"DoLogin\", this.Event_DoLogin);\n        this.RegEvent(\"ConnectFail\", this.Event_ConnectFail);\n        this.RegEvent(\"ChangeBtnState\", this.Event_ChangeBtnState);\n        this.NetManager = app.NetManager();\n        let httpPath = app.Client.GetClientConfigProperty(\"WebSiteUrl\");\n        if (httpPath[httpPath.length-1] == \"/\") {\n            httpPath = httpPath.substring(0, httpPath.length-1)\n        }\n        httpPath = httpPath + \"/index.php?module=Api&action=Config\"\n        app.NetRequest().SendHttpRequestGet(httpPath,\"\", {},15000,(serverUrl, responseText, httpRequest) =>{\n            let data = JSON.parse(responseText)\n            app.Config = data.data\n        });\n    },\n    //登录错误码\n    Event_CodeError: function (event) {\n        let argDict = event;\n        let code = argDict[\"Code\"];\n        if (code == this.ShareDefine.KickOut_ServerClose) {\n            this.WaitForConfirm(\"Code_10016\", [], [], this.ShareDefine.ConfirmYN)\n        } else if (code == 5122) {\n            //没有绑定闲聊登录，调用微信登录\n            app.SysNotifyManager().ShowSysMsg(\"该账号未绑定闲聊\", [], 3);\n            this.SDKManager.LoginBySDK();\n        } else if (code == 5123) {\n            // app.SysNotifyManager().ShowSysMsg(\"闲聊登录失败\",[],3);\n        } else if (code = 5124) {//存在闲聊\n            // app.SysNotifyManager().ShowSysMsg(\"闲聊登录失败\",[],3);\n        }\n    },\n\n    //连接服务器失败\n    Event_ConnectFail: function (event) {\n        this.UpdateAccessPoint();\n        // let argDict = event;\n        // if(!argDict['bCloseByLogout'])\n        // this.ShowSysMsg(\"Net_ConnectFail\");\n        app.Client.OnEvent(\"ChangeBtnState\", { \"state\": 0 });\n        //关闭模态层\n        app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n    },\n\n    //设置登录按钮的可点击状态\n    Event_ChangeBtnState: function (event) {\n        let BtnState = event[\"state\"];\n        this.SysLog(\"Event_ChangeBtnState BtnState:%s\", BtnState);\n        if (BtnState == 1) {\n            this.btnLogin.interactable = 0;\n            this.btnLogin.enableAutoGrayEffect = 1;\n            this.btnLoginxl.interactable = 0;\n            this.btnLoginxl.enableAutoGrayEffect = 1;\n        } else {\n            this.btnLogin.interactable = 1;\n            this.btnLogin.enableAutoGrayEffect = 0;\n            this.btnLoginxl.interactable = 1;\n            this.btnLoginxl.enableAutoGrayEffect = 0;\n            //关闭模态层\n            app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n        }\n    },\n    OnShow: function () {\n        this.ChangeLogo();\n        this.ShowWeiXinLogin();\n        this.ShowLoginWayBtn();\n        this.toggle_agrgee.isChecked = true;\n    },\n    ShowWeiXinLogin: function () {\n        this.mobile.active = false;\n        this.btnLogin.node.active = true;\n        // this.btnMobile.node.active=true;\n    },\n\n    ShowLoginWayBtn: function () {\n        // let isAndroid = app.ComTool().IsAndroid();\n        // if(isAndroid) {\n        let appName = cc.sys.localStorage.getItem('appName');\n        let isShowLineLoginBtn = appName == \"baodao\";\n\n        this.node.getChildByName(\"btn_login\").active = !isShowLineLoginBtn;\n        this.node.getChildByName(\"btn_login_line\").active = isShowLineLoginBtn;\n        // } else {\n        //     this.node.getChildByName(\"btn_login\").active = true;\n        //     this.node.getChildByName(\"btn_login_line\").active = false;\n        // }\n    },\n\n    WeiXinLogin: function () {\n        app.Client.OnEvent(\"ChangeBtnState\", { \"state\": 1 });\n        this.SDKManager.LoginBySDK();\n        var OnTimer = function (passSecond) {\n            app.HeroAccountManager().IsDoLogining(false);\n        };\n        this.scheduleOnce(OnTimer, 5.0);\n    },\n    //初始化连接\n    InitConnectServer: function () {\n        //初始化连接服务器\n        if (this.NetWork.Connected() == false) {\n            app.Client.OnEvent(\"ModalLayer\", \"OpenNet\");\n            let clientConfig = app.Client.GetClientConfig();\n            this.gameServerIP = clientConfig[\"GameServerIP\"];\n            this.gameServerPort = clientConfig[\"GameServerPort\"];\n            let CheckUrl = \"http://\" + this.gameServerIP + \":88/myip.php\";\n            this.SendHttpRequest(CheckUrl, \"\", \"GET\", {});\n        }\n    },\n    SendHttpRequest: function (serverUrl, argString, requestType, sendPack) {\n        if (app.ControlManager().IsOpenVpn()) {\n            return;\n        }\n        // app.NetRequest().SendHttpRequest(serverUrl, argString, requestType, sendPack, 3000, \n        //     (serverUrl, responseText)=>{ // success\n        //         app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n        //         that.OnReceiveHttpPack(serverUrl, responseText);\n        //     }, \n        //     (serverUrl, readyState, status)=>{ // fail\n\n        //     },\n        //     (serverUrl, readyState, status)=>{ // timeout\n        //         app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n        //         app.HeroAccountManager().UpdateAccessPoint();\n        //     }, \n        //     (serverUrl, readyState, status)=>{ // error\n        //         app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n        //         app.HeroAccountManager().UpdateAccessPoint();\n        //     }\n        // );\n\n        var url = [serverUrl, argString].join(\"\");\n        var dataStr = JSON.stringify(sendPack);\n        //每次都实例化一个，否则会引起请求结束，实例被释放了\n        let timeOut = false;\n        var httpRequest = new XMLHttpRequest();\n        httpRequest.timeout = 3000;\n        httpRequest.open(requestType, url, true);\n        //服务器json解码\n        //httpRequest.setRequestHeader(\"Content-Type\", \"application/json\");\n        var that = this;\n        httpRequest.onerror = function () {\n            that.ErrLog(\"httpRequest.error:%s\", url);\n            app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n            app.HeroAccountManager().UpdateAccessPoint();\n            //that.InitConnectServer();\n        };\n        httpRequest.ontimeout = function () {\n            timeOut = true;\n            app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n            app.HeroAccountManager().UpdateAccessPoint();\n            //that.InitConnectServer();\n        };\n        httpRequest.onreadystatechange = function () {\n            //执行成功\n            // that.ErrLog(\"httpRequest.status:%s\", httpRequest.status);\n            // that.ErrLog(\"httpRequest.readyState:%s\", httpRequest.readyState);\n            if (httpRequest.status == 200) {\n                if (httpRequest.readyState == 4) {\n                    app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n                    that.OnReceiveHttpPack(serverUrl, httpRequest.responseText);\n                    // if(that.NetWork.Connected()==false){\n                    // \tconsole.log(\"服务器还没连接...\");\n                    // \tthat.NetWork.InitWebSocket(that.gameServerIP, that.gameServerPort, that.OnWebSocketEvent.bind(that), that.OnConnectSuccess.bind(that));\n                    // }else{\n                    // \tconsole.log(\"服务器已经连接成功...\");\n                    // }\n                }\n            }\n        };\n        httpRequest.send(dataStr);\n\n    },\n\tonclickTemp:function(){\n\t\tif (app.Config && app.Config.visitor) {\n\t\t\tthis.FormManager.ShowForm(\"UILogin03\");\n            this.CloseForm();\n\t\t}\n\t},\n    //服务器连接成功\n    OnConnectSuccess: function (isReconnecting) {\n        //关闭模态层\n        app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n        // app.Client.OnEvent(\"ConnectSuccess\", {\"ServerName\":\"GameServer\", \"IsReconnecting\":isReconnecting});\n        //闲聊登录\n        let XlOpenID = this.LocalDataManager.GetConfigProperty(\"Account\", \"XlOpenID\");\n        if (XlOpenID) {\n            app.XLAppManager().SendLoginByXLAuthorization(XlOpenID);\n        } else {\n            //尝试微信登录\n            let accessTokenInfo = this.LocalDataManager.GetConfigProperty(\"Account\", \"AccessTokenInfo\");\n            let sdkToken = \"\";\n            let sdkAccountID = 0;\n            //直接登录服务器\n            if (accessTokenInfo) {\n                sdkToken = accessTokenInfo[\"SDKToken\"];\n                sdkAccountID = accessTokenInfo[\"AccountID\"];\n            }\n            if (sdkAccountID && sdkToken) {\n                //使用上次的授权缓存token\n                app.WeChatAppManager().SendLoginByWeChatAuthorization(sdkToken, sdkAccountID);\n            }\n        }\n    },\n    OnReceiveHttpPack: function (serverUrl, httpResText) {\n        try {\n            let serverPack = JSON.parse(httpResText);\n            if (serverPack[\"code\"] == 0) {\n                if (this.yanzhengUrl == serverUrl) {\n                    let btn_yzm = this.mobile.getChildByName('btn_yzm');\n                    btn_yzm.active = false;\n                    this.lb_times = 60;\n                    this.schedule(this.ShowYanZhengMaTime, 1);\n                    this.scheduleOnce(function () {\n                        btn_yzm.active = true;\n                        this.lb_times = 0;\n                    }, 60);\n                } else if (this.checkCodeUrl == serverUrl) {\n                    //let that=this;\n                    //this.SDKManager.LoginByMobile(this.phoneNo,this.phoneNo);\n                    /*//提交手机号码给服务端\n                    this.NetManager.SendPack(\"game.CPlayerPhone\",{\"phone\":this.phoneNo},function(success){\n                        that.HideNode('phone');\n                    },function(error){\n                        \n                    });*/\n                }\n            } else {\n                this.ShowSysMsg(serverPack.msg);\n            }\n        }\n        catch (error) {\n\n        }\n    },\n    OnConnectHttpFail: function (serverUrl, readyState, status) {\n\n    },\n    ShowYanZhengMaTime: function () {\n        let lb_time = this.mobile.getChildByName('lb_yzm').getComponent(cc.Label);\n        this.lb_times = this.lb_times - 1;\n        if (this.lb_times <= 0) {\n            this.unschedule(this.ShowYanZhengMaTime);\n            lb_time.string = \"\";\n            return;\n        }\n        lb_time.string = this.lb_times + \"秒后可再发送\";\n    },\n    Event_DoLogin: function () {\n        this.WeiXinLogin();\n    },\n    btn_login_duanxin: function () {\n        let phone = this.mobile.getChildByName('edit_phone').getComponent(cc.EditBox).string;\n        if (!phone) {\n            this.ShowSysMsg('请填写手机号码');\n            return;\n        }\n        let checkPhone = this.checkPhone(phone);\n        if (checkPhone == false) {\n            this.ShowSysMsg('电话号码有误');\n            return;\n        }\n        let code = this.mobile.getChildByName('edit_yzm').getComponent(cc.EditBox).string;\n        if (!code) {\n            this.ShowSysMsg('请填写验证码');\n            return;\n        }\n        this.SDKManager.LoginByMobile(phone, code);\n        //本地缓存一下\n        this.LocalDataManager.SetConfigProperty(\"Account\", \"AccountMobile\", { \"SDKToken\": code, \"mobile\": phone });\n    },\n    //websocket事件回掉\n    OnWebSocketEvent: function (eventName, arg) {\n        app.Client.OnEvent(\"ModalLayer\", \"ReceiveNet\");\n        this.NetManager.OnWebSocketEvent(eventName, arg);\n    },\n    //---------点击函数---------------------\n\n    OnClick: function (btnName, btnNode) {\n        if (btnName == \"btn_login\") {\n            if (!this.toggle_agrgee.isChecked) {\n                this.ShowSysMsg(\"MSG_NOT_USER_AGREE\");\n                return;\n            }\n            this.WeiXinLogin();\n        }\n        else if (btnName == \"btn_login_line\") {\n            if (!cc.sys.isNative) {\n                return;\n            }\n            if (!this.toggle_agrgee.isChecked) {\n                this.ShowSysMsg(\"MSG_NOT_USER_AGREE\");\n                return;\n            }\n            app.Client.OnEvent(\"ChangeBtnState\", { \"state\": 1 });\n            this.SDKManager.LoginByLineSDK();\n            var OnTimer = function (passSecond) {\n                //app.Client.OnEvent(\"ChangeBtnState\", {\"state\":0});\n                app.HeroAccountManager().IsDoLogining(false);\n            };\n            this.scheduleOnce(OnTimer, 5.0);\n        }\n        else if (btnName == \"btn_login_facebook\") {\n            if (!cc.sys.isNative) {\n                return;\n            }\n            if (!this.toggle_agrgee.isChecked) {\n                this.ShowSysMsg(\"MSG_NOT_USER_AGREE\");\n                return;\n            }\n            app.Client.OnEvent(\"ChangeBtnState\", { \"state\": 1 });\n            this.SDKManager.LoginByFacebookSDK();\n            var OnTimer = function (passSecond) {\n                //app.Client.OnEvent(\"ChangeBtnState\", {\"state\":0});\n                app.HeroAccountManager().IsDoLogining(false);\n            };\n            this.scheduleOnce(OnTimer, 5.0);\n        }\n        else if (btnName == \"btn_login_xl\") {\n            if (!cc.sys.isNative) {\n                // let code=\"770b90b81d6fadc19a60ba2a8907805e\";\n                // let dataDict=[];\n                // dataDict['ErrCode']=0;\n                // dataDict['Code']=code;\n                // app.XLAppManager().OnNativeNotifyXLLogin(dataDict);\n\n                return;\n            }\n            if (!this.toggle_agrgee.isChecked) {\n                this.ShowSysMsg(\"MSG_NOT_USER_AGREE\");\n                return;\n            }\n            app.Client.OnEvent(\"ChangeBtnState\", { \"state\": 1 });\n            this.SDKManager.LoginByXLSDK();\n            var OnTimer = function (passSecond) {\n                //app.Client.OnEvent(\"ChangeBtnState\", {\"state\":0});\n                app.HeroAccountManager().IsDoLogining(false);\n            };\n            this.scheduleOnce(OnTimer, 5.0);\n        }\n        else if (btnName == \"btn_mobile\") {\n            this.btnLogin.node.active = false;\n            this.btnMobile.node.active = false;\n            this.mobile.active = true;\n            let accessTokenInfo = this.LocalDataManager.GetConfigProperty(\"Account\", \"AccountMobile\");\n            if (accessTokenInfo) {\n                let sdkToken = accessTokenInfo[\"SDKToken\"];\n                let mobile = accessTokenInfo[\"mobile\"];\n                //let sdkAccountID = accessTokenInfo[\"AccountID\"];\n                this.SDKManager.LoginByMobile(mobile, sdkToken);\n            }\n        }\n        else if (btnName == \"btn_back\") {\n            //this.NetManager.Disconnect();\n            this.btnLogin.node.active = true;\n            this.btnMobile.node.active = true;\n            this.mobile.active = false;\n        }\n        else if (btnName == \"btn_yzm\") {\n            this.click_btn_yzm();\n        }\n        else if (btnName == \"btn_login_duanxin\") {\n            this.btn_login_duanxin();\n        }\n        else if (btnName == 'btn_user_agree') {\n            this.FormManager.ShowForm(\"UIFuWuTiaoKuan\");\n        }\n        else if ('btn_facebookShareLink' == btnName) {// 调试分享\n            let title = app.Client.GetClientConfigProperty(\"WeChatShareTitle\");\n            let desc = app.Client.GetClientConfigProperty(\"WeChatShareDesc\");\n            let weChatAppShareUrl = app.Client.GetClientConfigProperty(\"WeChatAppShareUrl\");\n            console.log(\"Click_btn_facebook: cfg weChatAppShareUrl: \", weChatAppShareUrl);\n            let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n            console.log(\"Click_btn_facebook: heroID: \", heroID);\n            let cityId = app.HeroManager().GetHeroProperty(\"cityId\");\n            weChatAppShareUrl = weChatAppShareUrl + heroID + \"&cityid=\" + cityId;\n            console.log(\"Click_btn_facebook:\", title);\n            console.log(\"Click_btn_facebook:\", desc);\n            console.log(\"Click_btn_facebook:\", weChatAppShareUrl);\n            \n            this.SDKManager.ShareFacebookLink(title, desc, weChatAppShareUrl);\n        }\n        else if ('btn_facebookShareImage' == btnName) {// 调试分享            \n            this.SDKManager.ShareFacebookImage();\n        }\n        else {\n            this.ErrLog(\"OnClick not find:%s\", btnName);\n        }\n    },\n    UpdateAccessPoint: function () {\n        let AccessPoint = app.LocalDataManager().GetConfigProperty(\"Account\", \"AccessPoint\");\n        if (AccessPoint == 0) {\n            app.LocalDataManager().SetConfigProperty(\"Account\", \"AccessPoint\", 1);\n        } else if (AccessPoint == 1) {\n            app.LocalDataManager().SetConfigProperty(\"Account\", \"AccessPoint\", 2);\n        } else if (AccessPoint == 2) {\n            app.LocalDataManager().SetConfigProperty(\"Account\", \"AccessPoint\", 3);\n        } else if (AccessPoint == 3) {\n            app.LocalDataManager().SetConfigProperty(\"Account\", \"AccessPoint\", 0);\n        }\n    },\n    checkPhone: function (phone) {\n        if (!(/^1[3456789]\\d{9}$/.test(phone))) {\n            //不是国内\n        } else {\n            return 1;\n        }\n        if (!(/^09\\d{8}$/.test(phone))) {\n            //不是台湾\n        } else {\n            return 2;\n        }\n        if (!(/^00886\\d{9}$/.test(phone))) {\n            //不是台湾\n        } else {\n            return 3;\n        }\n        return false;\n    },\n    click_btn_yzm: function () {\n        let phone = this.mobile.getChildByName('edit_phone').getComponent(cc.EditBox).string;\n        if (!phone) {\n            this.ShowSysMsg('请填写手机号码');\n            return;\n        }\n        let checkPhone = this.checkPhone(phone);\n        if (checkPhone == false) {\n            this.ShowSysMsg('电话号码有误');\n            return;\n        }\n        let sms_temple = \"SMS_154085055\";\n        if (checkPhone == 2) {\n            //台湾手机\n            sms_temple = \"SMS_194050862\";\n            //00886\n            phone = \"00886\" + phone.substr(1);\n        }\n        if (checkPhone == 3) {\n            //台湾手机\n            sms_temple = \"SMS_194050862\";\n        }\n        this.yanzhengUrl = \"http://code.qicaiqh.com/SendCode\";\n        let SendPack = {\n\n            \"mobile\": phone,\n            \"sms_temple\": sms_temple,\n        };\n        this.SendHttpRequest(this.yanzhengUrl, \"?mobile=\" + phone + \"&sms_temple=\" + sms_temple, \"GET\", {});\n    },\n});\n"]}