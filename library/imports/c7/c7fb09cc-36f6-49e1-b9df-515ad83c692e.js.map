{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\UINewMain.js"],"names":["app","require","SubgameManager","cc","Class","extends","properties","resVersion","Label","appVersion","lb_heroName","lb_heroID","node_head","Node","gameLayout","rightTop","btn_GameDemo","lb_curCity","btn_joinClub","joinClubSprite","SpriteFrame","logo","logoSprite","OnCreateInit","FormManager","NetManager","curType","selectCityConfig","SysDataManager","GetTableDict","gametypeConfig","curGameType","other","RegEvent","Event_GetCurRoomID","Event_CodeError","Event_OutRoom","Event_HeroProperty","Event_GetClipboardText","Event_ShowGameListByLocation","RegNetPack","OnPack_DissolveRoom","IsIphoneX","widge","node","getChildByName","getComponent","Widget","left","widge2","WeChatHeadImage1","sys","isNative","NativeManager","CallToNative","ReloadGameList","XlOpenID","SendPack","isIos","ComTool","IsIOS","isAndroid","IsAndroid","event","length","ShowForm","GetBeiZhu","LocationOnStartMgr","OnGetLocation","CheckIOSDown","layout","Config","active","more","signIn","share","layoutR","promoter","activeCount","index","childrenCount","element","children","Layout","spacingX","wanfa","serverPack","pack","localStorage","getItem","pack2","version","indexOf","AccountActive","LocalDataManager","GetConfigProperty","IOSUrl","HeroManager","GetHeroProperty","SendHttpRequest","OnShow","ChangeLogo","SceneManager","PlayMusic","self","scheduleOnce","ForceUpdateMgr","Check","ReloadHeroData","Client","SetGameType","ClubManager","SendGetClubInviteList","SendGetUnionInviteList","curRoomID","curRoomKey","curGameTypeStr","GameManager","SetGetRoomIDByUI","checkRoom","string","HotUpdateMgr","getLocalVersion","SetAutoPlayIng","CloseForm","getGameId","ShowHero_NameOrID","SetFirstLogin","ShowFastCount","ShowRoomCard","ShowClubCard","ShowAddClubSprite","myDate","Date","date","getDate","setDay","heroID","httpPath","GetClientConfigProperty","substring","KeFuUrl","that","success","error","SelectId","cityId","Number","UpdateCity","allGameIdFormServer","split","curSelectGameList","GetAllGameId","argDict","isShowCity","setItem","console","log","allSelectCityData","GetCurSelectCityData","isFirstLogin","CityUrl","SysNotifyManager","ShowSysMsg","cityInfo","Name","JSON","stringify","RunRecordAction","allSwitchGameData","switchRecord","push","parse","i","action","roomId","playerAll","gameType","unionId","roomKey","page","PlayerDataManager","ClearSwitchGameData","RunSwitchGameAction","switchGameData","fromName","OnClick","smallName","ShareDefine","GametTypeID2PinYin","path","playerList","DestroyAllChildren","gameList","GetAllGameIdFromServer","appName","GetAppName","gameName","btn_game","instantiate","name","isSubgameDownLoad","needUpdateSubgame","imgName","addChild","substr","ShowHeroHead","code","msg","gold","heroRoomCard","heroClubCard","isGetHeroData","heroName","GetBeiZhuName","i18n","t","GetPid","SetConfigProperty","LogOutGame","last_club_data","GetLastClubData","isEnterLastClub","Sprite","spriteFrame","club_data","serverUrl","argString","requestType","sendPack","NetRequest","OnReceiveHttpPack","bind","OnConnectHttpFail","httpResText","data","contact","IpUrl","myip","ChouJiangUrl","choujiangSprs","CreateUrlSpriteFrame","url","id","WenJuanUrl","cityid","CheckHotUpdate","readyState","status","resServerUrl","loader","load","type","err","texture","Texture2D","tempObj","ErrLog","roomID","toLowerCase","isOutRoom","GametTypeNameDict","toUpperCase","SetWaitForConfirm","Confirm","GametTypeID2Name","codeInfo","NotFind_Room","OnClose","InitGameBtnList","btnName","btnNode","ShowClubFrom","openURL","GetHeroID","SendHttpRequestGet","responseText","httpRequest","myCityID","signString","toString","GetNowDateDayStr2","sign","MD5","hex_md5","Click_Btn_QieHuan","uploadImgURL","argList","startsWith","replace","CloseMorePop","Click_btn_goRoom","ConfirmDIY","msgID","msgArg","cbArg","content","lbSure","lbCancle","ConfirmManager","SetWaitForConfirmForm","OnConFirm","ShowConfirm","clickType","backArgList","game","end","clubId","clubCardNtfs","splice","setTimeout","clubName","roomcardattention"],"mappings":"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","file":"UINewMain.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\nvar SubgameManager = require('SubgameManager');\ncc.Class({\n    extends: require(\"BaseForm\"),\n    properties: {\n        resVersion: cc.Label,\n        appVersion: cc.Label,\n        lb_heroName: cc.Label,\n        lb_heroID: cc.Label,\n        node_head: cc.Node,\n        gameLayout: cc.Node,\n        rightTop: cc.Node,\n        btn_GameDemo: cc.Node,\n        lb_curCity: cc.Label,\n        btn_joinClub: cc.Node,\n        joinClubSprite: [cc.SpriteFrame],\n        logo: cc.Node,\n        logoSprite: [cc.SpriteFrame],\n    },\n    OnCreateInit: function () {\n        this.FormManager = app.FormManager();\n        this.NetManager = app.NetManager();\n        this.curType = {\n            'mahjong': 0,\n            'poker': 1,\n            'other': 2\n        };\n        this.selectCityConfig = app.SysDataManager().GetTableDict(\"selectCity\");\n        this.gametypeConfig = app.SysDataManager().GetTableDict(\"gametype\");\n        this.curGameType = this.curType.other;\n        //this.node.getChildByName('left').getChildByName('layout').active=false;\n        //this.RegEvent(\"CLOSEMOREPOP\", this.CloseMorePop, this);\n        this.RegEvent(\"GetCurRoomID\", this.Event_GetCurRoomID, this);\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\n        this.RegEvent(\"OutRoom\", this.Event_OutRoom, this);\n        this.RegEvent(\"HeroProperty\", this.Event_HeroProperty, this);\n        this.RegEvent(\"OnGetClipboardTextNtf\", this.Event_GetClipboardText, this);\n        this.RegEvent(\"ShowGameListByLocation\", this.Event_ShowGameListByLocation, this);\n        this.NetManager.RegNetPack(\"SBase_Dissolve\", this.OnPack_DissolveRoom, this);\n        if (this.IsIphoneX() == true) {\n            let widge = this.node.getChildByName('bottom').getChildByName('left').getComponent(cc.Widget);\n            widge.left = 80;\n            let widge2 = this.node.getChildByName('bottom').getChildByName('layout').getComponent(cc.Widget);\n            widge2.left = 123;\n        }\n        this.WeChatHeadImage1 = this.node_head.getComponent(\"WeChatHeadImage\");\n        if (!cc.sys.isNative) {\n            app.NativeManager().CallToNative(\"checkHaveLocationPermission\", []);\n        }\n        this.RegEvent(\"OnUpdateGameEnd\", this.ReloadGameList, this);\n        //检测用户是否是闲聊登录直接绑定\n        let XlOpenID = app['XlOpenID'];\n        if (XlOpenID) {\n            app['XlOpenID'] = \"\";\n            app.NetManager().SendPack(\"game.CPlayerXLUnionid\", { \"xlUnionid\": XlOpenID });\n        }\n        //检测系统\n        if (cc.sys.isNative) {\n            let isIos = app.ComTool().IsIOS();\n            let isAndroid = app.ComTool().IsAndroid();\n            if (isIos) {\n                app.NetManager().SendPack(\"player.CPlayerAppOs\", { \"type\": 2 });\n            } else if (isAndroid) {\n                app.NetManager().SendPack(\"player.CPlayerAppOs\", { \"type\": 1 });\n            }\n        }\n        if (app[\"tanchuang\"] == 1) {\n\n            //检测活动\n            app.NetManager().SendPack(\"popup.CPopupList\", { \"type\": 1 }, function (event) {\n                if (event.length > 0) {\n                    app.FormManager().ShowForm(\"UIActivity\", event);\n                }\n            }, function () { });\n            /*app.NetManager().SendPack(\"game.CPlayerCheckPhone\", {}, function(event){\n                if (event == \"0\") {\n                    app.FormManager().ShowForm(\"UIBangdingshouji\");\n                }\n            }, function(error){\n                console.error(error);\n            });*/\n            app[\"tanchuang\"] = 0;\n        }\n        //初始化备注\n        this.ComTool.GetBeiZhu(true);\n        app.LocationOnStartMgr().OnGetLocation();\n        //检查用户是否需要下载IOS上架包\n        this.CheckIOSDown();\n        let layout = this.node.getChildByName('bottom').getChildByName('layout')\n        if (app.Config) {\n            layout.getChildByName('btn_more').active = !!app.Config.more\n            layout.getChildByName('btn_qiandao').active = !!app.Config.signIn\n            layout.getChildByName('btn_share').active = (app.Config.share && app.Config.share.length > 3)\n            let layoutR = this.node.getChildByName('bottom').getChildByName('layoutRight')\n            layoutR.getChildByName('btn_daili').active = !!app.Config.promoter\n        }\n        let activeCount = 0\n        for (let index = 0; index < layout.childrenCount; index++) {\n            const element = layout.children[index];\n            if (element.active) activeCount++\n        }\n        if (activeCount >= 7) {\n            layout.getComponent(cc.Layout).spacingX = 45 - (activeCount - 6) * 10\n        }\n        if (!app.Config.promoter) {\n            layout = this.node.getChildByName('bottom').getChildByName(\"left\").getChildByName('layout')\n            layout.getChildByName('btn_zengsong').active = false\n            layout.getChildByName('btn_bangdingtuiguang').active = false\n        }\n        layout = this.node.getChildByName('bottom').getChildByName(\"left\").getChildByName('layout')\n        layout.getChildByName('btn_wanfa').active = !!app.Config.wanfa\n    },\n    OnPack_DissolveRoom: function (serverPack) {\n        this.Event_OutRoom();\n    },\n    CheckIOSDown: function () {\n        if (cc.sys.isNative) {\n            let isIos = app.ComTool().IsIOS();\n            // isIos=true;\n            if (isIos) {\n                let pack = cc.sys.localStorage.getItem(\"myPack\");\n                let pack2 = cc.sys.localStorage.getItem(\"myPack2\");\n                //   pack=null;\n                //   pack2=null;\n                if (pack != \"hall_split\" && pack2 != \"hall_split\") {\n                    //不是IOS上架包\n                    let version = cc.sys.localStorage.getItem('version');\n                    //    version=\"1.1.1\";\n                    if (version) {\n                        if (version.indexOf(\".10.\") > -1) {\n                            //0.10.0，这种版本号给国搜使用\n                            return;\n                        }\n                        let AccountActive = app.LocalDataManager().GetConfigProperty(\"Account\", \"AccountActive\");\n                        //AccountActive=2000;\n                        if (AccountActive > 1000) {\n                            //活跃度超过1000，没有下载上架包的用户下载上架包\n                            this.IOSUrl = \"http://code.qicaiqh.com/mygame_ios.php?game=hall_split&pid=\" + app.HeroManager().GetHeroProperty(\"pid\");\n                            this.SendHttpRequest(this.IOSUrl, \"\", \"GET\", {});\n                        }\n                    }\n                }\n            }\n        }\n    },\n\n    //-----------------显示函数------------------\n    OnShow: function () {\n        this.ChangeLogo();\n        app.SceneManager().PlayMusic();\n        let self = this;\n        // app.ForceUpdateMgr().Check();\n        this.scheduleOnce(function () {\n            app.ForceUpdateMgr().Check();\n            // self.ReloadGameList();\n        }, 2); //延迟2秒再次检测是否更新\n        this.ReloadHeroData();\n        app.Client.SetGameType('');\n        //请求亲友圈数据\n        //app.ClubManager().SendReqClubData();\n        app.ClubManager().SendGetClubInviteList();\n        app.ClubManager().SendGetUnionInviteList();\n        this.curRoomID = 0;\n        this.curRoomKey = 0;\n        this.curGameTypeStr = '';\n        this.node.getChildByName('bottom').getChildByName('left').getChildByName('layout').active = false;\n        app.GameManager().SetGetRoomIDByUI(true);\n        //检测是否标记不用检测在房间\n        let checkRoom = true;\n        if (typeof (app[\"notCheckRoom\"]) != \"undefined\") {\n            if (app[\"notCheckRoom\"] == true) {\n                checkRoom = false;\n                app[\"notCheckRoom\"] = false;\n            }\n        }\n        if (checkRoom == true) {\n            app.NetManager().SendPack(\"game.C1101GetRoomID\", {});\n        }\n        //获取后台开关是否需要检测子游戏热更\n        // this.CheckHotUpdate=\"http://qh.qinghuaimajiang.com/index.php?module=Api&action=OnlineStatus\";\n        // this.SendHttpRequest(this.CheckHotUpdate,\"\", \"GET\",{});\n\n        if (cc.sys.isNative) {\n            this.appVersion.string = '';\n            this.resVersion.string = \"resV\" + app.HotUpdateMgr().getLocalVersion();\n        } else {\n            this.appVersion.string = '';\n            this.resVersion.string = '';\n        }\n        app.GameManager().SetAutoPlayIng(false);\n        this.FormManager.CloseForm(\"UIAutoPlay\");\n        this.FormManager.ShowForm(\"UINoticeBar\");\n\n        this.getGameId();//获取游戏ID\n\n        this.ShowHero_NameOrID();\n        app.Client.SetFirstLogin();\n\n        this.ShowFastCount();\n        this.ShowRoomCard();\n        this.ShowClubCard();\n\n        this.ShowAddClubSprite();\n\n        //检测分享  \n        var myDate = new Date();\n        let date = myDate.getDate();\n        let setDay = this.LocalDataManager.GetConfigProperty(\"SysSetting\", \"Date\");\n        // if(date!=setDay){\n        //     this.FormManager.ShowForm('UITanChuang');\n        //     this.LocalDataManager.SetConfigProperty(\"SysSetting\", \"Date\",date);\n        // }\n        //更新活跃度\n        // app.NetManager().SendPack(\"base.C1005PlayerInfo\", {});\n        let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n        // if (cc.sys.isNative) {\n        //     this.ChouJiangUrl='http://fb.qicaiqh.com/index.php?module=Api&action=GetLuckGoods';\n        //     this.WenJuanUrl=\"http://fb.qicaiqh.com/mu?module=Api&action=GetQuestionnaire&pid=\"+heroID;\n        //     this.IpUrl='http://fb.qicaiqh.com/myip.php';\n        //     this.KeFuUrl = \"http://fb.qicaiqh.com/index.php?module=Api&action=Contact\";\n        // }else{\n        //     this.ChouJiangUrl='http://tfb.qicaiqh.com/index.php?module=Api&action=GetLuckGoods';\n        //     this.WenJuanUrl=\"http://tfb.qicaiqh.com/mu?module=Api&action=GetQuestionnaire&pid=\"+heroID;\n        //     this.IpUrl='http://tfb.qicaiqh.com/myip.php';\n\n        // }\n        // this.SendHttpRequest(this.IpUrl, \"?playerID=\"+heroID, \"GET\",{});\n        let httpPath = app.Client.GetClientConfigProperty(\"WebSiteUrl\");\n        if (httpPath[httpPath.length - 1] == \"/\") {\n            httpPath = httpPath.substring(0, httpPath.length - 1)\n        }\n        this.KeFuUrl = httpPath + \"/index.php?module=Api&action=Contact\";\n        this.SendHttpRequest(this.KeFuUrl, \"\", \"GET\", {});\n        // this.SendHttpRequest(this.WenJuanUrl, \"\",\"GET\",{});\n        let that = this;\n        app.NetManager().SendPack(\"family.CPlayerCheckFamilyOwner\", {}, function (success) {\n            that.node.getChildByName('bottom').getChildByName('left').getChildByName('layout').getChildByName('btn_zengsong').active = !!app.Config.promoter;\n        }, function (error) {\n            that.node.getChildByName('bottom').getChildByName('left').getChildByName('layout').getChildByName('btn_zengsong').active = false;\n        });\n        //this.RunSwitchGameAction();\n        //this.RunRecordAction();\n        //检测是否实名\n        // if(app[\"isShowShiMing\"]!=1){\n        //     let realNumber=app.HeroManager().GetHeroProperty(\"realNumber\"); \n        //     let realName=app.HeroManager().GetHeroProperty(\"realName\"); \n        //     if(!realNumber || !realName){\n        //         app[\"isShowShiMing\"]=1;\n        //         let appName=cc.sys.localStorage.getItem('appName');\n        //         if (appName!=\"baodao\") {\n        //             this.FormManager.ShowForm(\"UIShiMing\");\n        //         }\n        //     }\n        // }\n    },\n\n    getGameId: function () {\n\n        //固定城市Id,获取gameId\n        let SelectId = cc.sys.localStorage.getItem(\"myCityID\", 0);\n        let cityId = app.Client.GetClientConfigProperty(\"CityID\")\n        if (cityId && Number(cityId) > 100) {\n            SelectId = Number(cityId)\n            this.node.getChildByName(\"rightTop\").getChildByName(\"btn_location\").active = false\n        }\n        let self = this;\n        app.NetManager().SendPack(\"room.CBaseGameIdList\", { \"selectCityId\": SelectId }, function (event) {\n            app.HeroManager().UpdateCity(SelectId);//记录选择的城市\n            app.Client.allGameIdFormServer = event.split(\",\");//记录获取的游戏Id\n            let curSelectGameList = app.Client.GetAllGameId();\n            let argDict = {\n                \"gameList\": curSelectGameList,\n            };\n            //记录用户选择的城市，城市节点使用\n            self.isShowCity = true;\n            cc.sys.localStorage.setItem(\"myCityID\", SelectId);\n            self.Event_ShowGameListByLocation(argDict);\n        }, function (event) {\n            console.log(\"UINewMain:获取游戏id失败\");\n        });\n\n\n        //显示选择城市界面\n        this.allSelectCityData = app.HeroManager().GetCurSelectCityData();\n        if (this.allSelectCityData.length == 0 || this.isFirstLogin() == true) {\n            this.isShowCity = false;\n            let httpPath = app.Client.GetClientConfigProperty(\"WebSiteUrl\");\n            this.CityUrl = httpPath + \"/index.php?module=Home&action=CityList\";\n            this.SendHttpRequest(this.CityUrl, \"\", \"GET\", {});\n            //this.FormManager.ShowForm(\"UISelectCity\");\n            this.scheduleOnce(function () {\n                if (this.isShowCity == false) {\n                    this.FormManager.ShowForm(\"UISelectCity\");\n                }\n            }, 4); //延迟4秒如果没成功定位城市，弹出定位城市UISelectCity\n\n            this.lb_curCity.string = \"\";\n        } else {\n            //非常规切换可能导致配表丢失\n            if (!this.selectCityConfig) {\n                this.selectCityConfig = app.SysDataManager().GetTableDict(\"selectCity\");\n            }\n            if (!this.selectCityConfig) {\n                app.SysNotifyManager().ShowSysMsg('游戏配置丢失，请重启游戏');\n            } else {\n                let cityInfo = this.selectCityConfig[this.allSelectCityData[0]['selcetId']];\n                console.log(\"curSelectID === \" + this.allSelectCityData[0]['selcetId']);\n\n                /*if(this.allSelectCityData[0]['selcetId']==1100300 || this.allSelectCityData[0]['selcetId']==1100301){\n                    //南阳自动退出游戏\n                    cc.game.end();\n                }*/\n\n                if (cityInfo) {\n                    console.log(\"curSelectName === \" + cityInfo.Name);\n                    this.lb_curCity.string = cityInfo.Name;\n                }\n                else {\n                    console.log(\"selectCityConfig == \" + JSON.stringify(this.selectCityConfig));\n                    console.log(\"配表中找不到该城市，检查配表。id：\" + this.allSelectCityData[0]['selcetId']);\n                }\n                let curSelectGameList = app.Client.GetAllGameId();\n                console.log(\"curSelectGameList === \" + JSON.stringify(curSelectGameList));\n                let argDict = {\n                    \"gameList\": curSelectGameList,\n                };\n                this.Event_ShowGameListByLocation(argDict);\n            }\n        }\n    },\n\n    isFirstLogin: function () {\n        let isFirstLogin = cc.sys.localStorage.getItem(\"isFirstLogin\");\n        if (isFirstLogin == null || typeof (isFirstLogin) == \"undefined\") {\n            cc.sys.localStorage.setItem(\"isFirstLogin\", \"1\");\n            return true;\n        } else {\n            return false;\n        }\n\n    },\n    RunRecordAction: function () {\n        console.log(\"RunRecordAction 111\");\n        // let allSwitchGameData = app.PlayerDataManager().GetSwitchGameData();\n        let allSwitchGameData = [];\n        let switchRecord = cc.sys.localStorage.getItem(\"switchRecord\");\n        console.log(\"RunRecordAction switchRecord:\" + switchRecord);\n        if (switchRecord != \"\") {\n            console.log(\"RunRecordAction switchRecord parse\");\n            allSwitchGameData.push(JSON.parse(switchRecord));\n        }\n        console.log(\"RunRecordAction switchRecord allSwitchGameData length:\" + allSwitchGameData.length);\n        for (let i = 0; i < allSwitchGameData.length; i++) {\n            if (!allSwitchGameData[i]) return;\n            let action = allSwitchGameData[i].action;\n            console.log(\"RunRecordAction switchRecord action:\" + action);\n            switch (action) {\n                case 'OpenUIRecordAllResult':\n                    app.FormManager().ShowForm(\"UIRecordAllResult\", allSwitchGameData[i].roomId, allSwitchGameData[i].playerAll, allSwitchGameData[i].gameType, allSwitchGameData[i].unionId, allSwitchGameData[i].roomKey, allSwitchGameData[i].page);\n                    break;\n                default:\n                    console.log('未知动作: ' + action);\n                    break;\n            }\n        }\n        app.PlayerDataManager().ClearSwitchGameData();\n        cc.sys.localStorage.setItem(\"switchRecord\", \"\");\n    },\n    RunSwitchGameAction: function () {\n        console.log(\"RunSwitchGameAction 111\");\n        //返回大厅检测下是否有需要处理的数据\n        // let allSwitchGameData = app.PlayerDataManager().GetSwitchGameData();\n        let allSwitchGameData = [];\n        let switchGameData = cc.sys.localStorage.getItem(\"switchGameData\");\n        if (switchGameData != \"\") {\n            allSwitchGameData.push(JSON.parse(switchGameData));\n        }\n        for (let i = 0; i < allSwitchGameData.length; i++) {\n            if (!allSwitchGameData[i]) return;\n            console.log(\"allSwitchGameData[i].action\");\n            let action = allSwitchGameData[i].action;\n            switch (action) {\n                case 'showForm':\n                    this.FormManager.ShowForm(allSwitchGameData[i].fromName);\n                    break;\n                case 'openClub':\n                    this.OnClick(\"btn_joinClub\", null);\n                    break;\n                case 'OpenUIRecordAllResult':\n                    let smallName = app.ShareDefine().GametTypeID2PinYin[allSwitchGameData[i].gameType];\n                    let path = \"ui/uiGame/\" + smallName + \"/UIRecordAllResult_\" + smallName;\n                    app.FormManager().ShowForm(path, allSwitchGameData[i].roomId, allSwitchGameData[i].playerList, allSwitchGameData[i].gameType, allSwitchGameData[i].unionId, allSwitchGameData[i].page);\n                    break;\n                default:\n                    console.log('未知动作: ' + action);\n                    break;\n            }\n        }\n        app.PlayerDataManager().ClearSwitchGameData();\n        cc.sys.localStorage.setItem(\"switchGameData\", \"\");\n    },\n\n    ReloadGameList: function () {\n        let curSelectGameList = app.Client.GetAllGameId();\n        console.log(\"ReloadGameList GameList === \" + JSON.stringify(curSelectGameList));\n        let argDict = {\n            \"gameList\": curSelectGameList,\n        };\n        this.Event_ShowGameListByLocation(argDict);\n    },\n\n    ReloadHeroData: function () {\n        //请求刷新玩家数据\n        console.log(\"请求刷新玩家数据\");\n        app.NetManager().SendPack(\"player.CPlayerChanged\", {});\n    },\n\n    Event_ShowGameListByLocation: function (event) {\n        this.allSelectCityData = app.HeroManager().GetCurSelectCityData();\n        if (this.allSelectCityData.length == 0) {\n            this.FormManager.ShowForm(\"UISelectCity\");\n            this.lb_curCity.string = \"\";\n        } else {\n            let cityInfo = this.selectCityConfig[this.allSelectCityData[0]['selcetId']];\n            if (!cityInfo) {\n                this.FormManager.ShowForm(\"UISelectCity\");\n                this.lb_curCity.string = \"\";\n                return;\n            }\n            this.lb_curCity.string = cityInfo.Name;\n        }\n        //this.gameLayout.removeAllChildren();\n        this.DestroyAllChildren(this.gameLayout);\n        let gameList = event.gameList;\n        if (gameList.length == 0) {\n            //重新获取\n            app.Client.GetAllGameIdFromServer(true);\n        }\n        let appName = this.GetAppName();\n        for (var i = 0; i < gameList.length; i++) {\n            let gameName = app.ShareDefine().GametTypeID2PinYin[gameList[i]];\n            let btn_game = cc.instantiate(this.btn_GameDemo);\n            btn_game.name = \"btn_\" + gameName;\n            if (cc.sys.isNative) {\n                if (SubgameManager.isSubgameDownLoad(gameName)) {\n                    btn_game.getChildByName(\"loadingMask\").active = false;\n                    btn_game.getChildByName(\"lb_download\").getComponent(cc.Label).string = \"\";\n                    btn_game.getChildByName(\"img_xiazai\").active = false;\n                    //已下载，判断是否需要更新\n                    SubgameManager.needUpdateSubgame(gameName, (success) => {\n                        if (success) {\n                            //子游戏需要更新;\n                            btn_game.getChildByName(\"img_gengxin\").active = true;\n                        } else {\n                            //子游戏不需要更新;\n                            btn_game.getChildByName(\"img_gengxin\").active = false;\n                        }\n                    }, () => {\n                        console.log(\"子游戏更新失败\");\n                        btn_game.getChildByName(\"img_gengxin\").active = false;\n                    });\n                } else {\n                    btn_game.getChildByName(\"loadingMask\").active = false;\n                    // btn_game.getChildByName(\"lb_download\").getComponent(cc.Label).string = \"未下载\";\n                    btn_game.getChildByName(\"img_xiazai\").active = true;\n                    btn_game.getChildByName(\"img_gengxin\").active = false;\n                }\n            } else {\n                btn_game.getChildByName(\"loadingMask\").active = false;\n                // btn_game.getChildByName(\"lb_download\").getComponent(cc.Label).string = \"未下载\";\n            }\n            if (!this.gametypeConfig[gameList[i]]) {\n                console.log(\"未找到游戏id：\" + gameList[i]);\n                continue;\n            }\n            let imgName = this.gametypeConfig[gameList[i]][\"imgUrl\"];\n            if (appName == \"baodao\") {\n                if (gameName == \"nn\" || gameName == \"fqpls\") {\n                    //NN跟fqpls\n                    imgName = imgName + \"_baodao\";\n                }\n            }\n            // let imagePath = \"texture/newmain/allgame/\" + imgName;\n            // //加载图片精灵\n            // cc.loader.loadRes(imagePath, cc.SpriteFrame, function (error, spriteFrame) {\n            //     if(error){\n            //         console.log(\"加载图片精灵失败  \" + imagePath);\n            //         return\n            //     }\n            //     if (!btn_game || !cc.isValid(btn_game)) return\n            //     btn_game.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n            // });\n            btn_game.active = true;\n            this.gameLayout.addChild(btn_game);\n        }\n        this.ShowRoomCard();\n        this.ShowClubCard();\n    },\n\n    Event_HeroProperty: function (event) {\n        let argDict = event;\n        if (argDict[\"Property\"] == \"gold\") {\n            this.ShowFastCount();\n        }\n        else if (argDict[\"Property\"] == \"roomCard\") {\n            this.ShowRoomCard();\n        } else if (argDict[\"Property\"] == \"clubCard\") {\n            this.ShowClubCard();\n        } else if (argDict[\"Property\"] == \"name\") {\n            this.lb_heroName.string = argDict[\"name\"].substr(0.9);\n        } else if (argDict[\"Property\"] == \"headimg\") {\n            let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n            this.WeChatHeadImage1.ShowHeroHead(heroID);\n        }\n    },\n\n    Event_GetClipboardText: function (event) {\n        if (0 == event.code)\n            this.ShowSysMsg(\"已获取剪切板信息：\" + event.msg);\n        else\n            this.ShowSysMsg(\"剪切板没有东西\");\n    },\n    ShowFastCount: function () {\n        let gold = app.HeroManager().GetHeroProperty('gold');\n        this.rightTop.getChildByName('ledou').getChildByName('label').getComponent(cc.Label).string = gold;\n    },\n    ShowRoomCard: function () {\n        let heroRoomCard = app.HeroManager().GetHeroProperty(\"roomCard\");\n        this.rightTop.getChildByName('fangka').getChildByName('label').getComponent(cc.Label).string = heroRoomCard;\n    },\n    ShowClubCard: function () {\n        let heroClubCard = app.HeroManager().GetHeroProperty(\"clubCard\");\n        this.rightTop.getChildByName('quanka').getChildByName('label').getComponent(cc.Label).string = heroClubCard;\n    },\n    ShowHero_NameOrID: function () {\n        let i = 0;\n        let isGetHeroData = false;\n        while (i < 30 || !isGetHeroData) {\n            let heroName = app.HeroManager().GetHeroProperty(\"name\");\n            if (typeof (heroName) == \"string\") {\n                let heroID = app.HeroManager().GetHeroProperty(\"pid\");\n                this.lb_heroName.string = this.ComTool.GetBeiZhuName(heroID, heroName, 9);\n                this.lb_heroID.string = app.i18n.t(\"UIMain_PIDText\", { \"pid\": this.ComTool.GetPid(heroID) });\n                if (this.WeChatHeadImage1) {\n                    this.WeChatHeadImage1.ShowHeroHead(heroID);\n                }\n                isGetHeroData = true;\n                break;\n            } else {\n                i++;\n            }\n        }\n        //如果还是没取到玩家信息，重新登录\n        if (!isGetHeroData) {\n            this.LocalDataManager.SetConfigProperty(\"Account\", \"AccessTokenInfo\", {});\n            console.log(\"玩家信息获取失败，切换账号\");\n            app.Client.LogOutGame(1);\n        }\n    },\n\n    ShowAddClubSprite: function () {\n        let last_club_data = app.ClubManager().GetLastClubData();\n        if (last_club_data != null) {\n            this.isEnterLastClub = true;\n            this.btn_joinClub.getComponent(cc.Sprite).spriteFrame = this.joinClubSprite[1];\n            this.btn_joinClub.getChildByName(\"lb_clubName\").getComponent(cc.Label).string = last_club_data.club_data.name;\n        } else {\n            let self = this;\n            app.NetManager().SendPack(\"club.CGetClubListMin2\", {}, function (serverPack) {\n                if (serverPack.length == 0) {\n                    self.isEnterLastClub = false;\n                    self.btn_joinClub.getComponent(cc.Sprite).spriteFrame = self.joinClubSprite[0];\n                    self.btn_joinClub.getChildByName(\"lb_clubName\").getComponent(cc.Label).string = \"\";\n                } else {\n                    // app.ClubManager().SetLastClubData(serverPack[0].id, serverPack[0].clubsign, serverPack[0].name);//, serverPack[0].showUplevelId, serverPack[0].showClubSign\n                    self.isEnterLastClub = true;\n                    self.btn_joinClub.getComponent(cc.Sprite).spriteFrame = self.joinClubSprite[1];\n                    self.btn_joinClub.getChildByName(\"lb_clubName\").getComponent(cc.Label).string = serverPack[0].name;\n                }\n            }, function () {\n                self.isEnterLastClub = false;\n                self.btn_joinClub.getComponent(cc.Sprite).spriteFrame = '';\n                self.btn_joinClub.getChildByName(\"lb_clubName\").getComponent(cc.Label).string = \"\";\n            });\n        }\n    },\n\n    SendHttpRequest: function (serverUrl, argString, requestType, sendPack) {\n        app.NetRequest().SendHttpRequest(serverUrl, argString, requestType, sendPack, 2000,\n            this.OnReceiveHttpPack.bind(this),\n            this.OnConnectHttpFail.bind(this),\n            null,\n            this.OnConnectHttpFail.bind(this),\n        );\n\n        // var url = [serverUrl, argString].join(\"\")\n\n        // var dataStr = JSON.stringify(sendPack);\n\n        // //每次都实例化一个，否则会引起请求结束，实例被释放了\n        // var httpRequest = new XMLHttpRequest();\n\n        // httpRequest.timeout = 2000;\n\n\n        // httpRequest.open(requestType, url, true);\n        // //服务器json解码\n        // httpRequest.setRequestHeader(\"Content-Type\", \"application/json\");\n        // var that = this;\n        // httpRequest.onerror = function(){\n        //     that.ErrLog(\"httpRequest.error:%s\", url);\n        //     that.OnConnectHttpFail(serverUrl, httpRequest.readyState, httpRequest.status);\n        // };\n        // httpRequest.ontimeout = function(){\n\n        // };\n        // httpRequest.onreadystatechange = function(){\n        //     //执行成功\n        //     if (httpRequest.status == 200){\n        //         if(httpRequest.readyState == 4){\n        //             that.OnReceiveHttpPack(serverUrl, httpRequest.responseText);\n        //         }\n        //     }\n        //     else{\n        //         that.OnConnectHttpFail(serverUrl, httpRequest.readyState, httpRequest.status);\n        //         that.ErrLog(\"onreadystatechange(%s,%s)\", httpRequest.readyState, httpRequest.status);\n        //     }\n        // };\n        // httpRequest.send(dataStr);\n\n    },\n    OnReceiveHttpPack: function (serverUrl, httpResText) {\n        try {\n            let serverPack = JSON.parse(httpResText);\n            if (serverUrl == this.KeFuUrl) {\n                app['KeFuHao'] = serverPack.data[0].contact;\n            } else if (serverUrl == this.IpUrl) {\n                if (serverPack[\"IsSuccess\"] == 1) {\n                    //发送ip给服务端\n                    this.NetManager.SendPack(\"game.CPlayerIpAddress\", { \"ip\": serverPack.myip });\n                }\n            } else if (serverUrl == this.ChouJiangUrl) {\n                this.choujiangSprs = [];\n                for (let i = 0; i < serverPack.data.length; i++) {\n                    this.CreateUrlSpriteFrame(serverPack.data[i].url, serverPack.data[i].id, serverPack.data);\n                }\n            } else if (serverUrl == this.IOSUrl) {\n                if (serverPack[\"IsSuccess\"] == 1) {\n                    this.FormManager.ShowForm(\"UIMessageUpdate\", serverPack.url);\n                }\n            } else if (serverUrl == this.WenJuanUrl) {\n                if (serverPack.code == 200) {\n                    this.FormManager.ShowForm(\"UIWenJuan\", serverPack.data);\n                }\n            } else if (serverUrl == this.CityUrl) {\n                if (serverPack.code == 200) {\n                    let SelectId = serverPack.data[0].cityid;\n                    if (SelectId == 0) {\n                        return;\n                    }\n                    if (this.selectCityConfig[SelectId][\"Type\"] != 3) {\n                        return;\n                    }\n                    let self = this;\n                    app.NetManager().SendPack(\"room.CBaseGameIdList\", { \"selectCityId\": SelectId }, function (event) {\n                        app.Client.allGameIdFormServer = event.split(\",\");\n                        let curSelectGameList = app.Client.GetAllGameId();\n                        let argDict = {\n                            \"gameList\": curSelectGameList,\n                        };\n                        //记录用户选择的城市，城市节点使用\n                        self.isShowCity = true;\n                        cc.sys.localStorage.setItem(\"myCityID\", self.SelectId);\n                        self.Event_ShowGameListByLocation(argDict);\n                    }, function (event) {\n                        //console.log(\"获取游戏id失败\");\n                    });\n                } else {\n                    this.isShowCity = true;\n                    this.FormManager.ShowForm(\"UISelectCity\");\n                }\n            } else if (serverUrl == this.CheckHotUpdate) {\n                if (serverPack.code == 300) {\n                    app['isNeedCheckHotUpdate'] = false;\n                    console.log(\"后台设置无需检测更新:\" + app['isNeedCheckHotUpdate']);\n                } else {\n                    app['isNeedCheckHotUpdate'] = true;\n                }\n            }\n        }\n        catch (error) {\n\n        }\n    },\n    OnConnectHttpFail: function (serverUrl, readyState, status) {\n\n    },\n\n    //创建url贴图对象\n    CreateUrlSpriteFrame: function (resServerUrl, id, data) {\n        let that = this;\n        cc.loader.load({ url: resServerUrl, type: 'png' }, function (err, texture) {\n            if (texture instanceof cc.Texture2D) {\n                let spriteFrame = new cc.SpriteFrame(texture);\n                let tempObj = { \"id\": id, \"spriteFrame\": spriteFrame };\n                that.choujiangSprs.push(tempObj);\n                if (that.choujiangSprs.length == 12) {\n                    that.FormManager.ShowForm(\"UIChouJiang\", data, that.choujiangSprs);\n                }\n            }\n            else {\n                that.ErrLog(\"texture not Texture2D\");\n            }\n        });\n\n        // return app.ControlManager().CreateLoadPromiseByUrl(resServerUrl)\n        //     .then(function(texture){\n        //         if(texture instanceof cc.Texture2D){\n        //             let spriteFrame = new cc.SpriteFrame(texture);\n        //             let tempObj = {\"id\":id,\"spriteFrame\":spriteFrame};\n        //             that.choujiangSprs.push(tempObj);\n        //             if (that.choujiangSprs.length == 12) {\n        //                 that.FormManager.ShowForm(\"UIChouJiang\",data,that.choujiangSprs);\n        //             }\n        //         }\n        //         else{\n        //             that.ErrLog(\"texture not Texture2D\");\n        //             return null;\n        //         }\n        //     })\n        //     .catch(function(error){\n        //         that.ErrLog(\"CreateUrlSpriteFrame error:%s\", error.stack);\n        //         return null;\n        //     })\n    },\n    Event_OutRoom: function () {\n        this.curRoomID = 0;\n        this.curRoomKey = 0;\n        this.curGameTypeStr = \"\";\n    },\n    Event_GetCurRoomID: function (event) {\n        let serverPack = event;\n        this.curRoomID = serverPack.roomID;\n        this.curRoomKey = serverPack.roomKey;\n        console.log(\"Event_GetCurRoomID curRoomID === \" + this.curRoomID);\n        console.log(\"Event_GetCurRoomID curRoomKey === \" + this.curRoomKey);\n        if (0 != this.curRoomID) {\n            this.curGameTypeStr = serverPack.gameType.toLowerCase();\n\n            console.log(\"Event_GetCurRoomID curGameTypeStr === \" + this.curGameTypeStr);\n            let checkRoom = true;\n            let isOutRoom = cc.sys.localStorage.getItem(\"isOutRoom\");\n            console.log(\"Event_GetCurRoomID isOutRoom:\" + isOutRoom);\n            if (isOutRoom == null || typeof (isOutRoom) == \"undefined\") {\n                cc.sys.localStorage.setItem(\"isOutRoom\", '1');\n            } else {\n                if (isOutRoom == '0') {\n                    checkRoom = false;\n                    cc.sys.localStorage.setItem(\"isOutRoom\", '1');\n                }\n            }\n            if (checkRoom == true) {\n                let curGameType = this.ShareDefine.GametTypeNameDict[this.curGameTypeStr.toUpperCase()];\n                this.SetWaitForConfirm('MSG_GO_ROOM', this.ShareDefine.Confirm, [this.ShareDefine.GametTypeID2Name[curGameType]]);\n            }\n        }\n    },\n    Event_CodeError: function (event) {\n        let codeInfo = event;\n        if (codeInfo[\"Code\"] == this.ShareDefine.NotFind_Room) {\n            app.SysNotifyManager().ShowSysMsg('DissolveRoom');\n            this.curRoomID = 0;\n            this.curRoomKey = 0;\n            this.curGameTypeStr = '';\n        } else if (codeInfo[\"Code\"] == 1502) {\n            app.SysNotifyManager().ShowSysMsg('抽奖活动暂未开启');\n        }\n    },\n    OnClose: function () {\n    },\n    //---------点击函数---------------------\n    InitGameBtnList: function (serverPack) {\n        this.FormManager.ShowForm(\"UICreatRoom\", serverPack, this.gameName);\n    },\n    OnClick: function (btnName, btnNode) {\n        if ('btn_club' == btnName) {\n            let self = this;\n            app.NetManager().SendPack(\"club.CGetClubListMin\", {}, function (serverPack) {\n                if (serverPack.length == 0) {\n                    self.FormManager.ShowForm(\"ui/club/UIClubNone\");\n                } else {\n                    // let clubMoban=cc.sys.localStorage.getItem('club_moban');\n                    // if(clubMoban==1){\n                    //     self.FormManager.ShowForm(\"ui/club/UIClub\");\n                    // }else{\n                    // self.FormManager.ShowForm(\"ui/club/UIClubMain\");\n                    // }\n                    self.FormManager.ShowForm(\"ui/club/UIClubList\", serverPack);\n                }\n            }, function () {\n\n            });\n            return;\n        }\n        else if ('btn_joinClub' == btnName) {\n            //if (this.isEnterLastClub) {\n            if (true) {\n                let self = this;\n                app.NetManager().SendPack(\"club.CGetClubListMin2\", {}, function (serverPack) {\n                    if (serverPack.length == 0) {\n                        self.FormManager.ShowForm(\"ui/club/UIClubNone\");\n                    } else {\n                        app.ClubManager().ShowClubFrom();\n                    }\n                }, function () {\n\n                });\n            } else {\n                // this.FormManager.ShowForm('ui/club/UIJoinClub');\n                this.FormManager.ShowForm(\"ui/club/UIClubNone\");\n            }\n            return;\n        }\n        else if ('btn_join' == btnName) {\n            if (0 != this.curRoomID) {\n                let curGameType = this.ShareDefine.GametTypeNameDict[this.curGameTypeStr.toUpperCase()];\n                this.SetWaitForConfirm('MSG_GO_ROOM', this.ShareDefine.Confirm, [this.ShareDefine.GametTypeID2Name[curGameType]]);\n                return;\n            }\n            this.FormManager.ShowForm(\"UIJoin\");\n            return;\n        }\n        else if ('btn_create' == btnName) {\n            if (0 != this.curRoomID) {\n                let curGameType = this.ShareDefine.GametTypeNameDict[this.curGameTypeStr.toUpperCase()];\n                this.SetWaitForConfirm('MSG_GO_ROOM', this.ShareDefine.Confirm, [this.ShareDefine.GametTypeID2Name[curGameType]]);\n                return;\n            }\n            this.FormManager.ShowForm(\"UIMoreGame\");\n        }\n        else if ('btn_lxc' == btnName) {\n            if (0 != this.curRoomID) {\n                let curGameType = this.ShareDefine.GametTypeNameDict[this.curGameTypeStr.toUpperCase()];\n                this.SetWaitForConfirm('MSG_GO_ROOM', this.ShareDefine.Confirm, [this.ShareDefine.GametTypeID2Name[curGameType]]);\n                return;\n            }\n            this.gameName = 'wzmj';\n            this.FormManager.ShowForm(\"UIPractice\");\n        }\n        else if ('btn_head' == btnName) {\n            this.FormManager.ShowForm(\"UIUserInfo\");\n        } else if ('btn_more' == btnName) {\n            this.node.getChildByName('bottom').getChildByName('left').getChildByName('layout').active = !this.node.getChildByName('bottom').getChildByName('left').getChildByName('layout').active;\n        } else if ('btn_jubao' == btnName) {\n            cc.sys.openURL(\"http://qh.qinghuaimajiang.com/index.php?module=Report&action=Index&playerID=\" + app.HeroManager().GetHeroID());\n        } else if ('btn_shop' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIBangDingTuiGuang\");\n\n            this.FormManager.ShowForm(\"UIStore\");\n        } else if ('btn_record' == btnName) {\n            this.FormManager.ShowForm(\"UIRecordAll\");\n        } else if ('btn_bangdingtuiguang' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIStore\");\n\n            this.FormManager.ShowForm(\"UIBangDingTuiGuang\");\n        } else if ('btn_share' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIStore\");\n            this.FormManager.CloseForm(\"UIBangDingTuiGuang\");\n\n            this.FormManager.ShowForm('UIShare');\n            // if (cc.sys.isNative) {\n            //     app.NativeManager().CallToNative(\"getClipboardText\",[]);\n            // }\n        } else if ('btn_qiandao' == btnName) {\n            this.FormManager.ShowForm(\"UISign\");\n        } else if ('btn_set' == btnName) {\n            this.FormManager.ShowForm(\"UISetting01\");\n        } else if ('btn_daili' == btnName) {\n            this.FormManager.ShowForm(\"UIDaiLiCopy\");\n        } else if ('btn_fanxian' == btnName) {\n            app.FormManager().ShowForm('UITask');\n        } else if ('btn_service' == btnName) {\n            this.ShowSysMsg(\"请联系系统管理员\");\n            let httpPath = app.Client.GetClientConfigProperty(\"WebSiteUrl\");\n            if (httpPath[httpPath.length - 1] == \"/\") {\n                httpPath = httpPath.substring(0, httpPath.length - 1)\n            }\n            httpPath = httpPath + \"/index.php?module=Api&action=Contact\"\n            console.log(httpPath)\n            let that = this\n            app.NetRequest().SendHttpRequestGet(httpPath, \"\", {}, 15000, (serverUrl, responseText, httpRequest) => {\n                let data = JSON.parse(responseText)\n                if (data && data.data[0] && data.data[0].contact) {\n                    that.ShowSysMsg(data.data[0].contact);\n                }\n            });\n            return;\n        }\n        else if ('btn_shiming' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIStore\");\n            this.FormManager.CloseForm(\"UIBangDingTuiGuang\");\n\n            this.FormManager.ShowForm(\"UIShiMing\");\n        } else if ('btn_wanfa' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIStore\");\n            this.FormManager.CloseForm(\"UIBangDingTuiGuang\");\n            this.FormManager.ShowForm(\"UIGameHelp\", 'xymj');\n        }\n        else if ('btn_advice' == btnName) {\n            //btn_advice\n            let myCityID = cc.sys.localStorage.getItem(\"myCityID\");\n            let signString = app.HeroManager().GetHeroID() + myCityID.toString() + \"wanzi\" + app.ComTool().GetNowDateDayStr2();\n            let sign = app.MD5.hex_md5(signString);\n            cc.sys.openURL(\"http://fb.qinghuaimajiang.com/feedback/\" + app.HeroManager().GetHeroID() + \"/\" + myCityID + \"/?key=\" + sign);\n        }\n        else if ('btn_paihang' == btnName) {\n            this.FormManager.ShowForm('UIPaiHang');\n        } else if ('btn_addGold' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.ShowForm(\"UIStore\", 'btn_table0');\n        }\n        else if ('btn_addRoomCard' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIBangDingTuiGuang\");\n            this.FormManager.ShowForm(\"UIStore\", 'btn_table1');\n        } else if ('btn_addQuanCard' == btnName) {\n            console.log(\"亲友圈未做，此功能暂时关闭\")\n            // this.FormManager.ShowForm('ui/club/UIClubStore');\n        } else if ('btn_shezhi' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIStore\");\n            this.FormManager.CloseForm(\"UIBangDingTuiGuang\");\n\n            this.FormManager.ShowForm(\"UISetting01\");\n        } else if ('btn_shiming' == btnName) {\n            this.FormManager.CloseForm(\"UIRecordAll\");\n            this.FormManager.CloseForm(\"UIStore\");\n            this.FormManager.CloseForm(\"UIBangDingTuiGuang\");\n\n            this.FormManager.ShowForm(\"UIShiMing\");\n        } else if ('btn_LoginOut' == btnName) {\n            this.Click_Btn_QieHuan();\n        } else if ('btn_location' == btnName) {\n            this.FormManager.ShowForm(\"UISelectCity\");\n        } else if ('btn_shouji' == btnName) {\n            this.FormManager.ShowForm(\"UIBangdingshouji\");\n        } else if ('btn_zengsong' == btnName) {\n            this.FormManager.ShowForm(\"UIZengSong\");\n        } else if ('btn_huodong' == btnName) {\n            //检测活动\n            app.NetManager().SendPack(\"popup.CPopupList\", { \"type\": 1 }, function (event) {\n                if (event.length > 0) {\n                    app.FormManager().ShowForm(\"UIActivity\", event);\n                }\n            }, function () { });\n        }\n        else if ('btn_choujiang' == btnName) {\n            let self = this;\n            app.NetManager().SendPack(\"luckdraw.CLuckDrawCheck\", {}, function (success) {\n                self.SendHttpRequest(self.ChouJiangUrl, \"\", \"GET\", {});\n            }, function (error) {\n                // self.ShowSysMsg(\"抽奖活动暂未开启\");\n            });\n        }\n        else if ('btn_uploadImg_test' == btnName) {\n            let uploadImgURL = app.Client.GetClientConfigProperty(\"uploadImgURL\");\n            let argList = [{ \"Name\": \"uploadImgURL\", \"Value\": uploadImgURL }];\n            app.NativeManager().CallToNative(\"openPhotoAlbum\", argList);//上传头像\n        }\n        else if ('btn_createRoom' == btnName) {\n            if (0 != this.curRoomID) {//&& this.gameName != this.curGameTypeStr\n                let curGameType = this.ShareDefine.GametTypeNameDict[this.curGameTypeStr.toUpperCase()];\n                this.SetWaitForConfirm('MSG_GO_ROOM', this.ShareDefine.Confirm, [this.ShareDefine.GametTypeID2Name[curGameType]]);\n                return;\n            }\n            this.FormManager.ShowForm(\"UICreatRoom\", { \"gameList\": app.Client.GetAllGameId() }, this.gameName);\n        }\n        else if (btnName.startsWith(\"btn_\")) {\n            this.gameName = btnName.replace('btn_', '');\n            if (0 != this.curRoomID) {//&& this.gameName != this.curGameTypeStr\n                let curGameType = this.ShareDefine.GametTypeNameDict[this.curGameTypeStr.toUpperCase()];\n                this.SetWaitForConfirm('MSG_GO_ROOM', this.ShareDefine.Confirm, [this.ShareDefine.GametTypeID2Name[curGameType]]);\n                return;\n            }\n            this.FormManager.ShowForm(\"UICreatRoom\", { \"gameList\": app.Client.GetAllGameId() }, this.gameName);\n        }\n        else if (btnName == \"logo\") {\n            // let count = parseInt(this.node.getChildByName(\"editbox\").getComponent(cc.EditBox).string) || 1;\n            // for (let idx = 0; idx < count; idx++) {\n            //     app.LocationOnStartMgr().OnGetLocation();\n            // }\n        }\n        else {\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\n        }\n\n    },\n    CloseMorePop: function () {\n        //    this.node_more.active=false;\n    },\n    Click_btn_goRoom: function () {\n        app.Client.SetGameType(this.curGameTypeStr);\n        this.FormManager.ShowForm(\"UIDownLoadGame\", this.curGameTypeStr, this.curRoomKey, null, 0, 0, true);\n        // let event = {};\n        // event = {};\n        // event.roomID = this.curRoomID;\n        // app.Client.OnEvent_LoginGetCurRoomID(event);\n    },\n    Click_Btn_QieHuan: function () {\n        this.SetWaitForConfirm('UIMoreQieHuanZhangHao', this.ShareDefine.ConfirmDIY, [], [], \"确定要切换账号吗？\", \"切换账号\", \"退出游戏\");\n    },\n    SetWaitForConfirm: function (msgID, type, msgArg = [], cbArg = [], content = \"\", lbSure = \"\", lbCancle = \"\") {\n        let ConfirmManager = app.ConfirmManager();\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\n        ConfirmManager.ShowConfirm(type, msgID, msgArg, content, lbSure, lbCancle);\n    },\n    /**\n     * 2次确认点击回调\n     * @param curEventType\n     * @param curArgList\n     */\n    OnConFirm: function (clickType, msgID, backArgList) {\n\n        if (clickType != \"Sure\") {\n            if (msgID == \"UIMoreQieHuanZhangHao\") {\n                cc.game.end();\n            }\n            return\n        }\n        if (msgID == \"UIMoreQieHuanZhangHao\") {\n            this.LocalDataManager.SetConfigProperty(\"Account\", \"AccessTokenInfo\", {});\n            this.LocalDataManager.SetConfigProperty(\"Account\", \"AccountMobile\", {});\n            console.log(\"切换账号\");\n            app.Client.LogOutGame(1);\n        } else if ('MSG_GO_ROOM' == msgID) {\n            this.Click_btn_goRoom();\n        }\n        else if (\"MSG_EXIT_GAME\") {\n            cc.game.end();\n        }\n        else if ('MSG_CLUB_RoomCard_Not_Enough' == msgID) {\n            let clubId = backArgList[0];\n            for (let i = 0; i < this.clubCardNtfs.length; i++) {\n                if (this.clubCardNtfs[i].clubId == clubId) {\n                    this.clubCardNtfs.splice(i, 1);\n                    break;\n                }\n            }\n            if (0 != this.clubCardNtfs.length) {\n                let data = this.clubCardNtfs[0];\n                setTimeout(function () {\n                    app.SysNotifyManager().ShowSysMsg('MSG_CLUB_RoomCard_Not_Enough', [data.clubName, data.roomcardattention]);\n                }, 200);\n            }\n        }\n    },\n});"]}