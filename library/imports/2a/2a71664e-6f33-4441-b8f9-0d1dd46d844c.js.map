{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\sdb/assets\\script\\ui\\uiGame\\sdb\\sdb_detail_child.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","ShowPlayerData","resultsList","playerAll","idx","console","error","node","getChildByName","active","data","userInfo","getComponent","ShowHeroHead","pid","Label","string","ComTool","GetPid","index","player","name","winnerCount","loseCount","jieGuoCount","point","sportsPoint","maxPoint","i","length"],"mappings":"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","file":"sdb_detail_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\sdb","sourcesContent":["/*\n\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_detail_child\"),\n\n\tproperties: {\n    },\n\n\t// use this for initialization\n\tOnLoad: function () {\n\n\t},\n\tShowPlayerData: function (resultsList, playerAll, idx) {\n\t\tconsole.error(\"resultsList:  \", resultsList);\n\t\tconsole.error(\"playerAll:  \", playerAll);\n\t\tconsole.error(\"idx:  \", idx);\n\t\tthis.node.getChildByName(\"icon_win\").active = false;\n\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"fangzhu\").active = false;\n\t\tlet data = resultsList[idx];\n\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"fangzhu\").active = data[\"isOwner\"];\n\t\tlet userInfo = this.node.getChildByName(\"user_info\");\n\t\tif (userInfo) {\n\t\t\tuserInfo.getChildByName(\"mask\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\").ShowHeroHead(data.pid);\n\t\t\tuserInfo.getChildByName(\"label_id\").getComponent(cc.Label).string = \"ID:\" + app.ComTool().GetPid(data.pid);\n\t\t\tfor (let index in playerAll) {\n\t\t\t\tlet player = playerAll[index];\n\t\t\t\tif (player.pid == data.pid) {\n\t\t\t\t\tuserInfo.getChildByName(\"lable_name\").getComponent(cc.Label).string = player.name;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.node.getChildByName(\"lb_win\").getComponent(cc.Label).string = data.winnerCount || 0;\n\t\tthis.node.getChildByName(\"lb_lose\").getComponent(cc.Label).string = data.loseCount || 0;\n\t\tthis.node.getChildByName(\"lb_count_gou\").getComponent(cc.Label).string = data.jieGuoCount || '';\n\t\tif (data.point >= 0) {\n\t\t\tthis.node.getChildByName(\"lb_win_num\").getComponent(cc.Label).string = \"+\" + data.point;\n\t\t\tthis.node.getChildByName(\"lb_win_num\").active = true;\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").active = false;\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").getComponent(cc.Label).string = data.point;\n\t\t\tthis.node.getChildByName(\"lb_win_num\").active = false;\n\t\t\tthis.node.getChildByName(\"lb_lose_num\").active = true;\n\t\t}\n\t\t//比赛分\n\t\tif (typeof(data.sportsPoint) != \"undefined\") {\n\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").active = true;\n\t\t\tif (data.sportsPoint > 0) {\n\t\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = \"+\" + data.sportsPoint;\n\t\t\t} else {\n\t\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").getComponent(cc.Label).string = data.sportsPoint;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"lb_sportsPoint\").active = false;\n\t\t}\n\t\tlet maxPoint = 0;\n\t\tfor (let i = 0; i < resultsList.length; i++) {\n\t\t\tlet data = resultsList[i];\n\t\t\tif (data.point > maxPoint) {\n\t\t\t\tmaxPoint = data.point;\n\t\t\t}\n\t\t}\n\t\t//显示大赢家图标\n\t\tthis.node.getChildByName(\"icon_win\").active = data.point >= maxPoint;\n\t},\n});\n"]}