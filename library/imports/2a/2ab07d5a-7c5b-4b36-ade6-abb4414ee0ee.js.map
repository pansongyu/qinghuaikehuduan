{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\xgkwxmj/assets\\script\\ui\\uiGame\\xgkwxmj\\xgkwxmj_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","icon_piao","SpriteFrame","OnLoad","ComTool","ShareDefine","SysDataManager","IntegrateImage","GetTableDict","ShowPlayerHuImg","huNode","huTypeName","isPingHu","huType","HuTypeStringDict","getComponent","Label","string","HuType_DianPao","HuType_JiePao","HuType_ZiMo","HuType_QGH","ShowPlayerData","setEnd","playerAll","index","jin1","jin2","dPos","posResultList","posHuArray","Array","posCount","length","i","posInfo","pos","posHuType","PlayerInfo","node","active","ShowPlayerMaPai","getChildByName","maiMa","UpdatePlayData","WeChatManager","InitHeroHeadImage","weChatHeadImage","ShowHeroHead","PlayerNode","HuList","maPaiLst","showLabelNum","ClearLabelShow","sportsPointTemp","ShowLabelName","sportsPoint","ShowPlayerRecord","ShowPlayerJieSuan","ShowPlayerInfo","ShowPlayerDownCard","publicCardList","ShowPlayerShowCard","shouCard","handCard","ShowPlayerHuaCard","huaList","showNode","maPai","childNode","childSprite","Sprite","ErrLog","name","imageInfo","imagePath","spriteFrame","that","ControlManager","CreateLoadPromise","then","catch","error","stack","ShowNode","GetBeiZhuName","GetPid","isTing","piao","huInfo","absNum","Math","abs","shortNum","toFixed","huInfoAll","huTypeMap","huPoint","LabelName","console","log","LabelArray"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASH,QAAQ,sBAAR,CADD;;AAGRI,aAAY;AACXC,aAAW,CAACJ,GAAGK,WAAJ;AADA,EAHJ;;AAOR;AACAC,SAAQ,kBAAY;AACnB,OAAKC,OAAL,GAAeT,IAAIS,OAAJ,EAAf;AACA,OAAKC,WAAL,GAAmBV,IAAIU,WAAJ,EAAnB;AACA,OAAKC,cAAL,GAAsBX,IAAIW,cAAJ,EAAtB;AACA,OAAKC,cAAL,GAAsB,KAAKD,cAAL,CAAoBE,YAApB,CAAiC,gBAAjC,CAAtB;AACA,EAbO;AAcRC,kBAAiB,yBAAUC,MAAV,EAAkBC,UAAlB,EAA8BC,QAA9B,EAAwC;AACxD;;;;AAIA,MAAIC,SAAS,KAAKR,WAAL,CAAiBS,gBAAjB,CAAkCH,UAAlC,CAAb;AACA,MAAI,OAAOE,MAAP,IAAkB,WAAtB,EAAmC;AAClCH,UAAOK,YAAP,CAAoBlB,GAAGmB,KAAvB,EAA8BC,MAA9B,GAAuC,EAAvC;AACA,GAFD,MAEO,IAAIJ,UAAU,KAAKR,WAAL,CAAiBa,cAA/B,EAA+C;AACrD,OAAIN,QAAJ,EAAc;AACbF,WAAOK,YAAP,CAAoBlB,GAAGmB,KAAvB,EAA8BC,MAA9B,GAAuC,EAAvC;AACA,IAFD,MAEO;AACNP,WAAOK,YAAP,CAAoBlB,GAAGmB,KAAvB,EAA8BC,MAA9B,GAAuC,IAAvC;AACA;AACD,GANM,MAMA,IAAIJ,UAAU,KAAKR,WAAL,CAAiBc,aAA/B,EAA8C;AACpD,OAAIP,QAAJ,EAAc;AACbF,WAAOK,YAAP,CAAoBlB,GAAGmB,KAAvB,EAA8BC,MAA9B,GAAuC,GAAvC;AACA,IAFD,MAEO;AACNP,WAAOK,YAAP,CAAoBlB,GAAGmB,KAAvB,EAA8BC,MAA9B,GAAuC,IAAvC;AACA;AACD,GANM,MAMA,IAAIJ,UAAU,KAAKR,WAAL,CAAiBe,WAA/B,EAA4C;AAClDV,UAAOK,YAAP,CAAoBlB,GAAGmB,KAAvB,EAA8BC,MAA9B,GAAuC,IAAvC;AACA,GAFM,MAEA,IAAIJ,UAAU,KAAKR,WAAL,CAAiBgB,UAA/B,EAA2C;AACjDX,UAAOK,YAAP,CAAoBlB,GAAGmB,KAAvB,EAA8BC,MAA9B,GAAuC,KAAvC;AACA,GAFM,MAEA;AACNP,UAAOK,YAAP,CAAoBlB,GAAGmB,KAAvB,EAA8BC,MAA9B,GAAuC,EAAvC;AACA;AACD,EAzCO;AA0CRK,iBAAgB,wBAAUC,MAAV,EAAkBC,SAAlB,EAA6BC,KAA7B,EAAoC;AACnD,MAAIC,OAAOH,OAAOG,IAAlB;AACA,MAAIC,OAAOJ,OAAOI,IAAlB;AACA,MAAIC,OAAOL,OAAOK,IAAlB;AACA,MAAIC,gBAAgBN,OAAO,eAAP,CAApB;AACA,MAAIO,aAAa,IAAIC,KAAJ,EAAjB;AACA,MAAIC,WAAWH,cAAcI,MAA7B;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,QAApB,EAA8BE,GAA9B,EAAmC;AAClC,OAAIC,UAAUN,cAAcK,CAAd,CAAd;AACA,OAAIE,MAAMD,QAAQ,KAAR,CAAV;AACA,OAAIE,YAAY,KAAKhC,WAAL,CAAiBS,gBAAjB,CAAkCqB,QAAQ,QAAR,CAAlC,CAAhB;AACAL,cAAWM,GAAX,IAAkBC,SAAlB;AACA;AACD,MAAIC,aAAad,UAAUC,KAAV,CAAjB;AACA,OAAKc,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,MAAIX,cAAcJ,KAAd,EAAqB,QAArB,KAAkCI,cAAcJ,KAAd,EAAqB,QAArB,KAAkC,MAAxE,EAAgF;AAC/E,QAAKgB,eAAL,CAAqB,KAAKF,IAAL,CAAUG,cAAV,CAAyB,OAAzB,CAArB,EAAwDnB,OAAOoB,KAA/D;AACA,GAFD,MAEO;AACN,QAAKJ,IAAL,CAAUG,cAAV,CAAyB,OAAzB,EAAkCF,MAAlC,GAA2C,KAA3C;AACA;AACD,OAAKI,cAAL,CAAoB,KAAKL,IAAzB,EAA+BV,cAAcJ,KAAd,CAA/B,EAAqDa,UAArD,EAAiEZ,IAAjE,EAAuEC,IAAvE;AACA,MAAIjB,SAAS,KAAK6B,IAAL,CAAUG,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,QAAnD,CAAb;AACA,OAAKjC,eAAL,CAAqBC,MAArB,EAA6BmB,cAAcJ,KAAd,EAAqB,QAArB,CAA7B,EAA6DI,cAAcJ,KAAd,EAAqBb,QAAlF;;AAEA,MAAIgB,SAASH,KAAb,EAAoB;AACnB,QAAKc,IAAL,CAAUG,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,WAArD,EAAkEF,MAAlE,GAA2E,IAA3E;AACA,GAFD,MAEO;AACN,QAAKD,IAAL,CAAUG,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,WAArD,EAAkEF,MAAlE,GAA2E,KAA3E;AACA;AACD;AACA,MAAIF,WAAW,KAAX,KAAqBA,WAAW,SAAX,CAAzB,EAAgD;AAC/C3C,OAAIkD,aAAJ,GAAoBC,iBAApB,CAAsCR,WAAW,KAAX,CAAtC,EAAyDA,WAAW,SAAX,CAAzD;AACA;AACD,MAAIS,kBAAkB,KAAKR,IAAL,CAAUG,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,UAArD,EAAiE3B,YAAjE,CAA8E,iBAA9E,CAAtB;AACAgC,kBAAgBC,YAAhB,CAA6BV,WAAW,KAAX,CAA7B;AACA,EA7EO;AA8ERM,iBAAgB,wBAAUK,UAAV,EAAsBC,MAAtB,EAA8BZ,UAA9B,EAA+E;AAAA,MAArCZ,IAAqC,uEAA9B,CAA8B;AAAA,MAA3BC,IAA2B,uEAApB,CAAoB;AAAA,MAAjBwB,QAAiB,uEAAN,IAAM;;AAC9F,OAAKC,YAAL,GAAoB,CAApB;AACA,OAAKC,cAAL,CAAoBJ,WAAWP,cAAX,CAA0B,SAA1B,EAAqCA,cAArC,CAAoD,aAApD,CAApB;AACA;AACA,MAAI,OAAQQ,OAAOI,eAAf,IAAmC,WAAvC,EAAoD;AACnD,OAAIJ,OAAOI,eAAP,GAAyB,CAA7B,EAAgC;AAC/B,SAAKC,aAAL,CAAmBN,WAAWP,cAAX,CAA0B,SAA1B,EAAqCA,cAArC,CAAoD,aAApD,CAAnB,EAAuF,UAAUQ,OAAOI,eAAxG;AACA,IAFD,MAEO;AACN,SAAKC,aAAL,CAAmBN,WAAWP,cAAX,CAA0B,SAA1B,EAAqCA,cAArC,CAAoD,aAApD,CAAnB,EAAuF,SAASQ,OAAOI,eAAvG;AACA;AACD,GAND,MAMO,IAAI,OAAQJ,OAAOM,WAAf,IAA+B,WAAnC,EAAgD;AACtD,OAAIN,OAAOM,WAAP,GAAqB,CAAzB,EAA4B;AAC3B,SAAKD,aAAL,CAAmBN,WAAWP,cAAX,CAA0B,SAA1B,EAAqCA,cAArC,CAAoD,aAApD,CAAnB,EAAuF,UAAUQ,OAAOM,WAAxG;AACA,IAFD,MAEO;AACN,SAAKD,aAAL,CAAmBN,WAAWP,cAAX,CAA0B,SAA1B,EAAqCA,cAArC,CAAoD,aAApD,CAAnB,EAAuF,SAASQ,OAAOM,WAAvG;AACA;AACD;AACD,OAAKC,gBAAL,CAAsBR,WAAWP,cAAX,CAA0B,QAA1B,CAAtB,EAA2DQ,MAA3D;AACA,OAAKQ,iBAAL,CAAuBT,WAAWP,cAAX,CAA0B,SAA1B,CAAvB,EAA6DQ,MAA7D;AACA,OAAKS,cAAL,CAAoBV,WAAWP,cAAX,CAA0B,WAA1B,CAApB,EAA4DJ,UAA5D,EAAwEY,MAAxE;AACA,OAAKU,kBAAL,CAAwBX,WAAWP,cAAX,CAA0B,UAA1B,CAAxB,EAA+DQ,OAAOW,cAAtE,EAAsFnC,IAAtF,EAA4FC,IAA5F;AACA,OAAKmC,kBAAL,CAAwBb,WAAWP,cAAX,CAA0B,UAA1B,CAAxB,EAA+DQ,OAAOa,QAAtE,EAAgFb,OAAOc,QAAvF,EAAiGtC,IAAjG,EAAuGC,IAAvG;AACA,OAAKsC,iBAAL,CAAuBhB,WAAWP,cAAX,CAA0B,SAA1B,CAAvB,EAA6DQ,OAAOgB,OAApE;AACA,EArGO;AAsGRzB,kBAAiB,yBAAU0B,QAAV,EAAoBC,KAApB,EAA2B;AAC3C,MAAIA,SAAS,CAAb,EAAgB;AACfD,YAAS3B,MAAT,GAAkB,KAAlB;AACA;AACA;AACD2B,WAAS3B,MAAT,GAAkB,CAAlB;AACA,MAAI6B,YAAYF,SAASzB,cAAT,CAAwB,QAAxB,CAAhB;AACA2B,YAAU7B,MAAV,GAAmB,CAAnB;AACA,MAAI8B,cAAcD,UAAUtD,YAAV,CAAuBlB,GAAG0E,MAA1B,CAAlB;AACA,MAAI,CAACD,WAAL,EAAkB;AACjB,QAAKE,MAAL,CAAY,oCAAZ,EAAkDH,UAAUI,IAA5D;AACA;AACA;AACD,MAAIC,YAAY,KAAKnE,cAAL,CAAoB,kBAAkB6D,KAAtC,CAAhB;AACA,MAAI,CAACM,SAAL,EAAgB;AACf;AACA;AACD,MAAIC,YAAYD,UAAU,UAAV,CAAhB;AACA,MAAI/E,IAAI,aAAa,eAAb,GAA+ByE,KAAnC,CAAJ,EAA+C;AAC9CE,eAAYM,WAAZ,GAA0BjF,IAAI,aAAa,eAAb,GAA+ByE,KAAnC,CAA1B;AACA,GAFD,MAEO;AACN,OAAIS,OAAO,IAAX;AACAlF,OAAImF,cAAJ,GAAqBC,iBAArB,CAAuCJ,SAAvC,EAAkD9E,GAAGK,WAArD,EACE8E,IADF,CACO,UAAUJ,WAAV,EAAuB;AAC5B,QAAI,CAACA,WAAL,EAAkB;AACjBC,UAAKL,MAAL,CAAY,qCAAZ,EAAmDG,SAAnD;AACA;AACA;AACDL,gBAAYM,WAAZ,GAA0BA,WAA1B;AACA,IAPF,EAQEK,KARF,CAQQ,UAAUC,KAAV,EAAiB;AACvBL,SAAKL,MAAL,CAAY,wBAAZ,EAAsCG,SAAtC,EAAiDO,MAAMC,KAAvD;AACA,IAVF;AAWA;AACD,EAxIO;AAyIRxB,iBAAgB,wBAAUyB,QAAV,EAAoB9C,UAApB,EAAgCY,MAAhC,EAAwC;AACvDkC,WAAS1C,cAAT,CAAwB,YAAxB,EAAsC3B,YAAtC,CAAmD,UAAnD,EAA+DE,MAA/D,GAAwE,KAAKb,OAAL,CAAaiF,aAAb,CAA2B/C,WAAW,KAAX,CAA3B,EAA8CA,WAAW,MAAX,CAA9C,CAAxE;AACA8C,WAAS1C,cAAT,CAAwB,UAAxB,EAAoC3B,YAApC,CAAiD,UAAjD,EAA6DE,MAA7D,GAAsE,QAAQ,KAAKb,OAAL,CAAakF,MAAb,CAAoBhD,WAAW,KAAX,CAApB,CAA9E;;AAEA,MAAIiD,SAASrC,OAAO,QAAP,CAAb;AACAkC,WAAS1C,cAAT,CAAwB,UAAxB,EAAoCF,MAApC,GAA6C+C,MAA7C;AACA,MAAIC,OAAOtC,OAAO,MAAP,CAAX;AACA,MAAIsC,OAAO,CAAX,EAAc;AACbJ,YAAS1C,cAAT,CAAwB,UAAxB,EAAoC3B,YAApC,CAAiDlB,GAAG0E,MAApD,EAA4DK,WAA5D,GAA0E,KAAK3E,SAAL,CAAeuF,IAAf,CAA1E;AACAJ,YAAS1C,cAAT,CAAwB,UAAxB,EAAoCF,MAApC,GAA6C,IAA7C;AACA,GAHD,MAGO;AACN4C,YAAS1C,cAAT,CAAwB,UAAxB,EAAoCF,MAApC,GAA6C,KAA7C;AACA;AACD,EAtJO;AAuJRiB,mBAAkB,0BAAU2B,QAAV,EAAoBK,MAApB,EAA4B;AAC7C,MAAIC,SAASC,KAAKC,GAAL,CAASH,OAAO,kBAAP,CAAT,CAAb;AACAL,WAAS1C,cAAT,CAAwB,eAAxB,EAAyCF,MAAzC,GAAkD,KAAlD;AACA4C,WAAS1C,cAAT,CAAwB,gBAAxB,EAA0CF,MAA1C,GAAmD,KAAnD;AACA,MAAIkD,SAAS,KAAb,EAAoB;AACnB,OAAIG,WAAW,CAACH,SAAS,KAAV,EAAiBI,OAAjB,CAAyB,CAAzB,CAAf;AACA,OAAIL,OAAO,kBAAP,IAA6B,CAAjC,EAAoC;AACnCL,aAAS1C,cAAT,CAAwB,eAAxB,EAAyC3B,YAAzC,CAAsD,UAAtD,EAAkEE,MAAlE,GAA2E,MAAM4E,QAAN,GAAiB,GAA5F;AACAT,aAAS1C,cAAT,CAAwB,eAAxB,EAAyCF,MAAzC,GAAkD,IAAlD;AACA,IAHD,MAGO;AACN4C,aAAS1C,cAAT,CAAwB,gBAAxB,EAA0C3B,YAA1C,CAAuD,UAAvD,EAAmEE,MAAnE,GAA4E,MAAM4E,QAAN,GAAiB,GAA7F;AACAT,aAAS1C,cAAT,CAAwB,gBAAxB,EAA0CF,MAA1C,GAAmD,IAAnD;AACA;AACD,GATD,MASO;AACN,OAAIiD,OAAO,kBAAP,IAA6B,CAAjC,EAAoC;AACnCL,aAAS1C,cAAT,CAAwB,eAAxB,EAAyC3B,YAAzC,CAAsD,UAAtD,EAAkEE,MAAlE,GAA2E,MAAMwE,OAAO,kBAAP,CAAjF;AACAL,aAAS1C,cAAT,CAAwB,eAAxB,EAAyCF,MAAzC,GAAkD,IAAlD;AACA,IAHD,MAGO;AACN4C,aAAS1C,cAAT,CAAwB,gBAAxB,EAA0C3B,YAA1C,CAAuD,UAAvD,EAAmEE,MAAnE,GAA4EwE,OAAO,kBAAP,CAA5E;AACAL,aAAS1C,cAAT,CAAwB,gBAAxB,EAA0CF,MAA1C,GAAmD,IAAnD;AACA;AACD;AACD,EA7KO;AA8KRkB,oBAAmB,2BAAU0B,QAAV,EAAoBW,SAApB,EAA+B;AACjD,MAAIN,SAASM,UAAU,UAAV,EAAsBC,SAAnC;AACA,OAAK3C,cAAL,CAAoB+B,SAAS1C,cAAT,CAAwB,aAAxB,CAApB;AACA,OAAK,IAAI7B,MAAT,IAAmB4E,MAAnB,EAA2B;AAC1B,OAAIQ,UAAUR,OAAO5E,MAAP,CAAd;AACA,OAAIA,UAAU,OAAd,EAAuB;AACtB;AACA;AACD,QAAK0C,aAAL,CAAmB6B,SAAS1C,cAAT,CAAwB,aAAxB,CAAnB,EAA2D,KAAKwD,SAAL,CAAerF,MAAf,IAAyB,IAAzB,GAAgCoF,OAA3F;AACA;AACAE,WAAQC,GAAR,CAAY,mBAAZ,EAAiCvF,MAAjC,EAAyCoF,OAAzC;AACA;AACD,EA1LO;AA2LR;;;;;;;;;;;;;;;;AAgBAC,YAAW,mBAAUrF,MAAV,EAAkB;AAC5B,MAAIwF,aAAa,EAAjB;AACAA,aAAW,QAAX,IAAuB,IAAvB;AACAA,aAAW,aAAX,IAA4B,MAA5B;AACAA,aAAW,OAAX,IAAsB,IAAtB;AACAA,aAAW,QAAX,IAAuB,QAAvB;AACAA,aAAW,QAAX,IAAuB,QAAvB;AACAA,aAAW,QAAX,IAAuB,QAAvB;AACAA,aAAW,QAAX,IAAuB,QAAvB;AACAA,aAAW,QAAX,IAAuB,IAAvB;;AAEAA,aAAW,QAAX,IAAuB,IAAvB;AACAA,aAAW,SAAX,IAAwB,IAAxB;AACAA,aAAW,MAAX,IAAqB,IAArB;AACAA,aAAW,QAAX,IAAuB,IAAvB;AACAA,aAAW,UAAX,IAAyB,IAAzB;AACAA,aAAW,QAAX,IAAuB,IAAvB;AACAA,aAAW,MAAX,IAAqB,KAArB;AACAA,aAAW,UAAX,IAAyB,KAAzB;AACAA,aAAW,UAAX,IAAyB,IAAzB;AACAA,aAAW,YAAX,IAA2B,KAA3B;AACAA,aAAW,KAAX,IAAoB,KAApB;AACAA,aAAW,MAAX,IAAqB,KAArB;AACAA,aAAW,OAAX,IAAsB,OAAtB;AACAA,aAAW,QAAX,IAAuB,SAAvB;AACAA,aAAW,SAAX,IAAwB,UAAxB;AACAA,aAAW,KAAX,IAAoB,KAApB;AACAA,aAAW,KAAX,IAAoB,KAApB;AACAA,aAAW,WAAX,IAA0B,KAA1B;AACAA,aAAW,aAAX,IAA4B,KAA5B;AACAA,aAAW,OAAX,IAAsB,IAAtB;AACAA,aAAW,MAAX,IAAqB,IAArB;AACAA,aAAW,IAAX,IAAmB,GAAnB;AACAA,aAAW,MAAX,IAAqB,KAArB;AACAA,aAAW,aAAX,IAA4B,WAA5B;AACAA,aAAW,WAAX,IAA0B,WAA1B;AACAA,aAAW,cAAX,IAA6B,WAA7B;AACAA,aAAW,YAAX,IAA2B,WAA3B;AACAA,aAAW,OAAX,IAAsB,IAAtB;AACAA,aAAW,OAAX,IAAsB,IAAtB;AACAA,aAAW,OAAX,IAAsB,IAAtB;AACAA,aAAW,QAAX,IAAuB,IAAvB;AACAA,aAAW,MAAX,IAAmB,QAAnB;AACAA,aAAW,SAAX,IAAsB,IAAtB;AACA,SAAOA,WAAWxF,MAAX,CAAP;AACA;AAxPO,CAAT","file":"xgkwxmj_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\xgkwxmj","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n\t\ticon_piao: [cc.SpriteFrame],\n\t},\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tthis.ComTool = app.ComTool();\n\t\tthis.ShareDefine = app.ShareDefine();\n\t\tthis.SysDataManager = app.SysDataManager();\n\t\tthis.IntegrateImage = this.SysDataManager.GetTableDict(\"IntegrateImage\");\n\t},\n\tShowPlayerHuImg: function (huNode, huTypeName, isPingHu) {\n\t\t/*huLbIcon\n\t\t*  0:单吊，1：点炮，2：单游，3：胡，4：六金，5：平胡，6:抢杠胡 7:抢金，8：三游，9：四金倒，10：三金倒，11：三金游，12：十三幺\n\t\t*  13：双游，14：天胡，15：五金，16：自摸 17:接炮\n\t\t*/\n\t\tlet huType = this.ShareDefine.HuTypeStringDict[huTypeName];\n\t\tif (typeof(huType) == \"undefined\") {\n\t\t\thuNode.getComponent(cc.Label).string = '';\n\t\t} else if (huType == this.ShareDefine.HuType_DianPao) {\n\t\t\tif (isPingHu) {\n\t\t\t\thuNode.getComponent(cc.Label).string = '';\n\t\t\t} else {\n\t\t\t\thuNode.getComponent(cc.Label).string = '点泡';\n\t\t\t}\n\t\t} else if (huType == this.ShareDefine.HuType_JiePao) {\n\t\t\tif (isPingHu) {\n\t\t\t\thuNode.getComponent(cc.Label).string = '胡';\n\t\t\t} else {\n\t\t\t\thuNode.getComponent(cc.Label).string = '接炮';\n\t\t\t}\n\t\t} else if (huType == this.ShareDefine.HuType_ZiMo) {\n\t\t\thuNode.getComponent(cc.Label).string = '自摸';\n\t\t} else if (huType == this.ShareDefine.HuType_QGH) {\n\t\t\thuNode.getComponent(cc.Label).string = '抢杠胡';\n\t\t} else {\n\t\t\thuNode.getComponent(cc.Label).string = '';\n\t\t}\n\t},\n\tShowPlayerData: function (setEnd, playerAll, index) {\n\t\tlet jin1 = setEnd.jin1;\n\t\tlet jin2 = setEnd.jin2;\n\t\tlet dPos = setEnd.dPos;\n\t\tlet posResultList = setEnd[\"posResultList\"];\n\t\tlet posHuArray = new Array();\n\t\tlet posCount = posResultList.length;\n\t\tfor (let i = 0; i < posCount; i++) {\n\t\t\tlet posInfo = posResultList[i];\n\t\t\tlet pos = posInfo[\"pos\"];\n\t\t\tlet posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n\t\t\tposHuArray[pos] = posHuType;\n\t\t}\n\t\tlet PlayerInfo = playerAll[index];\n\t\tthis.node.active = true;\n\t\tif (posResultList[index][\"isTing\"] && posResultList[index][\"huType\"] == \"ZiMo\") {\n\t\t\tthis.ShowPlayerMaPai(this.node.getChildByName('maPai'), setEnd.maiMa);\n\t\t} else {\n\t\t\tthis.node.getChildByName('maPai').active = false;\n\t\t}\n\t\tthis.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2);\n\t\tlet huNode = this.node.getChildByName('jiesuan').getChildByName('hutype');\n\t\tthis.ShowPlayerHuImg(huNode, posResultList[index]['huType'], posResultList[index].isPingHu);\n\n\t\tif (dPos === index) {\n\t\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n\t\t}\n\t\t//显示头像，如果头像UI\n\t\tif (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n\t\t\tapp.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n\t\t}\n\t\tlet weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n\t\tweChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n\t},\n\tUpdatePlayData: function (PlayerNode, HuList, PlayerInfo, jin1 = 0, jin2 = 0, maPaiLst = null) {\n\t\tthis.showLabelNum = 1;\n\t\tthis.ClearLabelShow(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'));\n\t\t//显示比赛分\n\t\tif (typeof (HuList.sportsPointTemp) != \"undefined\") {\n\t\t\tif (HuList.sportsPointTemp > 0) {\n\t\t\t\tthis.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：+\" + HuList.sportsPointTemp);\n\t\t\t} else {\n\t\t\t\tthis.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：\" + HuList.sportsPointTemp);\n\t\t\t}\n\t\t} else if (typeof (HuList.sportsPoint) != \"undefined\") {\n\t\t\tif (HuList.sportsPoint > 0) {\n\t\t\t\tthis.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：+\" + HuList.sportsPoint);\n\t\t\t} else {\n\t\t\t\tthis.ShowLabelName(PlayerNode.getChildByName('jiesuan').getChildByName('label_lists'), \"比赛分：\" + HuList.sportsPoint);\n\t\t\t}\n\t\t}\n\t\tthis.ShowPlayerRecord(PlayerNode.getChildByName('record'), HuList);\n\t\tthis.ShowPlayerJieSuan(PlayerNode.getChildByName('jiesuan'), HuList);\n\t\tthis.ShowPlayerInfo(PlayerNode.getChildByName('user_info'), PlayerInfo, HuList);\n\t\tthis.ShowPlayerDownCard(PlayerNode.getChildByName('downcard'), HuList.publicCardList, jin1, jin2);\n\t\tthis.ShowPlayerShowCard(PlayerNode.getChildByName('showcard'), HuList.shouCard, HuList.handCard, jin1, jin2);\n\t\tthis.ShowPlayerHuaCard(PlayerNode.getChildByName('huacard'), HuList.huaList);\n\t},\n\tShowPlayerMaPai: function (showNode, maPai) {\n\t\tif (maPai <= 0) {\n\t\t\tshowNode.active = false;\n\t\t\treturn;\n\t\t}\n\t\tshowNode.active = 1;\n\t\tlet childNode = showNode.getChildByName(\"card01\");\n\t\tchildNode.active = 1;\n\t\tlet childSprite = childNode.getComponent(cc.Sprite);\n\t\tif (!childSprite) {\n\t\t\tthis.ErrLog(\"ShowOutCard(%s) not find cc.Sprite\", childNode.name);\n\t\t\treturn\n\t\t}\n\t\tlet imageInfo = this.IntegrateImage[\"EatCard_Self_\" + maPai];\n\t\tif (!imageInfo) {\n\t\t\treturn\n\t\t}\n\t\tlet imagePath = imageInfo[\"FilePath\"];\n\t\tif (app['majiang_' + \"EatCard_Self_\" + maPai]) {\n\t\t\tchildSprite.spriteFrame = app['majiang_' + \"EatCard_Self_\" + maPai];\n\t\t} else {\n\t\t\tlet that = this;\n\t\t\tapp.ControlManager().CreateLoadPromise(imagePath, cc.SpriteFrame)\n\t\t\t\t.then(function (spriteFrame) {\n\t\t\t\t\tif (!spriteFrame) {\n\t\t\t\t\t\tthat.ErrLog(\"OpenPoker(%s) load spriteFrame fail\", imagePath);\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tchildSprite.spriteFrame = spriteFrame;\n\t\t\t\t})\n\t\t\t\t.catch(function (error) {\n\t\t\t\t\tthat.ErrLog(\"OpenPoker(%s) error:%s\", imagePath, error.stack);\n\t\t\t\t});\n\t\t}\n\t},\n\tShowPlayerInfo: function (ShowNode, PlayerInfo, HuList) {\n\t\tShowNode.getChildByName('lable_name').getComponent(\"cc.Label\").string = this.ComTool.GetBeiZhuName(PlayerInfo[\"pid\"], PlayerInfo[\"name\"]);\n\t\tShowNode.getChildByName('label_id').getComponent(\"cc.Label\").string = \"ID:\" + this.ComTool.GetPid(PlayerInfo[\"pid\"]);\n\n\t\tlet isTing = HuList[\"isTing\"];\n\t\tShowNode.getChildByName('img_ting').active = isTing;\n\t\tlet piao = HuList[\"piao\"];\n\t\tif (piao > 0) {\n\t\t\tShowNode.getChildByName('img_piao').getComponent(cc.Sprite).spriteFrame = this.icon_piao[piao];\n\t\t\tShowNode.getChildByName('img_piao').active = true;\n\t\t} else {\n\t\t\tShowNode.getChildByName('img_piao').active = false;\n\t\t}\n\t},\n\tShowPlayerRecord: function (ShowNode, huInfo) {\n\t\tlet absNum = Math.abs(huInfo[\"xianShiYongPoint\"]);\n\t\tShowNode.getChildByName('lb_record_win').active = false;\n\t\tShowNode.getChildByName('lb_record_lost').active = false;\n\t\tif (absNum > 10000) {\n\t\t\tlet shortNum = (absNum / 10000).toFixed(2);\n\t\t\tif (huInfo[\"xianShiYongPoint\"] > 0) {\n\t\t\t\tShowNode.getChildByName('lb_record_win').getComponent(\"cc.Label\").string = '+' + shortNum + \"万\";\n\t\t\t\tShowNode.getChildByName('lb_record_win').active = true;\n\t\t\t} else {\n\t\t\t\tShowNode.getChildByName('lb_record_lost').getComponent(\"cc.Label\").string = '-' + shortNum + \"万\";\n\t\t\t\tShowNode.getChildByName('lb_record_lost').active = true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (huInfo[\"xianShiYongPoint\"] > 0) {\n\t\t\t\tShowNode.getChildByName('lb_record_win').getComponent(\"cc.Label\").string = '+' + huInfo[\"xianShiYongPoint\"];\n\t\t\t\tShowNode.getChildByName('lb_record_win').active = true;\n\t\t\t} else {\n\t\t\t\tShowNode.getChildByName('lb_record_lost').getComponent(\"cc.Label\").string = huInfo[\"xianShiYongPoint\"];\n\t\t\t\tShowNode.getChildByName('lb_record_lost').active = true;\n\t\t\t}\n\t\t}\n\t},\n\tShowPlayerJieSuan: function (ShowNode, huInfoAll) {\n\t\tlet huInfo = huInfoAll['endPoint'].huTypeMap;\n\t\tthis.ClearLabelShow(ShowNode.getChildByName('label_lists'));\n\t\tfor (let huType in huInfo) {\n\t\t\tlet huPoint = huInfo[huType];\n\t\t\tif (huType == \"Point\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.ShowLabelName(ShowNode.getChildByName('label_lists'), this.LabelName(huType) + \"： \" + huPoint);\n\t\t\t// this.ShowLabelName(ShowNode.getChildByName('label_lists'), this.LabelName(huType));\n\t\t\tconsole.log(\"ShowPlayerJieSuan\", huType, huPoint);\n\t\t}\n\t},\n\t/*ShowPlayerJieSuan: function (ShowNode, huInfoAll) {\n\t\tlet huInfo = huInfoAll['endPoint'].huTypeMap;\n\t\tfor (let huType in huInfo) {\n\t\t\tlet huPoint = huInfo[huType];\n\t\t\tif(huType == \"AnGang\" || huType == \"Gang\" || huType == \"DianGang\" || huType == \"JieGang\" || huType == \"DiFen\"\n\t\t\t\t || huType == \"BaoHu\"){\n\t\t\t\tthis.ShowLabelName(ShowNode.getChildByName('label_lists'),this.LabelName(huType)+\"： \"+huPoint);\n\t\t\t}else if (huType == \"GSKH\") {\n\t\t\t\tthis.ShowLabelName(ShowNode.getChildByName('label_lists'),this.LabelName(huType)+\"：x\"+huPoint);\n\t\t\t}else if (huType == \"ZiMo\" || huType == \"Hu\" ) {\n\t\t\t\tthis.ShowLabelName(ShowNode.getChildByName('label_lists'),this.LabelName(huType)+\"(\"+huPoint+\"家)\");\n\t\t\t}else{\n\t\t\t\tthis.ShowLabelName(ShowNode.getChildByName('label_lists'),this.LabelName(huType));\n\t\t\t}\n\t\t}\n\t},*/\n\tLabelName: function (huType) {\n\t\tlet LabelArray = [];\n\t\tLabelArray['ShuKan'] = '数坎';\n\t\tLabelArray['Jian4cheng2'] = '见4乘2';\n\t\tLabelArray['ChuZi'] = '出字';\n\t\tLabelArray['QYSSZY'] = '清一色手抓一';\n\t\tLabelArray['QYSKWX'] = '清一色卡五星';\n\t\tLabelArray['QYSMSG'] = '清一色明四归';\n\t\tLabelArray['QYSASG'] = '清一色暗四归';\n\t\tLabelArray['ChaKan'] = '插坎';\n\n\t\tLabelArray['AnGang'] = '暗杠';\n\t\tLabelArray['JieGang'] = '接杠';\n\t\tLabelArray['Gang'] = '碰杠';\n\t\tLabelArray['AnGang'] = '暗杠';\n\t\tLabelArray['DianGang'] = '点杠';\n\t\tLabelArray['PingHu'] = '平胡';\n\t\tLabelArray['PPHu'] = '碰碰胡';\n\t\tLabelArray['KaWuXing'] = '卡五星';\n\t\tLabelArray['LiangDao'] = '亮倒';\n\t\tLabelArray['ShouZhuaYi'] = '手抓一';\n\t\tLabelArray['QYS'] = '清一色';\n\t\tLabelArray['QDHu'] = '七对胡';\n\t\tLabelArray['HDDHu'] = '豪华七小对';\n\t\tLabelArray['CHDDHu'] = '超级豪华对对胡';\n\t\tLabelArray['CCHDDHu'] = '超超级豪华对对胡';\n\t\tLabelArray['GSP'] = '杠上炮';\n\t\tLabelArray['QGH'] = '抢杠胡';\n\t\tLabelArray['DaSanYuan'] = '大三元';\n\t\tLabelArray['XiaoSanYuan'] = '小三元';\n\t\tLabelArray['MaiMa'] = '买马';\n\t\tLabelArray['ZiMo'] = '自摸';\n\t\tLabelArray['Hu'] = '胡';\n\t\tLabelArray['GSKH'] = '杠上花';\n\t\tLabelArray['SiMingGuiYi'] = '四明归一（全频道）';\n\t\tLabelArray['AnSiGuiYi'] = '暗四归一（全频道）';\n\t\tLabelArray['SiMingGuiYiB'] = '四明归一（半频道）';\n\t\tLabelArray['AnSiGuiYiB'] = '暗四归一（半频道）';\n\t\tLabelArray['DiFen'] = '底分';\n\t\tLabelArray['BaoHu'] = '包胡';\n\t\tLabelArray['MaiMa'] = '漂分';\n\t\tLabelArray['KanFen'] = '坎分';\n\t\tLabelArray['BQGH']='被抢杠胡扣分';\n\t\tLabelArray['PiaoFen']='飘分';\n\t\treturn LabelArray[huType];\n\t},\n});\n"]}