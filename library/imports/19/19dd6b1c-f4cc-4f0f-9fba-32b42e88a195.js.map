{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\UIResultAllDetail.js"],"names":["app","require","cc","Class","extends","properties","roomID","Node","jushu","endTime","btn_close","btn_sharelink","btn_share","btn_ddshare","btn_xlshare","btn_sharemore","sharemore","btn_exit","btn_pingfenkaiju","btn_wolaikaiju","btn_dayingjiakaiju","mj_layout_player","poker_layout_player","poker_title_list","pxcn_title_list","zjqzsk_title_list","SpriteMale","SpriteFrame","SpriteFeMale","OnCreateInit","FormManager","ComTool","SDKManager","isZhanJi","gametypeConfig","SysDataManager","GetTableDict","RegEvent","Event_CodeError","CloseForm","event","codeInfo","ShareDefine","NotFind_Room","SysNotifyManager","ShowSysMsg","LoadPrefabByGameType","prefabPath","gameType","that","ControlManager","CreateLoadPromise","Prefab","then","prefab","ErrLog","InitPlayer","catch","error","stack","DestroyAllChildren","layout_player","PlayerName","i","resultsList","length","pid","push","playerAll","name","addPlayer","instantiate","nowChildName","addChild","getComponent","ShowPlayerData","OnShow","basedata","playerlist","unionId","ShowForm","Type","GametTypeID2PinYin","node","getChildByName","active","layout_player_path","GameType_PXCN","GameType_ZJQZSK","GameType_BJPK","GameType_NN","GameType_SDH","GameType_CDP","GameType_HNDZP","time","setID","key","ShareShortRoomID","ShareLongRoomID","roomId","setId","Label","string","i18n","t","GetDateYearMonthDayHourMinuteString","OnClick","btnName","btnNode","Click_btn_Share","Click_btn_DDShare","Click_btn_XLShare","Click_btn_MWShare","Click_btn_ShareMore","Click_btn_Sharelink","SceneManager","LoadScene","ShareScreen","ShareScreenDD","ShareScreenXL","ShareScreenMW"],"mappings":"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","file":"UIResultAllDetail.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"app\");\ncc.Class({\n    extends: require(\"BaseForm\"),\n\n    properties: {\n        roomID:cc.Node,\n        jushu:cc.Node,\n        endTime:cc.Node,\n\n        btn_close:cc.Node,\n        btn_sharelink:cc.Node,\n\n        btn_share:cc.Node,\n        btn_ddshare:cc.Node,\n        btn_xlshare:cc.Node,\n\n        btn_sharemore:cc.Node,\n        sharemore:cc.Node,\n\n        btn_exit:cc.Node,\n\n        btn_pingfenkaiju:cc.Node,\n        btn_wolaikaiju:cc.Node,\n        btn_dayingjiakaiju:cc.Node,\n\n        mj_layout_player:cc.Node,\n        poker_layout_player:cc.Node,\n        poker_title_list:cc.Node,\n        pxcn_title_list:cc.Node,\n        zjqzsk_title_list: cc.Node,\n\n        SpriteMale:cc.SpriteFrame,\n        SpriteFeMale:cc.SpriteFrame,\n    },\n\n    OnCreateInit: function () {\n        this.FormManager = app.FormManager();\n        this.ComTool = app.ComTool();\n        this.SDKManager = app.SDKManager();\n        this.isZhanJi=false;\n        this.gametypeConfig = app.SysDataManager().GetTableDict(\"gametype\");\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\n        this.RegEvent(\"EVT_CloseDetail\", this.CloseForm, this);\n    },\n    Event_CodeError:function(event){\n        let codeInfo = event;\n        if(codeInfo[\"Code\"] == this.ShareDefine.NotFind_Room){\n            app.SysNotifyManager().ShowSysMsg('DissolveRoom');\n        }\n    },\n    LoadPrefabByGameType:function(){\n        let prefabPath = \"ui/uiGame/\" + this.gameType + \"/\" + this.gameType + \"_detail_child\";\n        let that = this;\n        app.ControlManager().CreateLoadPromise(prefabPath, cc.Prefab)\n            .then(function(prefab){\n                if(!prefab){\n                    that.ErrLog(\"LoadPrefabByGameType(%s) load spriteFrame fail\", prefabPath);\n                    return;\n                }\n                that.InitPlayer(prefab);\n            })\n            .catch(function(error){\n                that.ErrLog(\"LoadPrefabByGameType(%s) error:%s\", prefabPath, error.stack);\n            }\n        );\n    },\n    InitPlayer:function(prefab){\n        //this.layout_player.removeAllChildren();\n        this.DestroyAllChildren(this.layout_player);\n        this.PlayerName = [];\n        for(let i=0;i<this.resultsList.length;i++){\n            if (this.resultsList[i].pid == 0) continue;\n            this.PlayerName.push(this.playerAll[i].name);\n            let addPlayer = cc.instantiate(prefab);\n            this.nowChildName = addPlayer.name;\n            addPlayer.name=\"player\"+i;\n            this.layout_player.addChild(addPlayer);\n            addPlayer.getComponent(this.nowChildName).ShowPlayerData(this.resultsList, this.playerAll, i);\n        }\n    },\n    //-----------回调函数------------------\n   \n    OnShow: function (basedata=false,playerlist=false,gameType=\"\",unionId=0) {\n        this.unionId = unionId;\n        this.FormManager.ShowForm('UITop', \"UIResultAllDetail\");\n        let Type = this.gametypeConfig[gameType][\"Type\"];\n        this.gameType = app.ShareDefine().GametTypeID2PinYin[gameType];\n\t    this.node.getChildByName(\"bjpk_title_list\").active = false;\n        if (Type == 1) {\n            this.layout_player_path = \"mj_layout_player\";\n            this.mj_layout_player.active = true;\n            this.poker_layout_player.active = false;\n            this.layout_player = this.mj_layout_player;\n            this.poker_title_list.active = false;\n            this.pxcn_title_list.active = false;\n            this.zjqzsk_title_list.active = false;\n        }else{\n            this.layout_player_path = \"poker_layout_player\";\n            this.mj_layout_player.active = false;\n            this.poker_layout_player.active = true;\n            this.layout_player = this.poker_layout_player;\n            this.poker_title_list.active = true;\n\t        this.pxcn_title_list.active = false;\n            this.zjqzsk_title_list.active = false;\n            if (this.unionId > 0) {\n                this.poker_title_list.getChildByName(\"lb_sportsPoint\").active = true;\n            }else{\n                this.poker_title_list.getChildByName(\"lb_sportsPoint\").active = false;\n            }\n            if (this.gameType == app.ShareDefine().GametTypeID2PinYin[app.ShareDefine().GameType_PXCN]) {\n\t            this.poker_title_list.active = false;\n\t            this.pxcn_title_list.active = true;\n            }\n            if (this.gameType == app.ShareDefine().GametTypeID2PinYin[app.ShareDefine().GameType_ZJQZSK]) {\n\t            this.poker_title_list.active = false;\n\t            this.zjqzsk_title_list.active = true;\n            }\n            if (this.gameType == app.ShareDefine().GametTypeID2PinYin[app.ShareDefine().GameType_BJPK] ||\n\t            this.gameType == app.ShareDefine().GametTypeID2PinYin[app.ShareDefine().GameType_NN]) {\n\t            this.poker_title_list.active = false;\n\t            this.node.getChildByName(\"bjpk_title_list\").active = true;\n\t            if (this.unionId > 0) {\n\t\t            this.node.getChildByName(\"bjpk_title_list\").getChildByName(\"lb_sportsPoint\").active = true;\n\t            }else{\n\t\t            this.node.getChildByName(\"bjpk_title_list\").getChildByName(\"lb_sportsPoint\").active = false;\n\t            }\n            }\n            //扑克用的麻将结算排版\n            if (this.gameType == app.ShareDefine().GametTypeID2PinYin[app.ShareDefine().GameType_SDH] || this.gameType == app.ShareDefine().GametTypeID2PinYin[app.ShareDefine().GameType_CDP] ||\n                this.gameType == app.ShareDefine().GametTypeID2PinYin[app.ShareDefine().GameType_HNDZP]) {\n                this.mj_layout_player.active = true;\n                this.poker_layout_player.active = false;\n                this.layout_player = this.mj_layout_player;\n                this.poker_title_list.active = false;\n            }\n        }\n    \tthis.PlayerName=[];\n        let roomID=0;\n        let time=0;\n        let setID=0;\n        this.playerAll=false;\n        this.resultsList=false;\n        this.nowChildName = \"\";\n\n        roomID = basedata.key;\n        this.ShareShortRoomID=roomID;\n        this.ShareLongRoomID=basedata.roomId;\n        this.resultsList=basedata.resultsList;\n        time = basedata.endTime;\n        setID = basedata.setId;\n        this.playerAll=playerlist;\n\n        //初始化分享\n        this.sharemore.active=false;\n        \n        this.roomID.getComponent(cc.Label).string = \"房间号:\"+roomID;\n        if(setID==100){\n        \tthis.jushu.getComponent(cc.Label).string =\"共1考\";\n        }else{\n        \tthis.jushu.getComponent(cc.Label).string = app.i18n.t(\"UIWanFa_setCount\", {\"setCount\": setID});\n    \t}\n        this.endTime.getComponent(cc.Label).string = this.ComTool.GetDateYearMonthDayHourMinuteString(time);\n\n        this.LoadPrefabByGameType();\n    },\n    //---------设置接口---------------\n\n    //---------点击函数---------------------\n    OnClick:function(btnName, btnNode){\n        if(btnName==\"btn_share\"){\n            this.Click_btn_Share();\n        }else if(btnName==\"btn_ddshare\"){\n            this.Click_btn_DDShare();\n        }else if(btnName==\"btn_xlshare\"){\n            this.Click_btn_XLShare();\n        }else if(btnName==\"btn_mwshare\"){\n            this.Click_btn_MWShare();\n        }else if(btnName==\"btn_sharemore\"){\n            this.Click_btn_ShareMore();\n        }else if(btnName==\"btn_closeshare\"){\n            this.sharemore.active=false;\n        }else if(btnName==\"btn_sharelink\"){\n            this.Click_btn_Sharelink();\n        }else if(btnName == \"btn_exit\"){\n            app.SceneManager().LoadScene(\"mainScene\");\n        }else if(btnName == \"btn_close\"){\n            this.CloseForm();\n        }else{\n            this.ErrLog(\"OnClick not find btnName\",btnName);\n        }\n    },\n    Click_btn_Share:function(){\n        this.sharemore.active=false;\n        this.SDKManager.ShareScreen();\n    },\n    Click_btn_DDShare:function(){\n        this.sharemore.active=false;\n        this.SDKManager.ShareScreenDD();\n    },\n    Click_btn_XLShare:function(){\n        this.sharemore.active=false;\n        this.SDKManager.ShareScreenXL();\n    },\n    Click_btn_MWShare:function(){\n        this.sharemore.active=false;\n        this.SDKManager.ShareScreenMW();\n    },\n    Click_btn_ShareMore:function(){\n        let active=this.sharemore.active;\n        if(active==true){\n            this.sharemore.active=false;\n        }else{\n            this.sharemore.active=true;\n        }\n        \n    },\n});\n"]}