{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\cp/assets\\script\\ui\\uiGame\\cp\\cp_winlost_child.js"],"names":["app","require","cc","Class","extends","properties","NodeHuType","Node","max_cardPrefab","Prefab","SpriteMale","SpriteFrame","SpriteFeMale","kongge","OnLoad","PokerCard","ComTool","ShareDefine","IntegrateImage","SysDataManager","GetTableDict","showGangNum","ShowPlayerData","setEnd","playerAll","index","console","log","jin1","jin","jin2","dPos","posResultList","posHuArray","Array","posCount","length","i","posInfo","pos","posHuType","HuTypeStringDict","PlayerInfo","node","active","UpdatePlayData","maPaiLst","getChildByName","WeChatManager","InitHeroHeadImage","weChatHeadImage","getComponent","ShowHeroHead","PlayerNode","HuList","jiesuan","GetWndNode","hutypelayout","removeAllChildren","ShowPlayerRecord","ShowPlayerInfo","ShowBaiPaiList","ShowHuType","ShowFanShu","playerNode","baiPaiList","baiPaiNodeList","baiPaiItem","cardId","instantiate","addChild","GetSelfPokeCard","Label","string","poker","cardNode","isHu","type","Math","floor","iconSp","Sprite","loader","loadRes","err","spriteFrame","error","huType","fanShu","ShowNode","huInfo","fanNum","point","roompoint","GetBeiZhuName","GetPid","HeroSex_Boy","HeroSex_Girl","ShowPlayerJieSuan","huInfoAll","children","ShowPlayerHuType","huTypeMap","huTypeMapStr","ErShiSiTuoHong","ShiTuoHong","TuoTuoHong","TuoTuoHei","HeiLong","TianHu","XiaoHu","SiZhang","ChongTianFan","BaoJiao","ChiPiao","key","huNode","huTypeStr","huTypePoint","ShowPlayerShowCard","cardIDList","shouCard","SortShouCard","cardListNode","j","cardValue","ShowCard","ShowPlayerCPGCard","cardArr","cardList","slice","ShowPlayerHuCard","handCard","cardType","GetPokeCard","type1","aycp_pokerDict","GetCardValue","LOGIC_MASK_VALUE","wndPath","wndNode","find","ErrLog","pokers","GetMonyPais","sort","a","b","allResults","useDanPai","l","value","target","indexOf","push","concat","cAllResults","cards","chai","chai1","chai2","GetSameValue","bInList4","CheckPokerInListEx","PushTipCard","tagCard","sameValueList","tagCardValue","pokerValue","list","bInList","item","tagValue","samePoker","len","temp","reverse"],"mappings":"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","file":"cp_winlost_child.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\cp","sourcesContent":["/*\n UICard01-04 牌局吃到的牌显示\n */\n\nlet app = require(\"app\");\n\ncc.Class({\n\textends: require(\"BaseMJ_winlost_child\"),\n\n\tproperties: {\n\t\tNodeHuType: cc.Node,\n\t\tmax_cardPrefab: cc.Prefab,\n\t\tSpriteMale: cc.SpriteFrame,\n\t\tSpriteFeMale: cc.SpriteFrame,\n\t\tkongge: cc.Node,\n\t},\n\n\t// use this for initialization\n\tOnLoad: function () {\n\t\tthis.PokerCard = app.PokerCard();\n\t\tthis.ComTool = app.ComTool();\n\t\tthis.ShareDefine = app.ShareDefine();\n\t\tthis.IntegrateImage = app.SysDataManager().GetTableDict(\"IntegrateImage\");\n\t\tthis.showGangNum = 1;\n\t},\n\tShowPlayerData: function (setEnd, playerAll, index) {\n\t\tconsole.log(\"setEnd\", setEnd);\n\t\tlet jin1 = setEnd.jin;\n\t\tlet jin2 = 0;\n\t\tif (setEnd.jin2 > 0) {\n\t\t\tjin2 = setEnd.jin2;\n\t\t}\n\t\tlet dPos = setEnd.dPos;\n\t\tlet posResultList = setEnd[\"posResultList\"];\n\t\tlet posHuArray = new Array();\n\t\tlet posCount = posResultList.length;\n\t\tfor (let i = 0; i < posCount; i++) {\n\t\t\tlet posInfo = posResultList[i];\n\t\t\tlet pos = posInfo[\"pos\"];\n\t\t\tlet posHuType = this.ShareDefine.HuTypeStringDict[posInfo[\"huType\"]];\n\t\t\tposHuArray[pos] = posHuType;\n\t\t}\n\t\tlet PlayerInfo = playerAll[index];\n\t\tPlayerInfo[\"xiaoJiaFlag\"] = posResultList[index][\"xiaoJiaFlag\"];\n\t\tthis.node.active = true;\n\t\tthis.UpdatePlayData(this.node, posResultList[index], PlayerInfo, jin1, jin2, setEnd.maPaiLst);\n\n\t\tif (dPos === index) {\n\t\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = true;\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"user_info\").getChildByName(\"zhuangjia\").active = false;\n\t\t}\n\t\t//显示头像，如果头像UI\n\t\tif (PlayerInfo[\"pid\"] && PlayerInfo[\"iconUrl\"]) {\n\t\t\tapp.WeChatManager().InitHeroHeadImage(PlayerInfo[\"pid\"], PlayerInfo[\"iconUrl\"]);\n\t\t}\n\t\tlet weChatHeadImage = this.node.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(\"WeChatHeadImage\");\n\t\tweChatHeadImage.ShowHeroHead(PlayerInfo[\"pid\"]);\n\t},\n\tUpdatePlayData: function (PlayerNode, HuList, PlayerInfo) {\n\t\tthis.jiesuan = this.GetWndNode(\"layoutall/layoutlist/jiesuan\");\n\t\tthis.hutypelayout = this.GetWndNode(\"layoutall/layoutlist/hutypelayout\");\n\t\tthis.node.getChildByName(\"showcard\").removeAllChildren();\n\t\tthis.hutypelayout.removeAllChildren();\n\t\tthis.ShowPlayerRecord(PlayerNode, HuList);\n\t\t// this.ShowPlayerHuType(HuList);\n\t\tthis.ShowPlayerInfo(PlayerNode.getChildByName(\"user_info\"), PlayerInfo);\n\t\t// this.ShowPlayerCPGCard(PlayerNode.getChildByName(\"showcard\"), HuList[\"publicCardList\"]);\n\t\t// this.ShowPlayerShowCard(PlayerNode.getChildByName(\"showcard\"), HuList[\"shouCard\"]);\n\t\t// this.ShowPlayerHuCard(PlayerNode.getChildByName(\"showcard\"), HuList[\"handCard\"]);\n\t\t// this.ShowPlayerHuCard(PlayerNode.getChildByName(\"showcard\"), HuList[\"huCard\"]);\n\t\t// this.ShowPlayerJieSuan(HuList);\n\t\tthis.ShowBaiPaiList(PlayerNode, HuList[\"baiPaiList\"]);\n\t\tthis.ShowHuType(PlayerNode, HuList[\"huType\"]);\n\t\tthis.ShowFanShu(PlayerNode, HuList[\"fanShu\"]);\n\t},\n\n\tShowBaiPaiList: function (playerNode, baiPaiList) {\n\t\tlet baiPaiNodeList = playerNode.getChildByName(\"baiPaiList\");\n\t\tlet baiPaiItem = playerNode.getChildByName(\"baiPaiItem\");\n\t\tbaiPaiNodeList.removeAllChildren();\n\n\t\tfor (let i = 0; i < baiPaiList.length; i++) {\n\t\t\tlet cardId = baiPaiList[i];\n\t\t\tlet node = cc.instantiate(baiPaiItem);\n\t\t\tbaiPaiNodeList.addChild(node);\n\t\t\tnode.active = true;\n\t\t\tnode.cardId = cardId;\n\t\t\tthis.GetSelfPokeCard(cardId, node);\n\t\t}\n\t\tplayerNode.getChildByName(\"lb_baiPaiCount\").getComponent(cc.Label).string = \"摆牌：\" + baiPaiList.length + \"张\"\n\t},\n\n\tGetSelfPokeCard: function (poker, cardNode, isHu = false) {\n\t\tif (0 == poker) {\n\t\t\treturn;\n\t\t}\n\t\tcardNode.active = true;\n\t\tlet type = Math.floor(poker / 100);\n\t\tlet iconSp = cardNode.getComponent(cc.Sprite);\n\t\t// iconSp.spriteFrame = this.selfPokerDict[type];\n\t\t\n\t\tcc.loader.loadRes(\"ui/uiGame/cp/self/\" + type, cc.SpriteFrame, function (err, spriteFrame) {\n\t\t\tif (err) {\n\t\t\t\tcc.error(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ticonSp.spriteFrame = spriteFrame;\n\t\t});\n\t},\n\n\tShowHuType: function (playerNode, huType) {\n\t\tplayerNode.getChildByName(\"img_hu\").active = huType == \"ZiMo\";\n\t},\n\n\tShowFanShu: function (playerNode, fanShu) {\n\t\tplayerNode.getChildByName(\"lb_fanShu\").getComponent(cc.Label).string = fanShu + \"番\";\n\t},\n\n\tShowPlayerRecord: function (ShowNode, huInfo) {\n\t\tlet fanNum = huInfo[\"fanNum\"];\n\t\tShowNode.getChildByName(\"record\").getComponent(\"cc.Label\").string = fanNum + \"番\";\n\t\tlet point = ShowNode.getChildByName(\"point\");\n\t\tpoint.active = true;\n\t\tif (huInfo[\"point\"] > 0) {\n\t\t\tpoint.getComponent(\"cc.Label\").string = \"+\" + huInfo[\"point\"];\n\t\t} else {\n\t\t\tpoint.getComponent(\"cc.Label\").string = huInfo[\"point\"];\n\t\t}\n\t\t// let hudian = ShowNode.getChildByName(\"hudian\");\n\t\t// hudian.active = true;\n\t\t// if (huInfo[\"huDian\"] > 0) {\n\t\t// \thudian.getComponent(\"cc.Label\").string = \"+\" + huInfo[\"huDian\"] + \"点\";\n\t\t// } else {\n\t\t// \thudian.getComponent(\"cc.Label\").string = huInfo[\"huDian\"] + \"点\";\n\t\t// }\n\t\tlet roompoint = ShowNode.getChildByName(\"roompoint\");\n\t\troompoint.active = true;\n\t\tif (huInfo[\"roomPoint\"] > 0) {\n\t\t\troompoint.getComponent(\"cc.Label\").string = \"总分：+\" + huInfo[\"roomPoint\"];\n\t\t} else {\n\t\t\troompoint.getComponent(\"cc.Label\").string = \"总分：\" + huInfo[\"roomPoint\"];\n\t\t}\n\t\t//显示竞技点\n\t\tif (typeof (huInfo[\"sportsPoint\"]) != \"undefined\") {\n\t\t\tif (huInfo[\"sportsPoint\"] > 0) {\n\t\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").getComponent(cc.Label).string = \"比赛分：+\" + huInfo[\"sportsPoint\"];\n\t\t\t} else {\n\t\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").getComponent(cc.Label).string = \"比赛分：\" + huInfo[\"sportsPoint\"];\n\t\t\t}\n\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").active = true;\n\t\t} else {\n\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").getComponent(cc.Label).string = \"\";\n\t\t\tthis.node.getChildByName(\"lb_SportsPoint\").active = false;\n\t\t}\n\t},\n\tShowPlayerInfo: function (ShowNode, PlayerInfo) {\n\t\tShowNode.getChildByName(\"lable_name\").getComponent(\"cc.Label\").string = this.ComTool.GetBeiZhuName(PlayerInfo[\"pid\"], PlayerInfo[\"name\"]);\n\t\tShowNode.getChildByName(\"label_id\").getComponent(\"cc.Label\").string = this.ComTool.GetPid(PlayerInfo[\"pid\"]);\n\t\tShowNode.getChildByName(\"img_xiao\").active = PlayerInfo[\"xiaoJiaFlag\"];\n\t\t/*if (PlayerInfo[\"piaoHua\"] == 1) {\n\t\t\tShowNode.getChildByName(\"btn_p\").active = true;\n\t\t\tShowNode.getChildByName(\"btn_bp\").active = false;\n\t\t} else if (PlayerInfo[\"piaoHua\"] == 0) {\n\t\t\tShowNode.getChildByName(\"btn_p\").active = false;\n\t\t\tShowNode.getChildByName(\"btn_bp\").active = true;\n\t\t} else if (PlayerInfo[\"piaoHua\"] == -1) {\n\t\t\tShowNode.getChildByName(\"btn_p\").active = false;\n\t\t\tShowNode.getChildByName(\"btn_bp\").active = false;\n\t\t}*/\n\t\tShowNode.getChildByName(\"btn_p\").active = false;\n\t\tShowNode.getChildByName(\"btn_bp\").active = false;\n\t\tif (PlayerInfo[\"sex\"] == this.ShareDefine.HeroSex_Boy) {\n\t\t\tShowNode.getChildByName(\"sex\").getComponent(cc.Sprite).SpriteFrame = this.SpriteMale;\n\t\t} else if (PlayerInfo[\"sex\"] == this.ShareDefine.HeroSex_Girl) {\n\t\t\tShowNode.getChildByName(\"sex\").getComponent(cc.Sprite).SpriteFrame = this.SpriteFeMale;\n\t\t}\n\t},\n\tShowPlayerJieSuan: function (huInfoAll) {\n\t\tfor (let i = 0; i < this.jiesuan.children.length; i++) {\n\t\t\tthis.jiesuan.children[i].active = false;\n\t\t}\n\t\tlet huType = huInfoAll[\"huType\"];\n\t\tif (\"QGH\" == huType) {\n\t\t\thuType = \"JiePao\"\n\t\t}\n\t\tif (huType != \"NotHu\") {\n\t\t\tthis.jiesuan.getChildByName(huType).active = true;\n\t\t}\n\t\tif (huType == \"PingHu\") {\n\t\t\tthis.jiesuan.getChildByName(\"Hu\").active = false;\n\t\t}\n\t},\n\tShowPlayerHuType: function (huInfoAll) {\n\t\tlet huTypeMap = huInfoAll[\"endPoint\"][\"huTypeMap\"];\n\t\tlet huTypeMapStr = {\n\t\t\tErShiSiTuoHong: \"龙胡\",\n\t\t\tShiTuoHong: \"十坨红\",\n\t\t\tTuoTuoHong: \"坨坨红\",\n\t\t\tTuoTuoHei: \"坨坨黑\",\n\t\t\tHeiLong: \"黑龙\",\n\t\t\tTianHu: \"天胡\",\n\t\t\tXiaoHu: \"小胡\",\n\t\t\tSiZhang: \"四张\",\n\t\t\tChongTianFan: \"冲番牌\",\n\t\t\tBaoJiao: \"报叫\",\n\t\t\tChiPiao: \"吃飘\",\n\t\t};\n\t\tfor (let key in huTypeMap) {\n\t\t\tlet huNode = cc.instantiate(this.NodeHuType);\n\t\t\tlet huTypeStr = huTypeMapStr[key];\n\t\t\tlet huTypePoint = huTypeMap[key];\n\t\t\tif (key == \"XiaoHu\" || key == \"ChiPiao\") {\n\t\t\t\thuTypePoint = \"\";\n\t\t\t}\n\t\t\thuNode.getComponent(cc.Label).string = huTypeStr + huTypePoint;\n\t\t\tthis.hutypelayout.addChild(huNode);\n\t\t}\n\t},\n\tShowPlayerShowCard: function (ShowNode, cardIDList) {\n\t\tlet shouCard = this.SortShouCard(cardIDList);\n\t\tlet cardListNode = ShowNode;\n\t\tfor (let i = 0; i < shouCard.length; i++) {\n\t\t\tfor (let j = 0; j < shouCard[i].length; j++) {\n\t\t\t\tlet cardValue = shouCard[i][j];\n\t\t\t\tlet cardNode = cc.instantiate(this.max_cardPrefab);\n\t\t\t\tthis.ShowCard(cardValue, cardNode);\n\t\t\t\tcardListNode.addChild(cardNode);\n\t\t\t}\n\t\t\tlet kongge = cc.instantiate(this.kongge);\n\t\t\tcardListNode.addChild(kongge);\n\t\t}\n\t},\n\tShowPlayerCPGCard: function (ShowNode, cardIDList) {\n\t\tlet cardListNode = ShowNode;\n\t\tcardListNode.removeAllChildren();\n\t\tfor (let i = 0; i < cardIDList.length; i++) {//[[1,2],[4,5]]\n\t\t\tlet cardArr = cardIDList[i];\n\t\t\tlet cardList = cardArr.slice(3, cardArr.length);\n\t\t\tfor (let j = 0; j < cardList.length; j++) {\n\t\t\t\tlet cardNode = cc.instantiate(this.max_cardPrefab);\n\t\t\t\tlet cardValue = cardList[j];\n\t\t\t\tthis.ShowCard(cardValue, cardNode);\n\t\t\t\tcardListNode.addChild(cardNode);\n\t\t\t}\n\t\t\tlet kongge = cc.instantiate(this.kongge);\n\t\t\tcardListNode.addChild(kongge);\n\t\t}\n\t},\n\tShowPlayerHuCard: function (ShowNode, handCard) {\n\t\tif (handCard == 0) {\n\t\t\treturn;\n\t\t}\n\t\tlet cardListNode = ShowNode;\n\t\tlet cardNode = cc.instantiate(this.max_cardPrefab);\n\t\tthis.ShowCard(handCard, cardNode, true);\n\t\tcardListNode.addChild(cardNode);\n\t\tthis.jiesuan.getChildByName(\"Hu\").active = true;\n\t},\n\t//显示poker牌\n\tShowCard: function (cardType, cardNode, isHu = false) {\n\t\tthis.GetPokeCard(cardType, cardNode, isHu);\n\t\tcardNode.active = true;\n\t\tcardNode.getChildByName(\"poker_back\").active = false;\n\t},\n\tGetPokeCard: function (poker, cardNode, isHu = false) {\n\t\tif (0 == poker) {\n\t\t\treturn;\n\t\t}\n\t\tlet type1 = Math.floor(poker / 100);\n\t\tlet iconSp = cardNode.getChildByName(\"icon\").getComponent(cc.Sprite);\n\t\tcardNode.getChildByName(\"img_hupai\").active = isHu;\n\t\ticonSp.spriteFrame = this.PokerCard.aycp_pokerDict[type1];\n\t},\n\t//获取牌值\n\tGetCardValue: function (poker) {\n\t\tpoker = Math.floor(poker / 100);\n\t\treturn poker & this.LOGIC_MASK_VALUE;\n\t},\n\tGetWndNode: function (wndPath) {\n\t\tlet wndNode = cc.find(wndPath, this.node);\n\t\tif (!wndNode) {\n\t\t\tthis.ErrLog(\"GetWndNode(%s) not find\", wndPath);\n\t\t\treturn;\n\t\t}\n\t\treturn wndNode;\n\t},\n\tSortShouCard: function (shouCard) {\n\t\tif (shouCard[0] == 0) {\n\t\t\tconsole.error(\"没有手牌\", shouCard);\n\t\t\treturn;\n\t\t}\n\t\t//4行7竖\n\t\t//第一排从小到大排序\n\t\t//第二排可以凑14点的开始排，多出4行另取一竖，往后继续叠加\n\t\t//找出相同的牌值为1组\n\t\tlet pokers = this.GetMonyPais(shouCard);\n\t\tfor (let i = 0; i < pokers.length; i++) {\n\t\t\tpokers[i].sort((a, b) => {\n\t\t\t\treturn this.GetCardValue(a) - this.GetCardValue(b);\n\t\t\t});\n\t\t}\n\n\t\tlet allResults = [];\n\t\tlet useDanPai = [];\n\t\t//1、单张和多组牌组成14张\n\t\t//多张和多组牌组成14张  4张和4张\n\n\t\tfor (let l = 0; l < pokers.length; l++) {\n\t\t\tfor (let i = l + 1; i < pokers.length; i++) {\n\t\t\t\tlet value = this.GetCardValue(pokers[l][0]);\n\t\t\t\tlet target = this.GetCardValue(pokers[i][0]);\n\t\t\t\tif (value + target == 14) {\n\t\t\t\t\tif (useDanPai.indexOf(pokers[l][0]) > -1 || useDanPai.indexOf(pokers[i][0]) > -1) {\n\t\t\t\t\t\tconsole.error(\"已经在使用过的数组中了\");\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tallResults.push(pokers[l].concat(pokers[i]));\n\t\t\t\t\tuseDanPai = [].concat(useDanPai, pokers[l], pokers[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//没有用过剩余的牌从小到大排序\n\t\tfor (let i = 0; i < pokers.length; i++) {\n\t\t\tfor (let j = 0; j < pokers[i].length; j++) {\n\t\t\t\tif (useDanPai.indexOf(pokers[i][j]) < 0) {\n\t\t\t\t\tallResults.push(pokers[i]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tallResults.sort((a, b) => {\n\t\t\treturn this.GetCardValue(a[0]) - this.GetCardValue(b[0]);\n\t\t});\n\t\t//将超过4张的那组牌进行分离\n\t\tlet cAllResults = [];\n\t\tfor (let i = 0; i < allResults.length; i++) {\n\t\t\tlet cards = allResults[i];\n\t\t\tif (cards.length <= 4) {\n\t\t\t\tcAllResults.push(allResults[i]);\n\t\t\t} else {// > 4\n\t\t\t\tlet chai = [];\n\t\t\t\tlet chai1 = [];\n\t\t\t\tlet chai2 = [];\n\t\t\t\tfor (let i = 0; i < cards.length; i++) {\n\t\t\t\t\tif (i < 4) {\n\t\t\t\t\t\tchai1.push(cards[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchai2.push(cards[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchai.push(chai1, chai2);\n\t\t\t\tchai.sort((a, b) => {\n\t\t\t\t\treturn this.GetCardValue(a[0]) - this.GetCardValue(b[0]);\n\t\t\t\t});\n\t\t\t\tfor (let j = 0; j < chai.length; j++) {\n\t\t\t\t\tcAllResults.push(chai[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconsole.log(\"3整理后的手牌\", cAllResults, allResults, useDanPai);\n\t\treturn cAllResults;\n\t},\n\tGetMonyPais: function (shouCard) {\n\t\tlet cards = [];\n\t\tfor (let i = 0; i < shouCard.length; i++) {\n\t\t\tlet poker = shouCard[i];\n\t\t\tlet pokers = this.GetSameValue(shouCard, poker);\n\t\t\tlet bInList4 = this.CheckPokerInListEx(cards, poker);\n\t\t\tif (!bInList4) {\n\t\t\t\tthis.PushTipCard(cards, pokers, pokers.length);\n\t\t\t}\n\t\t}\n\t\tconsole.log(\"获取相同的牌值的数组\", cards);\n\t\treturn cards;\n\t},\n\t//获取同一牌值\n\tGetSameValue: function (pokers, tagCard) {\n\t\tlet sameValueList = [];\n\t\tlet tagCardValue = this.GetCardValue(tagCard);\n\t\tfor (let i = 0; i < pokers.length; i++) {\n\t\t\tlet poker = pokers[i];\n\t\t\tlet pokerValue = this.GetCardValue(poker);\n\n\t\t\tif (tagCardValue == pokerValue) {\n\t\t\t\tsameValueList[sameValueList.length] = poker;\n\t\t\t}\n\t\t}\n\t\treturn sameValueList\n\t},\n\tCheckPokerInListEx: function (list, tagCard) {\n\t\tif (list.length == 0) {\n\t\t\treturn false;\n\t\t}\n\t\tlet bInList = false;\n\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\tlet item = list[i];\n\t\t\tlet cardValue = this.GetCardValue(item[0]);\n\t\t\tlet tagValue = this.GetCardValue(tagCard);\n\n\t\t\tif (cardValue == tagValue) {\n\t\t\t\tbInList = true;\n\t\t\t}\n\t\t}\n\t\treturn bInList;\n\t},\n\tPushTipCard: function (pokers, samePoker, len) {\n\t\tlet temp = [];\n\t\tsamePoker.reverse();\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\ttemp.push(samePoker[i]);\n\t\t}\n\t\tpokers.push(temp);\n\t},\n});"]}